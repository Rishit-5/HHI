var Ew=Object.defineProperty;var Sw=(t,e,n)=>e in t?Ew(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $f=(t,e,n)=>(Sw(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ah(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K_={exports:{}},tl={},q_={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),Tw=Symbol.for("react.portal"),Pw=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),Iw=Symbol.for("react.profiler"),Lw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),Rw=Symbol.for("react.suspense"),Ow=Symbol.for("react.memo"),Aw=Symbol.for("react.lazy"),Gf=Symbol.iterator;function Dw(t){return t===null||typeof t!="object"?null:(t=Gf&&t[Gf]||t["@@iterator"],typeof t=="function"?t:null)}var Y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q_=Object.assign,X_={};function Tr(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||Y_}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J_(){}J_.prototype=Tr.prototype;function lh(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||Y_}var uh=lh.prototype=new J_;uh.constructor=lh;Q_(uh,Tr.prototype);uh.isPureReactComponent=!0;var Kf=Array.isArray,em=Object.prototype.hasOwnProperty,ch={current:null},tm={key:!0,ref:!0,__self:!0,__source:!0};function nm(t,e,n){var r,s={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)em.call(e,r)&&!tm.hasOwnProperty(r)&&(s[r]=e[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];s.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:Ks,type:t,key:a,ref:u,props:s,_owner:ch.current}}function bw(t,e){return{$$typeof:Ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ks}function zw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qf=/\/+/g;function cu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zw(""+t.key):e.toString(36)}function Jo(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Ks:case Tw:u=!0}}if(u)return u=t,s=s(u),t=r===""?"."+cu(u,0):r,Kf(s)?(n="",t!=null&&(n=t.replace(qf,"$&/")+"/"),Jo(s,e,n,"",function(p){return p})):s!=null&&(hh(s)&&(s=bw(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(qf,"$&/")+"/")+t)),e.push(s)),1;if(u=0,r=r===""?".":r+":",Kf(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+cu(a,h);u+=Jo(a,e,n,d,s)}else if(d=Dw(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+cu(a,h++),u+=Jo(a,e,n,d,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Ro(t,e,n){if(t==null)return t;var r=[],s=0;return Jo(t,r,"","",function(a){return e.call(n,a,s++)}),r}function Fw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},ea={transition:null},Bw={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:ea,ReactCurrentOwner:ch};ne.Children={map:Ro,forEach:function(t,e,n){Ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ro(t,function(){e++}),e},toArray:function(t){return Ro(t,function(e){return e})||[]},only:function(t){if(!hh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Tr;ne.Fragment=Pw;ne.Profiler=Iw;ne.PureComponent=lh;ne.StrictMode=kw;ne.Suspense=Rw;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bw;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Q_({},t.props),s=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=ch.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)em.call(e,d)&&!tm.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:Ks,type:t.type,key:s,ref:a,props:r,_owner:u}};ne.createContext=function(t){return t={$$typeof:Nw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lw,_context:t},t.Consumer=t};ne.createElement=nm;ne.createFactory=function(t){var e=nm.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Mw,render:t}};ne.isValidElement=hh;ne.lazy=function(t){return{$$typeof:Aw,_payload:{_status:-1,_result:t},_init:Fw}};ne.memo=function(t,e){return{$$typeof:Ow,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=ea.transition;ea.transition={};try{t()}finally{ea.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return ot.current.useCallback(t,e)};ne.useContext=function(t){return ot.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};ne.useEffect=function(t,e){return ot.current.useEffect(t,e)};ne.useId=function(){return ot.current.useId()};ne.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return ot.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};ne.useRef=function(t){return ot.current.useRef(t)};ne.useState=function(t){return ot.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return ot.current.useTransition()};ne.version="18.2.0";q_.exports=ne;var $=q_.exports;const Jt=ah($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw=$,Ww=Symbol.for("react.element"),Hw=Symbol.for("react.fragment"),jw=Object.prototype.hasOwnProperty,Zw=Uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vw={key:!0,ref:!0,__self:!0,__source:!0};function im(t,e,n){var r,s={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)jw.call(e,r)&&!Vw.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ww,type:t,key:a,ref:u,props:s,_owner:Zw.current}}tl.Fragment=Hw;tl.jsx=im;tl.jsxs=im;K_.exports=tl;var D=K_.exports,Ku={},rm={exports:{}},Et={},sm={exports:{}},om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,K){var A=I.length;I.push(K);e:for(;0<A;){var G=A-1>>>1,se=I[G];if(0<s(se,K))I[G]=K,I[A]=se,A=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var K=I[0],A=I.pop();if(A!==K){I[0]=A;e:for(var G=0,se=I.length,Ae=se>>>1;G<Ae;){var he=2*(G+1)-1,ae=I[he],q=he+1,lt=I[q];if(0>s(ae,A))q<se&&0>s(lt,ae)?(I[G]=lt,I[q]=A,G=q):(I[G]=ae,I[he]=A,G=he);else if(q<se&&0>s(lt,A))I[G]=lt,I[q]=A,G=q;else break e}}return K}function s(I,K){var A=I.sortIndex-K.sortIndex;return A!==0?A:I.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,m=null,v=3,E=!1,T=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var K=n(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=I)r(p),K.sortIndex=K.expirationTime,e(d,K);else break;K=n(p)}}function M(I){if(P=!1,S(I),!T)if(n(d)!==null)T=!0,Ve(z);else{var K=n(p);K!==null&&rn(M,K.startTime-I)}}function z(I,K){T=!1,P&&(P=!1,C(H),H=-1),E=!0;var A=v;try{for(S(K),m=n(d);m!==null&&(!(m.expirationTime>K)||I&&!fe());){var G=m.callback;if(typeof G=="function"){m.callback=null,v=m.priorityLevel;var se=G(m.expirationTime<=K);K=t.unstable_now(),typeof se=="function"?m.callback=se:m===n(d)&&r(d),S(K)}else r(d);m=n(d)}if(m!==null)var Ae=!0;else{var he=n(p);he!==null&&rn(M,he.startTime-K),Ae=!1}return Ae}finally{m=null,v=A,E=!1}}var B=!1,U=null,H=-1,ve=5,X=-1;function fe(){return!(t.unstable_now()-X<ve)}function Be(){if(U!==null){var I=t.unstable_now();X=I;var K=!0;try{K=U(!0,I)}finally{K?ni():(B=!1,U=null)}}else B=!1}var ni;if(typeof w=="function")ni=function(){w(Be)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Ll=xt.port2;xt.port1.onmessage=Be,ni=function(){Ll.postMessage(null)}}else ni=function(){W(Be,0)};function Ve(I){U=I,B||(B=!0,ni())}function rn(I,K){H=W(function(){I(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,Ve(z))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(I){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var A=v;v=K;try{return I()}finally{v=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=v;v=I;try{return K()}finally{v=A}},t.unstable_scheduleCallback=function(I,K,A){var G=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,I){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=A+se,I={id:g++,callback:K,priorityLevel:I,startTime:A,expirationTime:se,sortIndex:-1},A>G?(I.sortIndex=A,e(p,I),n(d)===null&&I===n(p)&&(P?(C(H),H=-1):P=!0,rn(M,A-G))):(I.sortIndex=se,e(d,I),T||E||(T=!0,Ve(z))),I},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(I){var K=v;return function(){var A=v;v=K;try{return I.apply(this,arguments)}finally{v=A}}}})(om);sm.exports=om;var $w=sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=$,Ct=$w;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lm=new Set,ws={};function Ii(t,e){fr(t,e),fr(t+"Capture",e)}function fr(t,e){for(ws[t]=e,t=0;t<e.length;t++)lm.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=Object.prototype.hasOwnProperty,Gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yf={},Qf={};function Kw(t){return qu.call(Qf,t)?!0:qu.call(Yf,t)?!1:Gw.test(t)?Qf[t]=!0:(Yf[t]=!0,!1)}function qw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yw(t,e,n,r){if(e===null||typeof e>"u"||qw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,s,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var dh=/[\-:]([a-z])/g;function fh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dh,fh);Ye[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dh,fh);Ye[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dh,fh);Ye[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function ph(t,e,n,r){var s=Ye.hasOwnProperty(e)?Ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yw(e,n,s,r)&&(n=null),r||s===null?Kw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oo=Symbol.for("react.element"),ji=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),_h=Symbol.for("react.strict_mode"),Yu=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),cm=Symbol.for("react.context"),mh=Symbol.for("react.forward_ref"),Qu=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),hm=Symbol.for("react.offscreen"),Xf=Symbol.iterator;function Vr(t){return t===null||typeof t!="object"?null:(t=Xf&&t[Xf]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,hu;function is(t){if(hu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hu=e&&e[1]||""}return`
`+hu+t}var du=!1;function fu(t,e){if(!t||du)return"";du=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=r.stack.split(`
`),u=s.length-1,h=a.length-1;1<=u&&0<=h&&s[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(s[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||s[u]!==a[h]){var d=`
`+s[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{du=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?is(t):""}function Qw(t){switch(t.tag){case 5:return is(t.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 2:case 15:return t=fu(t.type,!1),t;case 11:return t=fu(t.type.render,!1),t;case 1:return t=fu(t.type,!0),t;default:return""}}function Ju(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zi:return"Fragment";case ji:return"Portal";case Yu:return"Profiler";case _h:return"StrictMode";case Qu:return"Suspense";case Xu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cm:return(t.displayName||"Context")+".Consumer";case um:return(t._context.displayName||"Context")+".Provider";case mh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gh:return e=t.displayName||null,e!==null?e:Ju(t.type)||"Memo";case Ln:e=t._payload,t=t._init;try{return Ju(t(e))}catch{}}return null}function Xw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ju(e);case 8:return e===_h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jw(t){var e=dm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ao(t){t._valueTracker||(t._valueTracker=Jw(t))}function fm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function da(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ec(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pm(t,e){e=e.checked,e!=null&&ph(t,"checked",e,!1)}function tc(t,e){pm(t,e);var n=Gn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nc(t,e.type,n):e.hasOwnProperty("defaultValue")&&nc(t,e.type,Gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ep(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nc(t,e,n){(e!=="number"||da(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rs=Array.isArray;function ir(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ic(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(rs(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gn(n)}}function _m(t,e){var n=Gn(e.value),r=Gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function np(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Do,gm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Do.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eC=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(t){eC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),as[e]=as[t]})});function vm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||as.hasOwnProperty(t)&&as[t]?(""+e).trim():e+"px"}function ym(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tC=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sc(t,e){if(e){if(tC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function oc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function vh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lc=null,rr=null,sr=null;function ip(t){if(t=Qs(t)){if(typeof lc!="function")throw Error(R(280));var e=t.stateNode;e&&(e=ol(e),lc(t.stateNode,t.type,e))}}function wm(t){rr?sr?sr.push(t):sr=[t]:rr=t}function Cm(){if(rr){var t=rr,e=sr;if(sr=rr=null,ip(t),e)for(t=0;t<e.length;t++)ip(e[t])}}function Em(t,e){return t(e)}function Sm(){}var pu=!1;function xm(t,e,n){if(pu)return t(e,n);pu=!0;try{return Em(t,e,n)}finally{pu=!1,(rr!==null||sr!==null)&&(Sm(),Cm())}}function Es(t,e){var n=t.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var uc=!1;if(mn)try{var $r={};Object.defineProperty($r,"passive",{get:function(){uc=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{uc=!1}function nC(t,e,n,r,s,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var ls=!1,fa=null,pa=!1,cc=null,iC={onError:function(t){ls=!0,fa=t}};function rC(t,e,n,r,s,a,u,h,d){ls=!1,fa=null,nC.apply(iC,arguments)}function sC(t,e,n,r,s,a,u,h,d){if(rC.apply(this,arguments),ls){if(ls){var p=fa;ls=!1,fa=null}else throw Error(R(198));pa||(pa=!0,cc=p)}}function Li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rp(t){if(Li(t)!==t)throw Error(R(188))}function oC(t){var e=t.alternate;if(!e){if(e=Li(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return rp(s),t;if(a===r)return rp(s),e;a=a.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=a;else{for(var u=!1,h=s.child;h;){if(h===n){u=!0,n=s,r=a;break}if(h===r){u=!0,r=s,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=s;break}if(h===r){u=!0,r=a,n=s;break}h=h.sibling}if(!u)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Pm(t){return t=oC(t),t!==null?km(t):null}function km(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=km(t);if(e!==null)return e;t=t.sibling}return null}var Im=Ct.unstable_scheduleCallback,sp=Ct.unstable_cancelCallback,aC=Ct.unstable_shouldYield,lC=Ct.unstable_requestPaint,Ne=Ct.unstable_now,uC=Ct.unstable_getCurrentPriorityLevel,yh=Ct.unstable_ImmediatePriority,Lm=Ct.unstable_UserBlockingPriority,_a=Ct.unstable_NormalPriority,cC=Ct.unstable_LowPriority,Nm=Ct.unstable_IdlePriority,nl=null,tn=null;function hC(t){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(nl,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:pC,dC=Math.log,fC=Math.LN2;function pC(t){return t>>>=0,t===0?32:31-(dC(t)/fC|0)|0}var bo=64,zo=4194304;function ss(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ma(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~s;h!==0?r=ss(h):(a&=u,a!==0&&(r=ss(a)))}else u=n&~s,u!==0?r=ss(u):a!==0&&(r=ss(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jt(e),s=1<<n,r|=t[n],e&=~s;return r}function _C(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-jt(a),h=1<<u,d=s[u];d===-1?(!(h&n)||h&r)&&(s[u]=_C(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function hc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mm(){var t=bo;return bo<<=1,!(bo&4194240)&&(bo=64),t}function _u(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jt(e),t[e]=n}function gC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jt(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function wh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ce=0;function Rm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Om,Ch,Am,Dm,bm,dc=!1,Fo=[],Dn=null,bn=null,zn=null,Ss=new Map,xs=new Map,Mn=[],vC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function op(t,e){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(e.pointerId)}}function Gr(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Qs(e),e!==null&&Ch(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yC(t,e,n,r,s){switch(e){case"focusin":return Dn=Gr(Dn,t,e,n,r,s),!0;case"dragenter":return bn=Gr(bn,t,e,n,r,s),!0;case"mouseover":return zn=Gr(zn,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ss.set(a,Gr(Ss.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xs.set(a,Gr(xs.get(a)||null,t,e,n,r,s)),!0}return!1}function zm(t){var e=di(t.target);if(e!==null){var n=Li(e);if(n!==null){if(e=n.tag,e===13){if(e=Tm(n),e!==null){t.blockedOn=e,bm(t.priority,function(){Am(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ta(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ac=r,n.target.dispatchEvent(r),ac=null}else return e=Qs(n),e!==null&&Ch(e),t.blockedOn=n,!1;e.shift()}return!0}function ap(t,e,n){ta(t)&&n.delete(e)}function wC(){dc=!1,Dn!==null&&ta(Dn)&&(Dn=null),bn!==null&&ta(bn)&&(bn=null),zn!==null&&ta(zn)&&(zn=null),Ss.forEach(ap),xs.forEach(ap)}function Kr(t,e){t.blockedOn===e&&(t.blockedOn=null,dc||(dc=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,wC)))}function Ts(t){function e(s){return Kr(s,t)}if(0<Fo.length){Kr(Fo[0],t);for(var n=1;n<Fo.length;n++){var r=Fo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dn!==null&&Kr(Dn,t),bn!==null&&Kr(bn,t),zn!==null&&Kr(zn,t),Ss.forEach(e),xs.forEach(e),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)zm(n),n.blockedOn===null&&Mn.shift()}var or=Cn.ReactCurrentBatchConfig,ga=!0;function CC(t,e,n,r){var s=ce,a=or.transition;or.transition=null;try{ce=1,Eh(t,e,n,r)}finally{ce=s,or.transition=a}}function EC(t,e,n,r){var s=ce,a=or.transition;or.transition=null;try{ce=4,Eh(t,e,n,r)}finally{ce=s,or.transition=a}}function Eh(t,e,n,r){if(ga){var s=fc(t,e,n,r);if(s===null)Tu(t,e,r,va,n),op(t,r);else if(yC(s,t,e,n,r))r.stopPropagation();else if(op(t,r),e&4&&-1<vC.indexOf(t)){for(;s!==null;){var a=Qs(s);if(a!==null&&Om(a),a=fc(t,e,n,r),a===null&&Tu(t,e,r,va,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Tu(t,e,r,null,n)}}var va=null;function fc(t,e,n,r){if(va=null,t=vh(r),t=di(t),t!==null)if(e=Li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return va=t,null}function Fm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uC()){case yh:return 1;case Lm:return 4;case _a:case cC:return 16;case Nm:return 536870912;default:return 16}default:return 16}}var On=null,Sh=null,na=null;function Bm(){if(na)return na;var t,e=Sh,n=e.length,r,s="value"in On?On.value:On.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===s[a-r];r++);return na=s.slice(t,1<r?1-r:void 0)}function ia(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function lp(){return!1}function St(t){function e(n,r,s,a,u){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bo:lp,this.isPropagationStopped=lp,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),e}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xh=St(Pr),Ys=Pe({},Pr,{view:0,detail:0}),SC=St(Ys),mu,gu,qr,il=Pe({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(mu=t.screenX-qr.screenX,gu=t.screenY-qr.screenY):gu=mu=0,qr=t),mu)},movementY:function(t){return"movementY"in t?t.movementY:gu}}),up=St(il),xC=Pe({},il,{dataTransfer:0}),TC=St(xC),PC=Pe({},Ys,{relatedTarget:0}),vu=St(PC),kC=Pe({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=St(kC),LC=Pe({},Pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NC=St(LC),MC=Pe({},Pr,{data:0}),cp=St(MC),RC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AC[t])?!!e[t]:!1}function Th(){return DC}var bC=Pe({},Ys,{key:function(t){if(t.key){var e=RC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(t){return t.type==="keypress"?ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zC=St(bC),FC=Pe({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hp=St(FC),BC=Pe({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),UC=St(BC),WC=Pe({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=St(WC),jC=Pe({},il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZC=St(jC),VC=[9,13,27,32],Ph=mn&&"CompositionEvent"in window,us=null;mn&&"documentMode"in document&&(us=document.documentMode);var $C=mn&&"TextEvent"in window&&!us,Um=mn&&(!Ph||us&&8<us&&11>=us),dp=String.fromCharCode(32),fp=!1;function Wm(t,e){switch(t){case"keyup":return VC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vi=!1;function GC(t,e){switch(t){case"compositionend":return Hm(e);case"keypress":return e.which!==32?null:(fp=!0,dp);case"textInput":return t=e.data,t===dp&&fp?null:t;default:return null}}function KC(t,e){if(Vi)return t==="compositionend"||!Ph&&Wm(t,e)?(t=Bm(),na=Sh=On=null,Vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Um&&e.locale!=="ko"?null:e.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qC[t.type]:e==="textarea"}function jm(t,e,n,r){wm(r),e=ya(e,"onChange"),0<e.length&&(n=new xh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cs=null,Ps=null;function YC(t){eg(t,0)}function rl(t){var e=Ki(t);if(fm(e))return t}function QC(t,e){if(t==="change")return e}var Zm=!1;if(mn){var yu;if(mn){var wu="oninput"in document;if(!wu){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),wu=typeof _p.oninput=="function"}yu=wu}else yu=!1;Zm=yu&&(!document.documentMode||9<document.documentMode)}function mp(){cs&&(cs.detachEvent("onpropertychange",Vm),Ps=cs=null)}function Vm(t){if(t.propertyName==="value"&&rl(Ps)){var e=[];jm(e,Ps,t,vh(t)),xm(YC,e)}}function XC(t,e,n){t==="focusin"?(mp(),cs=e,Ps=n,cs.attachEvent("onpropertychange",Vm)):t==="focusout"&&mp()}function JC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(Ps)}function eE(t,e){if(t==="click")return rl(e)}function tE(t,e){if(t==="input"||t==="change")return rl(e)}function nE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:nE;function ks(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qu.call(e,s)||!$t(t[s],e[s]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vp(t,e){var n=gp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gp(n)}}function $m(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$m(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gm(){for(var t=window,e=da();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=da(t.document)}return e}function kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iE(t){var e=Gm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$m(n.ownerDocument.documentElement,n)){if(r!==null&&kh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=vp(n,a);var u=vp(n,r);s&&u&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rE=mn&&"documentMode"in document&&11>=document.documentMode,$i=null,pc=null,hs=null,_c=!1;function yp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_c||$i==null||$i!==da(r)||(r=$i,"selectionStart"in r&&kh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&ks(hs,r)||(hs=r,r=ya(pc,"onSelect"),0<r.length&&(e=new xh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Uo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gi={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},Cu={},Km={};mn&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function sl(t){if(Cu[t])return Cu[t];if(!Gi[t])return t;var e=Gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Km)return Cu[t]=e[n];return t}var qm=sl("animationend"),Ym=sl("animationiteration"),Qm=sl("animationstart"),Xm=sl("transitionend"),Jm=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){Jm.set(t,e),Ii(e,[t])}for(var Eu=0;Eu<wp.length;Eu++){var Su=wp[Eu],sE=Su.toLowerCase(),oE=Su[0].toUpperCase()+Su.slice(1);Xn(sE,"on"+oE)}Xn(qm,"onAnimationEnd");Xn(Ym,"onAnimationIteration");Xn(Qm,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Xm,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function Cp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sC(r,e,void 0,t),t.currentTarget=null}function eg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&s.isPropagationStopped())break e;Cp(s,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&s.isPropagationStopped())break e;Cp(s,h,p),a=d}}}if(pa)throw t=cc,pa=!1,cc=null,t}function ye(t,e){var n=e[wc];n===void 0&&(n=e[wc]=new Set);var r=t+"__bubble";n.has(r)||(tg(e,t,2,!1),n.add(r))}function xu(t,e,n){var r=0;e&&(r|=4),tg(n,t,r,e)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Is(t){if(!t[Wo]){t[Wo]=!0,lm.forEach(function(n){n!=="selectionchange"&&(aE.has(n)||xu(n,!1,t),xu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wo]||(e[Wo]=!0,xu("selectionchange",!1,e))}}function tg(t,e,n,r){switch(Fm(e)){case 1:var s=CC;break;case 4:s=EC;break;default:s=Eh}n=s.bind(null,e,n,t),s=void 0,!uc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Tu(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;u=u.return}for(;h!==null;){if(u=di(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}xm(function(){var p=a,g=vh(n),m=[];e:{var v=Jm.get(t);if(v!==void 0){var E=xh,T=t;switch(t){case"keypress":if(ia(n)===0)break e;case"keydown":case"keyup":E=zC;break;case"focusin":T="focus",E=vu;break;case"focusout":T="blur",E=vu;break;case"beforeblur":case"afterblur":E=vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=TC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=UC;break;case qm:case Ym:case Qm:E=IC;break;case Xm:E=HC;break;case"scroll":E=SC;break;case"wheel":E=ZC;break;case"copy":case"cut":case"paste":E=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=hp}var P=(e&4)!==0,W=!P&&t==="scroll",C=P?v!==null?v+"Capture":null:v;P=[];for(var w=p,S;w!==null;){S=w;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,C!==null&&(M=Es(w,C),M!=null&&P.push(Ls(w,M,S)))),W)break;w=w.return}0<P.length&&(v=new E(v,T,null,n,g),m.push({event:v,listeners:P}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==ac&&(T=n.relatedTarget||n.fromElement)&&(di(T)||T[gn]))break e;if((E||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=p,T=T?di(T):null,T!==null&&(W=Li(T),T!==W||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=p),E!==T)){if(P=up,M="onMouseLeave",C="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=hp,M="onPointerLeave",C="onPointerEnter",w="pointer"),W=E==null?v:Ki(E),S=T==null?v:Ki(T),v=new P(M,w+"leave",E,n,g),v.target=W,v.relatedTarget=S,M=null,di(g)===p&&(P=new P(C,w+"enter",T,n,g),P.target=S,P.relatedTarget=W,M=P),W=M,E&&T)t:{for(P=E,C=T,w=0,S=P;S;S=Wi(S))w++;for(S=0,M=C;M;M=Wi(M))S++;for(;0<w-S;)P=Wi(P),w--;for(;0<S-w;)C=Wi(C),S--;for(;w--;){if(P===C||C!==null&&P===C.alternate)break t;P=Wi(P),C=Wi(C)}P=null}else P=null;E!==null&&Ep(m,v,E,P,!1),T!==null&&W!==null&&Ep(m,W,T,P,!0)}}e:{if(v=p?Ki(p):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var z=QC;else if(pp(v))if(Zm)z=tE;else{z=JC;var B=XC}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(z=eE);if(z&&(z=z(t,p))){jm(m,z,n,g);break e}B&&B(t,v,p),t==="focusout"&&(B=v._wrapperState)&&B.controlled&&v.type==="number"&&nc(v,"number",v.value)}switch(B=p?Ki(p):window,t){case"focusin":(pp(B)||B.contentEditable==="true")&&($i=B,pc=p,hs=null);break;case"focusout":hs=pc=$i=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,yp(m,n,g);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":yp(m,n,g)}var U;if(Ph)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Vi?Wm(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(Um&&n.locale!=="ko"&&(Vi||H!=="onCompositionStart"?H==="onCompositionEnd"&&Vi&&(U=Bm()):(On=g,Sh="value"in On?On.value:On.textContent,Vi=!0)),B=ya(p,H),0<B.length&&(H=new cp(H,t,null,n,g),m.push({event:H,listeners:B}),U?H.data=U:(U=Hm(n),U!==null&&(H.data=U)))),(U=$C?GC(t,n):KC(t,n))&&(p=ya(p,"onBeforeInput"),0<p.length&&(g=new cp("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:p}),g.data=U))}eg(m,e)})}function Ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ya(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Es(t,n),a!=null&&r.unshift(Ls(t,a,s)),a=Es(t,e),a!=null&&r.push(Ls(t,a,s))),t=t.return}return r}function Wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ep(t,e,n,r,s){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,s?(d=Es(n,a),d!=null&&u.unshift(Ls(n,d,h))):s||(d=Es(n,a),d!=null&&u.push(Ls(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var lE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Sp(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(uE,"")}function Ho(t,e,n){if(e=Sp(e),Sp(t)!==e&&n)throw Error(R(425))}function wa(){}var mc=null,gc=null;function vc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,hE=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(t){return xp.resolve(null).then(t).catch(dE)}:yc;function dE(t){setTimeout(function(){throw t})}function Pu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ts(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ts(e)}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kr=Math.random().toString(36).slice(2),en="__reactFiber$"+kr,Ns="__reactProps$"+kr,gn="__reactContainer$"+kr,wc="__reactEvents$"+kr,fE="__reactListeners$"+kr,pE="__reactHandles$"+kr;function di(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gn]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tp(t);t!==null;){if(n=t[en])return n;t=Tp(t)}return e}t=n,n=t.parentNode}return null}function Qs(t){return t=t[en]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ki(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function ol(t){return t[Ns]||null}var Cc=[],qi=-1;function Jn(t){return{current:t}}function Ce(t){0>qi||(t.current=Cc[qi],Cc[qi]=null,qi--)}function ge(t,e){qi++,Cc[qi]=t.current,t.current=e}var Kn={},tt=Jn(Kn),ft=Jn(!1),yi=Kn;function pr(t,e){var n=t.type.contextTypes;if(!n)return Kn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pt(t){return t=t.childContextTypes,t!=null}function Ca(){Ce(ft),Ce(tt)}function Pp(t,e,n){if(tt.current!==Kn)throw Error(R(168));ge(tt,e),ge(ft,n)}function ng(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(R(108,Xw(t)||"Unknown",s));return Pe({},n,r)}function Ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kn,yi=tt.current,ge(tt,t),ge(ft,ft.current),!0}function kp(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=ng(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,Ce(ft),Ce(tt),ge(tt,t)):Ce(ft),ge(ft,n)}var cn=null,al=!1,ku=!1;function ig(t){cn===null?cn=[t]:cn.push(t)}function _E(t){al=!0,ig(t)}function ei(){if(!ku&&cn!==null){ku=!0;var t=0,e=ce;try{var n=cn;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cn=null,al=!1}catch(s){throw cn!==null&&(cn=cn.slice(t+1)),Im(yh,ei),s}finally{ce=e,ku=!1}}return null}var Yi=[],Qi=0,Sa=null,xa=0,It=[],Lt=0,wi=null,hn=1,dn="";function li(t,e){Yi[Qi++]=xa,Yi[Qi++]=Sa,Sa=t,xa=e}function rg(t,e,n){It[Lt++]=hn,It[Lt++]=dn,It[Lt++]=wi,wi=t;var r=hn;t=dn;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var a=32-jt(e)+s;if(30<a){var u=s-s%5;a=(r&(1<<u)-1).toString(32),r>>=u,s-=u,hn=1<<32-jt(e)+s|n<<s|r,dn=a+t}else hn=1<<a|n<<s|r,dn=t}function Ih(t){t.return!==null&&(li(t,1),rg(t,1,0))}function Lh(t){for(;t===Sa;)Sa=Yi[--Qi],Yi[Qi]=null,xa=Yi[--Qi],Yi[Qi]=null;for(;t===wi;)wi=It[--Lt],It[Lt]=null,dn=It[--Lt],It[Lt]=null,hn=It[--Lt],It[Lt]=null}var yt=null,vt=null,Ee=!1,Bt=null;function sg(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ip(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,vt=Fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wi!==null?{id:hn,overflow:dn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,vt=null,!0):!1;default:return!1}}function Ec(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sc(t){if(Ee){var e=vt;if(e){var n=e;if(!Ip(t,e)){if(Ec(t))throw Error(R(418));e=Fn(n.nextSibling);var r=yt;e&&Ip(t,e)?sg(r,n):(t.flags=t.flags&-4097|2,Ee=!1,yt=t)}}else{if(Ec(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ee=!1,yt=t}}}function Lp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function jo(t){if(t!==yt)return!1;if(!Ee)return Lp(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vc(t.type,t.memoizedProps)),e&&(e=vt)){if(Ec(t))throw og(),Error(R(418));for(;e;)sg(t,e),e=Fn(e.nextSibling)}if(Lp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=Fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=yt?Fn(t.stateNode.nextSibling):null;return!0}function og(){for(var t=vt;t;)t=Fn(t.nextSibling)}function _r(){vt=yt=null,Ee=!1}function Nh(t){Bt===null?Bt=[t]:Bt.push(t)}var mE=Cn.ReactCurrentBatchConfig;function zt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ta=Jn(null),Pa=null,Xi=null,Mh=null;function Rh(){Mh=Xi=Pa=null}function Oh(t){var e=Ta.current;Ce(Ta),t._currentValue=e}function xc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ar(t,e){Pa=t,Mh=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(Mh!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(Pa===null)throw Error(R(308));Xi=t,Pa.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var fi=null;function Ah(t){fi===null?fi=[t]:fi.push(t)}function ag(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ah(e)):(n.next=s.next,s.next=n),e.interleaved=n,vn(t,r)}function vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nn=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,vn(t,n)}return s=r.interleaved,s===null?(e.next=e,Ah(r)):(e.next=s.next,s.next=e),r.interleaved=e,vn(t,n)}function ra(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wh(t,n)}}function Np(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ka(t,e,n,r){var s=t.updateQueue;Nn=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var g=t.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==u&&(h===null?g.firstBaseUpdate=p:h.next=p,g.lastBaseUpdate=d))}if(a!==null){var m=s.baseState;u=0,g=p=d=null,h=a;do{var v=h.lane,E=h.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:E,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=t,P=h;switch(v=e,E=n,P.tag){case 1:if(T=P.payload,typeof T=="function"){m=T.call(E,m,v);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=P.payload,v=typeof T=="function"?T.call(E,m,v):T,v==null)break e;m=Pe({},m,v);break e;case 2:Nn=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[h]:v.push(h))}else E={eventTime:E,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(p=g=E,d=m):g=g.next=E,u|=v;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;v=h,h=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(1);if(g===null&&(d=m),s.baseState=d,s.firstBaseUpdate=p,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do u|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);Ei|=u,t.lanes=u,t.memoizedState=m}}function Mp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var ug=new am.Component().refs;function Tc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ll={isMounted:function(t){return(t=t._reactInternals)?Li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=st(),s=Wn(t),a=pn(r,s);a.payload=e,n!=null&&(a.callback=n),e=Bn(t,a,s),e!==null&&(Zt(e,t,s,r),ra(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=st(),s=Wn(t),a=pn(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Bn(t,a,s),e!==null&&(Zt(e,t,s,r),ra(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=st(),r=Wn(t),s=pn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bn(t,s,r),e!==null&&(Zt(e,t,r,n),ra(e,t,r))}};function Rp(t,e,n,r,s,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!ks(n,r)||!ks(s,a):!0}function cg(t,e,n){var r=!1,s=Kn,a=e.contextType;return typeof a=="object"&&a!==null?a=Rt(a):(s=pt(e)?yi:tt.current,r=e.contextTypes,a=(r=r!=null)?pr(t,s):Kn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ll,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function Op(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ll.enqueueReplaceState(e,e.state,null)}function Pc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=ug,Dh(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Rt(a):(a=pt(e)?yi:tt.current,s.context=pr(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Tc(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ll.enqueueReplaceState(s,s.state,null),ka(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=s.refs;h===ug&&(h=s.refs={}),u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ap(t){var e=t._init;return e(t._payload)}function hg(t){function e(C,w){if(t){var S=C.deletions;S===null?(C.deletions=[w],C.flags|=16):S.push(w)}}function n(C,w){if(!t)return null;for(;w!==null;)e(C,w),w=w.sibling;return null}function r(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function s(C,w){return C=Hn(C,w),C.index=0,C.sibling=null,C}function a(C,w,S){return C.index=S,t?(S=C.alternate,S!==null?(S=S.index,S<w?(C.flags|=2,w):S):(C.flags|=2,w)):(C.flags|=1048576,w)}function u(C){return t&&C.alternate===null&&(C.flags|=2),C}function h(C,w,S,M){return w===null||w.tag!==6?(w=Au(S,C.mode,M),w.return=C,w):(w=s(w,S),w.return=C,w)}function d(C,w,S,M){var z=S.type;return z===Zi?g(C,w,S.props.children,M,S.key):w!==null&&(w.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ln&&Ap(z)===w.type)?(M=s(w,S.props),M.ref=Yr(C,w,S),M.return=C,M):(M=ca(S.type,S.key,S.props,null,C.mode,M),M.ref=Yr(C,w,S),M.return=C,M)}function p(C,w,S,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Du(S,C.mode,M),w.return=C,w):(w=s(w,S.children||[]),w.return=C,w)}function g(C,w,S,M,z){return w===null||w.tag!==7?(w=gi(S,C.mode,M,z),w.return=C,w):(w=s(w,S),w.return=C,w)}function m(C,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Au(""+w,C.mode,S),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oo:return S=ca(w.type,w.key,w.props,null,C.mode,S),S.ref=Yr(C,null,w),S.return=C,S;case ji:return w=Du(w,C.mode,S),w.return=C,w;case Ln:var M=w._init;return m(C,M(w._payload),S)}if(rs(w)||Vr(w))return w=gi(w,C.mode,S,null),w.return=C,w;Zo(C,w)}return null}function v(C,w,S,M){var z=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return z!==null?null:h(C,w,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Oo:return S.key===z?d(C,w,S,M):null;case ji:return S.key===z?p(C,w,S,M):null;case Ln:return z=S._init,v(C,w,z(S._payload),M)}if(rs(S)||Vr(S))return z!==null?null:g(C,w,S,M,null);Zo(C,S)}return null}function E(C,w,S,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return C=C.get(S)||null,h(w,C,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Oo:return C=C.get(M.key===null?S:M.key)||null,d(w,C,M,z);case ji:return C=C.get(M.key===null?S:M.key)||null,p(w,C,M,z);case Ln:var B=M._init;return E(C,w,S,B(M._payload),z)}if(rs(M)||Vr(M))return C=C.get(S)||null,g(w,C,M,z,null);Zo(w,M)}return null}function T(C,w,S,M){for(var z=null,B=null,U=w,H=w=0,ve=null;U!==null&&H<S.length;H++){U.index>H?(ve=U,U=null):ve=U.sibling;var X=v(C,U,S[H],M);if(X===null){U===null&&(U=ve);break}t&&U&&X.alternate===null&&e(C,U),w=a(X,w,H),B===null?z=X:B.sibling=X,B=X,U=ve}if(H===S.length)return n(C,U),Ee&&li(C,H),z;if(U===null){for(;H<S.length;H++)U=m(C,S[H],M),U!==null&&(w=a(U,w,H),B===null?z=U:B.sibling=U,B=U);return Ee&&li(C,H),z}for(U=r(C,U);H<S.length;H++)ve=E(U,C,H,S[H],M),ve!==null&&(t&&ve.alternate!==null&&U.delete(ve.key===null?H:ve.key),w=a(ve,w,H),B===null?z=ve:B.sibling=ve,B=ve);return t&&U.forEach(function(fe){return e(C,fe)}),Ee&&li(C,H),z}function P(C,w,S,M){var z=Vr(S);if(typeof z!="function")throw Error(R(150));if(S=z.call(S),S==null)throw Error(R(151));for(var B=z=null,U=w,H=w=0,ve=null,X=S.next();U!==null&&!X.done;H++,X=S.next()){U.index>H?(ve=U,U=null):ve=U.sibling;var fe=v(C,U,X.value,M);if(fe===null){U===null&&(U=ve);break}t&&U&&fe.alternate===null&&e(C,U),w=a(fe,w,H),B===null?z=fe:B.sibling=fe,B=fe,U=ve}if(X.done)return n(C,U),Ee&&li(C,H),z;if(U===null){for(;!X.done;H++,X=S.next())X=m(C,X.value,M),X!==null&&(w=a(X,w,H),B===null?z=X:B.sibling=X,B=X);return Ee&&li(C,H),z}for(U=r(C,U);!X.done;H++,X=S.next())X=E(U,C,H,X.value,M),X!==null&&(t&&X.alternate!==null&&U.delete(X.key===null?H:X.key),w=a(X,w,H),B===null?z=X:B.sibling=X,B=X);return t&&U.forEach(function(Be){return e(C,Be)}),Ee&&li(C,H),z}function W(C,w,S,M){if(typeof S=="object"&&S!==null&&S.type===Zi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Oo:e:{for(var z=S.key,B=w;B!==null;){if(B.key===z){if(z=S.type,z===Zi){if(B.tag===7){n(C,B.sibling),w=s(B,S.props.children),w.return=C,C=w;break e}}else if(B.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ln&&Ap(z)===B.type){n(C,B.sibling),w=s(B,S.props),w.ref=Yr(C,B,S),w.return=C,C=w;break e}n(C,B);break}else e(C,B);B=B.sibling}S.type===Zi?(w=gi(S.props.children,C.mode,M,S.key),w.return=C,C=w):(M=ca(S.type,S.key,S.props,null,C.mode,M),M.ref=Yr(C,w,S),M.return=C,C=M)}return u(C);case ji:e:{for(B=S.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(C,w.sibling),w=s(w,S.children||[]),w.return=C,C=w;break e}else{n(C,w);break}else e(C,w);w=w.sibling}w=Du(S,C.mode,M),w.return=C,C=w}return u(C);case Ln:return B=S._init,W(C,w,B(S._payload),M)}if(rs(S))return T(C,w,S,M);if(Vr(S))return P(C,w,S,M);Zo(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(C,w.sibling),w=s(w,S),w.return=C,C=w):(n(C,w),w=Au(S,C.mode,M),w.return=C,C=w),u(C)):n(C,w)}return W}var mr=hg(!0),dg=hg(!1),Xs={},nn=Jn(Xs),Ms=Jn(Xs),Rs=Jn(Xs);function pi(t){if(t===Xs)throw Error(R(174));return t}function bh(t,e){switch(ge(Rs,e),ge(Ms,t),ge(nn,Xs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rc(e,t)}Ce(nn),ge(nn,e)}function gr(){Ce(nn),Ce(Ms),Ce(Rs)}function fg(t){pi(Rs.current);var e=pi(nn.current),n=rc(e,t.type);e!==n&&(ge(Ms,t),ge(nn,n))}function zh(t){Ms.current===t&&(Ce(nn),Ce(Ms))}var xe=Jn(0);function Ia(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iu=[];function Fh(){for(var t=0;t<Iu.length;t++)Iu[t]._workInProgressVersionPrimary=null;Iu.length=0}var sa=Cn.ReactCurrentDispatcher,Lu=Cn.ReactCurrentBatchConfig,Ci=0,Te=null,De=null,He=null,La=!1,ds=!1,Os=0,gE=0;function Qe(){throw Error(R(321))}function Bh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function Uh(t,e,n,r,s,a){if(Ci=a,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sa.current=t===null||t.memoizedState===null?CE:EE,t=n(r,s),ds){a=0;do{if(ds=!1,Os=0,25<=a)throw Error(R(301));a+=1,He=De=null,e.updateQueue=null,sa.current=SE,t=n(r,s)}while(ds)}if(sa.current=Na,e=De!==null&&De.next!==null,Ci=0,He=De=Te=null,La=!1,e)throw Error(R(300));return t}function Wh(){var t=Os!==0;return Os=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Te.memoizedState=He=t:He=He.next=t,He}function Ot(){if(De===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=He===null?Te.memoizedState:He.next;if(e!==null)He=e,De=t;else{if(t===null)throw Error(R(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},He===null?Te.memoizedState=He=t:He=He.next=t}return He}function As(t,e){return typeof e=="function"?e(t):e}function Nu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=De,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var h=u=null,d=null,p=a;do{var g=p.lane;if((Ci&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var m={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=m,u=r):d=d.next=m,Te.lanes|=g,Ei|=g}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,$t(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Te.lanes|=a,Ei|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var u=s=s.next;do a=t(a,u.action),u=u.next;while(u!==s);$t(a,e.memoizedState)||(ht=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function pg(){}function _g(t,e){var n=Te,r=Ot(),s=e(),a=!$t(r.memoizedState,s);if(a&&(r.memoizedState=s,ht=!0),r=r.queue,Hh(vg.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Ds(9,gg.bind(null,n,r,s,e),void 0,null),Ze===null)throw Error(R(349));Ci&30||mg(n,e,s)}return s}function mg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gg(t,e,n,r){e.value=n,e.getSnapshot=r,yg(e)&&wg(t)}function vg(t,e,n){return n(function(){yg(e)&&wg(t)})}function yg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function wg(t){var e=vn(t,1);e!==null&&Zt(e,t,1,-1)}function Dp(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},e.queue=t,t=t.dispatch=wE.bind(null,Te,t),[e.memoizedState,t]}function Ds(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Cg(){return Ot().memoizedState}function oa(t,e,n,r){var s=Xt();Te.flags|=t,s.memoizedState=Ds(1|e,n,void 0,r===void 0?null:r)}function ul(t,e,n,r){var s=Ot();r=r===void 0?null:r;var a=void 0;if(De!==null){var u=De.memoizedState;if(a=u.destroy,r!==null&&Bh(r,u.deps)){s.memoizedState=Ds(e,n,a,r);return}}Te.flags|=t,s.memoizedState=Ds(1|e,n,a,r)}function bp(t,e){return oa(8390656,8,t,e)}function Hh(t,e){return ul(2048,8,t,e)}function Eg(t,e){return ul(4,2,t,e)}function Sg(t,e){return ul(4,4,t,e)}function xg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tg(t,e,n){return n=n!=null?n.concat([t]):null,ul(4,4,xg.bind(null,e,t),n)}function jh(){}function Pg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ig(t,e,n){return Ci&21?($t(n,e)||(n=Mm(),Te.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function vE(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=Lu.transition;Lu.transition={};try{t(!1),e()}finally{ce=n,Lu.transition=r}}function Lg(){return Ot().memoizedState}function yE(t,e,n){var r=Wn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ng(t))Mg(e,n);else if(n=ag(t,e,n,r),n!==null){var s=st();Zt(n,t,r,s),Rg(n,e,r)}}function wE(t,e,n){var r=Wn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ng(t))Mg(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(s.hasEagerState=!0,s.eagerState=h,$t(h,u)){var d=e.interleaved;d===null?(s.next=s,Ah(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=ag(t,e,s,r),n!==null&&(s=st(),Zt(n,t,r,s),Rg(n,e,r))}}function Ng(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Mg(t,e){ds=La=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wh(t,n)}}var Na={readContext:Rt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},CE={readContext:Rt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:bp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oa(4194308,4,xg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oa(4194308,4,t,e)},useInsertionEffect:function(t,e){return oa(4,2,t,e)},useMemo:function(t,e){var n=Xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yE.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:Dp,useDebugValue:jh,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=Dp(!1),e=t[0];return t=vE.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,s=Xt();if(Ee){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Ze===null)throw Error(R(349));Ci&30||mg(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,bp(vg.bind(null,r,a,t),[t]),r.flags|=2048,Ds(9,gg.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Xt(),e=Ze.identifierPrefix;if(Ee){var n=dn,r=hn;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Os++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EE={readContext:Rt,useCallback:Pg,useContext:Rt,useEffect:Hh,useImperativeHandle:Tg,useInsertionEffect:Eg,useLayoutEffect:Sg,useMemo:kg,useReducer:Nu,useRef:Cg,useState:function(){return Nu(As)},useDebugValue:jh,useDeferredValue:function(t){var e=Ot();return Ig(e,De.memoizedState,t)},useTransition:function(){var t=Nu(As)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:pg,useSyncExternalStore:_g,useId:Lg,unstable_isNewReconciler:!1},SE={readContext:Rt,useCallback:Pg,useContext:Rt,useEffect:Hh,useImperativeHandle:Tg,useInsertionEffect:Eg,useLayoutEffect:Sg,useMemo:kg,useReducer:Mu,useRef:Cg,useState:function(){return Mu(As)},useDebugValue:jh,useDeferredValue:function(t){var e=Ot();return De===null?e.memoizedState=t:Ig(e,De.memoizedState,t)},useTransition:function(){var t=Mu(As)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:pg,useSyncExternalStore:_g,useId:Lg,unstable_isNewReconciler:!1};function vr(t,e){try{var n="",r=e;do n+=Qw(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Ru(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xE=typeof WeakMap=="function"?WeakMap:Map;function Og(t,e,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ra||(Ra=!0,zc=r),kc(t,e)},n}function Ag(t,e,n){n=pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){kc(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){kc(t,e),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function zp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xE;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FE.bind(null,t,e,n),e.then(t,t))}function Fp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pn(-1,1),e.tag=2,Bn(n,e,1))),n.lanes|=1),t)}var TE=Cn.ReactCurrentOwner,ht=!1;function it(t,e,n,r){e.child=t===null?dg(e,null,n,r):mr(e,t.child,n,r)}function Up(t,e,n,r,s){n=n.render;var a=e.ref;return ar(e,s),r=Uh(t,e,n,r,a,s),n=Wh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yn(t,e,s)):(Ee&&n&&Ih(e),e.flags|=1,it(t,e,r,s),e.child)}function Wp(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!Qh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Dg(t,e,a,r,s)):(t=ca(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(u,r)&&t.ref===e.ref)return yn(t,e,s)}return e.flags|=1,t=Hn(a,r),t.ref=e.ref,t.return=e,e.child=t}function Dg(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(ks(a,r)&&t.ref===e.ref)if(ht=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,yn(t,e,s)}return Ic(t,e,n,r,s)}function bg(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(er,gt),gt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(er,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ge(er,gt),gt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ge(er,gt),gt|=r;return it(t,e,s,n),e.child}function zg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ic(t,e,n,r,s){var a=pt(n)?yi:tt.current;return a=pr(e,a),ar(e,s),n=Uh(t,e,n,r,a,s),r=Wh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yn(t,e,s)):(Ee&&r&&Ih(e),e.flags|=1,it(t,e,n,s),e.child)}function Hp(t,e,n,r,s){if(pt(n)){var a=!0;Ea(e)}else a=!1;if(ar(e,s),e.stateNode===null)aa(t,e),cg(e,n,r),Pc(e,n,r,s),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Rt(p):(p=pt(n)?yi:tt.current,p=pr(e,p));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";m||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&Op(e,u,r,p),Nn=!1;var v=e.memoizedState;u.state=v,ka(e,r,u,s),d=e.memoizedState,h!==r||v!==d||ft.current||Nn?(typeof g=="function"&&(Tc(e,n,g,r),d=e.memoizedState),(h=Nn||Rp(e,n,h,r,v,d,p))?(m||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,lg(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:zt(e.type,h),u.props=p,m=e.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=Rt(d):(d=pt(n)?yi:tt.current,d=pr(e,d));var E=n.getDerivedStateFromProps;(g=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==m||v!==d)&&Op(e,u,r,d),Nn=!1,v=e.memoizedState,u.state=v,ka(e,r,u,s);var T=e.memoizedState;h!==m||v!==T||ft.current||Nn?(typeof E=="function"&&(Tc(e,n,E,r),T=e.memoizedState),(p=Nn||Rp(e,n,p,r,v,T,d)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,T,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,T,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),u.props=r,u.state=T,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Lc(t,e,n,r,a,s)}function Lc(t,e,n,r,s,a){zg(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return s&&kp(e,n,!1),yn(t,e,a);r=e.stateNode,TE.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=mr(e,t.child,null,a),e.child=mr(e,null,h,a)):it(t,e,h,a),e.memoizedState=r.state,s&&kp(e,n,!0),e.child}function Fg(t){var e=t.stateNode;e.pendingContext?Pp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pp(t,e.context,!1),bh(t,e.containerInfo)}function jp(t,e,n,r,s){return _r(),Nh(s),e.flags|=256,it(t,e,n,r),e.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Mc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bg(t,e,n){var r=e.pendingProps,s=xe.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(s&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(xe,s&1),t===null)return Sc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=dl(u,r,0,null),t=gi(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Mc(n),e.memoizedState=Nc,t):Zh(e,u));if(s=t.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return PE(t,e,u,r,h,s,n);if(a){a=r.fallback,u=e.mode,s=t.child,h=s.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Hn(s,d),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?a=Hn(h,a):(a=gi(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?Mc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=Nc,r}return a=t.child,t=a.sibling,r=Hn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zh(t,e){return e=dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vo(t,e,n,r){return r!==null&&Nh(r),mr(e,t.child,null,n),t=Zh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PE(t,e,n,r,s,a,u){if(n)return e.flags&256?(e.flags&=-257,r=Ru(Error(R(422))),Vo(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=dl({mode:"visible",children:r.children},s,0,null),a=gi(a,s,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&mr(e,t.child,null,u),e.child.memoizedState=Mc(u),e.memoizedState=Nc,a);if(!(e.mode&1))return Vo(t,e,u,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(R(419)),r=Ru(a,r,void 0),Vo(t,e,u,r)}if(h=(u&t.childLanes)!==0,ht||h){if(r=Ze,r!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,vn(t,s),Zt(r,t,s,-1))}return Yh(),r=Ru(Error(R(421))),Vo(t,e,u,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BE.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,vt=Fn(s.nextSibling),yt=e,Ee=!0,Bt=null,t!==null&&(It[Lt++]=hn,It[Lt++]=dn,It[Lt++]=wi,hn=t.id,dn=t.overflow,wi=e),e=Zh(e,r.children),e.flags|=4096,e)}function Zp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xc(t.return,e,n)}function Ou(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Ug(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(it(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zp(t,n,e);else if(t.tag===19)Zp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ia(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ou(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ia(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ou(e,!0,n,null,a);break;case"together":Ou(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function aa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kE(t,e,n){switch(e.tag){case 3:Fg(e),_r();break;case 5:fg(e);break;case 1:pt(e.type)&&Ea(e);break;case 4:bh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(Ta,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?Bg(t,e,n):(ge(xe,xe.current&1),t=yn(t,e,n),t!==null?t.sibling:null);ge(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ug(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,bg(t,e,n)}return yn(t,e,n)}var Wg,Rc,Hg,jg;Wg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rc=function(){};Hg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,pi(nn.current);var a=null;switch(n){case"input":s=ec(t,s),r=ec(t,r),a=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),a=[];break;case"textarea":s=ic(t,s),r=ic(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wa)}sc(n,r);var u;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var h=s[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ws.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ws.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&ye("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};jg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qr(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IE(t,e,n){var r=e.pendingProps;switch(Lh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return pt(e.type)&&Ca(),Xe(e),null;case 3:return r=e.stateNode,gr(),Ce(ft),Ce(tt),Fh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(Uc(Bt),Bt=null))),Rc(t,e),Xe(e),null;case 5:zh(e);var s=pi(Rs.current);if(n=e.type,t!==null&&e.stateNode!=null)Hg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Xe(e),null}if(t=pi(nn.current),jo(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[en]=e,r[Ns]=a,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<os.length;s++)ye(os[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Jf(r,a),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ye("invalid",r);break;case"textarea":tp(r,a),ye("invalid",r)}sc(n,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Ho(r.textContent,h,t),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Ho(r.textContent,h,t),s=["children",""+h]):ws.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&ye("scroll",r)}switch(n){case"input":Ao(r),ep(r,a,!0);break;case"textarea":Ao(r),np(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=wa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[en]=e,t[Ns]=r,Wg(t,e,!1,!1),e.stateNode=t;e:{switch(u=oc(n,r),n){case"dialog":ye("cancel",t),ye("close",t),s=r;break;case"iframe":case"object":case"embed":ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<os.length;s++)ye(os[s],t);s=r;break;case"source":ye("error",t),s=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=r;break;case"details":ye("toggle",t),s=r;break;case"input":Jf(t,r),s=ec(t,r),ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ye("invalid",t);break;case"textarea":tp(t,r),s=ic(t,r),ye("invalid",t);break;default:s=r}sc(n,s),h=s;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?ym(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&gm(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Cs(t,d):typeof d=="number"&&Cs(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ws.hasOwnProperty(a)?d!=null&&a==="onScroll"&&ye("scroll",t):d!=null&&ph(t,a,d,u))}switch(n){case"input":Ao(t),ep(t,r,!1);break;case"textarea":Ao(t),np(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ir(t,!!r.multiple,a,!1):r.defaultValue!=null&&ir(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)jg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=pi(Rs.current),pi(nn.current),jo(e)){if(r=e.stateNode,n=e.memoizedProps,r[en]=e,(a=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:Ho(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ho(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=e,e.stateNode=r}return Xe(e),null;case 13:if(Ce(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&vt!==null&&e.mode&1&&!(e.flags&128))og(),_r(),e.flags|=98560,a=!1;else if(a=jo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(R(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[en]=e}else _r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),a=!1}else Bt!==null&&(Uc(Bt),Bt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Fe===0&&(Fe=3):Yh())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return gr(),Rc(t,e),t===null&&Is(e.stateNode.containerInfo),Xe(e),null;case 10:return Oh(e.type._context),Xe(e),null;case 17:return pt(e.type)&&Ca(),Xe(e),null;case 19:if(Ce(xe),a=e.memoizedState,a===null)return Xe(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)Qr(a,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=Ia(t),u!==null){for(e.flags|=128,Qr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(xe,xe.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ne()>yr&&(e.flags|=128,r=!0,Qr(a,!1),e.lanes=4194304)}else{if(!r)if(t=Ia(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ee)return Xe(e),null}else 2*Ne()-a.renderingStartTime>yr&&n!==1073741824&&(e.flags|=128,r=!0,Qr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ne(),e.sibling=null,n=xe.current,ge(xe,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return qh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function LE(t,e){switch(Lh(e),e.tag){case 1:return pt(e.type)&&Ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gr(),Ce(ft),Ce(tt),Fh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zh(e),null;case 13:if(Ce(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));_r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(xe),null;case 4:return gr(),null;case 10:return Oh(e.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var $o=!1,Je=!1,NE=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Oc(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Vp=!1;function ME(t,e){if(mc=ga,t=Gm(),kh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,g=0,m=t,v=null;t:for(;;){for(var E;m!==n||s!==0&&m.nodeType!==3||(h=u+s),m!==a||r!==0&&m.nodeType!==3||(d=u+r),m.nodeType===3&&(u+=m.nodeValue.length),(E=m.firstChild)!==null;)v=m,m=E;for(;;){if(m===t)break t;if(v===n&&++p===s&&(h=u),v===a&&++g===r&&(d=u),(E=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=E}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(gc={focusedElem:t,selectionRange:n},ga=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var P=T.memoizedProps,W=T.memoizedState,C=e.stateNode,w=C.getSnapshotBeforeUpdate(e.elementType===e.type?P:zt(e.type,P),W);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(M){ke(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return T=Vp,Vp=!1,T}function fs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&Oc(e,n,a)}s=s.next}while(s!==r)}}function cl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ac(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zg(t){var e=t.alternate;e!==null&&(t.alternate=null,Zg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[Ns],delete e[wc],delete e[fE],delete e[pE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vg(t){return t.tag===5||t.tag===3||t.tag===4}function $p(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wa));else if(r!==4&&(t=t.child,t!==null))for(Dc(t,e,n),t=t.sibling;t!==null;)Dc(t,e,n),t=t.sibling}function bc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bc(t,e,n),t=t.sibling;t!==null;)bc(t,e,n),t=t.sibling}var Ge=null,Ft=!1;function kn(t,e,n){for(n=n.child;n!==null;)$g(t,e,n),n=n.sibling}function $g(t,e,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(nl,n)}catch{}switch(n.tag){case 5:Je||Ji(n,e);case 6:var r=Ge,s=Ft;Ge=null,kn(t,e,n),Ge=r,Ft=s,Ge!==null&&(Ft?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Ft?(t=Ge,n=n.stateNode,t.nodeType===8?Pu(t.parentNode,n):t.nodeType===1&&Pu(t,n),Ts(t)):Pu(Ge,n.stateNode));break;case 4:r=Ge,s=Ft,Ge=n.stateNode.containerInfo,Ft=!0,kn(t,e,n),Ge=r,Ft=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Oc(n,e,u),s=s.next}while(s!==r)}kn(t,e,n);break;case 1:if(!Je&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){ke(n,e,h)}kn(t,e,n);break;case 21:kn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,kn(t,e,n),Je=r):kn(t,e,n);break;default:kn(t,e,n)}}function Gp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NE),e.forEach(function(r){var s=UE.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ge=h.stateNode,Ft=!1;break e;case 3:Ge=h.stateNode.containerInfo,Ft=!0;break e;case 4:Ge=h.stateNode.containerInfo,Ft=!0;break e}h=h.return}if(Ge===null)throw Error(R(160));$g(a,u,s),Ge=null,Ft=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(p){ke(s,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gg(e,t),e=e.sibling}function Gg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Qt(t),r&4){try{fs(3,t,t.return),cl(3,t)}catch(P){ke(t,t.return,P)}try{fs(5,t,t.return)}catch(P){ke(t,t.return,P)}}break;case 1:bt(e,t),Qt(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(bt(e,t),Qt(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var s=t.stateNode;try{Cs(s,"")}catch(P){ke(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&pm(s,a),oc(h,u);var p=oc(h,a);for(u=0;u<d.length;u+=2){var g=d[u],m=d[u+1];g==="style"?ym(s,m):g==="dangerouslySetInnerHTML"?gm(s,m):g==="children"?Cs(s,m):ph(s,g,m,p)}switch(h){case"input":tc(s,a);break;case"textarea":_m(s,a);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?ir(s,!!a.multiple,E,!1):v!==!!a.multiple&&(a.defaultValue!=null?ir(s,!!a.multiple,a.defaultValue,!0):ir(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ns]=a}catch(P){ke(t,t.return,P)}}break;case 6:if(bt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(P){ke(t,t.return,P)}}break;case 3:if(bt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(e.containerInfo)}catch(P){ke(t,t.return,P)}break;case 4:bt(e,t),Qt(t);break;case 13:bt(e,t),Qt(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Gh=Ne())),r&4&&Gp(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(p=Je)||g,bt(e,t),Je=p):bt(e,t),Qt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(F=t,g=t.child;g!==null;){for(m=F=g;F!==null;){switch(v=F,E=v.child,v.tag){case 0:case 11:case 14:case 15:fs(4,v,v.return);break;case 1:Ji(v,v.return);var T=v.stateNode;if(typeof T.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(P){ke(r,n,P)}}break;case 5:Ji(v,v.return);break;case 22:if(v.memoizedState!==null){qp(m);continue}}E!==null?(E.return=v,F=E):qp(m)}g=g.sibling}e:for(g=null,m=t;;){if(m.tag===5){if(g===null){g=m;try{s=m.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=m.stateNode,d=m.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=vm("display",u))}catch(P){ke(t,t.return,P)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(P){ke(t,t.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bt(e,t),Qt(t),r&4&&Gp(t);break;case 21:break;default:bt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vg(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cs(s,""),r.flags&=-33);var a=$p(t);bc(t,a,s);break;case 3:case 4:var u=r.stateNode.containerInfo,h=$p(t);Dc(t,h,u);break;default:throw Error(R(161))}}catch(d){ke(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RE(t,e,n){F=t,Kg(t)}function Kg(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var s=F,a=s.child;if(s.tag===22&&r){var u=s.memoizedState!==null||$o;if(!u){var h=s.alternate,d=h!==null&&h.memoizedState!==null||Je;h=$o;var p=Je;if($o=u,(Je=d)&&!p)for(F=s;F!==null;)u=F,d=u.child,u.tag===22&&u.memoizedState!==null?Yp(s):d!==null?(d.return=u,F=d):Yp(s);for(;a!==null;)F=a,Kg(a),a=a.sibling;F=s,$o=h,Je=p}Kp(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,F=a):Kp(t)}}function Kp(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||cl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Mp(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mp(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&Ts(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Je||e.flags&512&&Ac(e)}catch(v){ke(e,e.return,v)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function qp(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Yp(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cl(4,e)}catch(d){ke(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){ke(e,s,d)}}var a=e.return;try{Ac(e)}catch(d){ke(e,a,d)}break;case 5:var u=e.return;try{Ac(e)}catch(d){ke(e,u,d)}}}catch(d){ke(e,e.return,d)}if(e===t){F=null;break}var h=e.sibling;if(h!==null){h.return=e.return,F=h;break}F=e.return}}var OE=Math.ceil,Ma=Cn.ReactCurrentDispatcher,Vh=Cn.ReactCurrentOwner,Mt=Cn.ReactCurrentBatchConfig,oe=0,Ze=null,Oe=null,qe=0,gt=0,er=Jn(0),Fe=0,bs=null,Ei=0,hl=0,$h=0,ps=null,ct=null,Gh=0,yr=1/0,un=null,Ra=!1,zc=null,Un=null,Go=!1,An=null,Oa=0,_s=0,Fc=null,la=-1,ua=0;function st(){return oe&6?Ne():la!==-1?la:la=Ne()}function Wn(t){return t.mode&1?oe&2&&qe!==0?qe&-qe:mE.transition!==null?(ua===0&&(ua=Mm()),ua):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Fm(t.type)),t):1}function Zt(t,e,n,r){if(50<_s)throw _s=0,Fc=null,Error(R(185));qs(t,n,r),(!(oe&2)||t!==Ze)&&(t===Ze&&(!(oe&2)&&(hl|=n),Fe===4&&Rn(t,qe)),_t(t,r),n===1&&oe===0&&!(e.mode&1)&&(yr=Ne()+500,al&&ei()))}function _t(t,e){var n=t.callbackNode;mC(t,e);var r=ma(t,t===Ze?qe:0);if(r===0)n!==null&&sp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sp(n),e===1)t.tag===0?_E(Qp.bind(null,t)):ig(Qp.bind(null,t)),hE(function(){!(oe&6)&&ei()}),n=null;else{switch(Rm(r)){case 1:n=yh;break;case 4:n=Lm;break;case 16:n=_a;break;case 536870912:n=Nm;break;default:n=_a}n=nv(n,qg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qg(t,e){if(la=-1,ua=0,oe&6)throw Error(R(327));var n=t.callbackNode;if(lr()&&t.callbackNode!==n)return null;var r=ma(t,t===Ze?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Aa(t,r);else{e=r;var s=oe;oe|=2;var a=Qg();(Ze!==t||qe!==e)&&(un=null,yr=Ne()+500,mi(t,e));do try{bE();break}catch(h){Yg(t,h)}while(1);Rh(),Ma.current=a,oe=s,Oe!==null?e=0:(Ze=null,qe=0,e=Fe)}if(e!==0){if(e===2&&(s=hc(t),s!==0&&(r=s,e=Bc(t,s))),e===1)throw n=bs,mi(t,0),Rn(t,r),_t(t,Ne()),n;if(e===6)Rn(t,r);else{if(s=t.current.alternate,!(r&30)&&!AE(s)&&(e=Aa(t,r),e===2&&(a=hc(t),a!==0&&(r=a,e=Bc(t,a))),e===1))throw n=bs,mi(t,0),Rn(t,r),_t(t,Ne()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:ui(t,ct,un);break;case 3:if(Rn(t,r),(r&130023424)===r&&(e=Gh+500-Ne(),10<e)){if(ma(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){st(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yc(ui.bind(null,t,ct,un),e);break}ui(t,ct,un);break;case 4:if(Rn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var u=31-jt(r);a=1<<u,u=e[u],u>s&&(s=u),r&=~a}if(r=s,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OE(r/1960))-r,10<r){t.timeoutHandle=yc(ui.bind(null,t,ct,un),r);break}ui(t,ct,un);break;case 5:ui(t,ct,un);break;default:throw Error(R(329))}}}return _t(t,Ne()),t.callbackNode===n?qg.bind(null,t):null}function Bc(t,e){var n=ps;return t.current.memoizedState.isDehydrated&&(mi(t,e).flags|=256),t=Aa(t,e),t!==2&&(e=ct,ct=n,e!==null&&Uc(e)),t}function Uc(t){ct===null?ct=t:ct.push.apply(ct,t)}function AE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!$t(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~$h,e&=~hl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jt(e),r=1<<n;t[n]=-1,e&=~r}}function Qp(t){if(oe&6)throw Error(R(327));lr();var e=ma(t,0);if(!(e&1))return _t(t,Ne()),null;var n=Aa(t,e);if(t.tag!==0&&n===2){var r=hc(t);r!==0&&(e=r,n=Bc(t,r))}if(n===1)throw n=bs,mi(t,0),Rn(t,e),_t(t,Ne()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,ct,un),_t(t,Ne()),null}function Kh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(yr=Ne()+500,al&&ei())}}function Si(t){An!==null&&An.tag===0&&!(oe&6)&&lr();var e=oe;oe|=1;var n=Mt.transition,r=ce;try{if(Mt.transition=null,ce=1,t)return t()}finally{ce=r,Mt.transition=n,oe=e,!(oe&6)&&ei()}}function qh(){gt=er.current,Ce(er)}function mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cE(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Lh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ca();break;case 3:gr(),Ce(ft),Ce(tt),Fh();break;case 5:zh(r);break;case 4:gr();break;case 13:Ce(xe);break;case 19:Ce(xe);break;case 10:Oh(r.type._context);break;case 22:case 23:qh()}n=n.return}if(Ze=t,Oe=t=Hn(t.current,null),qe=gt=e,Fe=0,bs=null,$h=hl=Ei=0,ct=ps=null,fi!==null){for(e=0;e<fi.length;e++)if(n=fi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=s,r.next=u}n.pending=r}fi=null}return t}function Yg(t,e){do{var n=Oe;try{if(Rh(),sa.current=Na,La){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}La=!1}if(Ci=0,He=De=Te=null,ds=!1,Os=0,Vh.current=null,n===null||n.return===null){Fe=1,bs=e,Oe=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=qe,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=h,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=Fp(u);if(E!==null){E.flags&=-257,Bp(E,u,h,a,e),E.mode&1&&zp(a,p,e),e=E,d=p;var T=e.updateQueue;if(T===null){var P=new Set;P.add(d),e.updateQueue=P}else T.add(d);break e}else{if(!(e&1)){zp(a,p,e),Yh();break e}d=Error(R(426))}}else if(Ee&&h.mode&1){var W=Fp(u);if(W!==null){!(W.flags&65536)&&(W.flags|=256),Bp(W,u,h,a,e),Nh(vr(d,h));break e}}a=d=vr(d,h),Fe!==4&&(Fe=2),ps===null?ps=[a]:ps.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var C=Og(a,d,e);Np(a,C);break e;case 1:h=d;var w=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Un===null||!Un.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var M=Ag(a,h,e);Np(a,M);break e}}a=a.return}while(a!==null)}Jg(n)}catch(z){e=z,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function Qg(){var t=Ma.current;return Ma.current=Na,t===null?Na:t}function Yh(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ze===null||!(Ei&268435455)&&!(hl&268435455)||Rn(Ze,qe)}function Aa(t,e){var n=oe;oe|=2;var r=Qg();(Ze!==t||qe!==e)&&(un=null,mi(t,e));do try{DE();break}catch(s){Yg(t,s)}while(1);if(Rh(),oe=n,Ma.current=r,Oe!==null)throw Error(R(261));return Ze=null,qe=0,Fe}function DE(){for(;Oe!==null;)Xg(Oe)}function bE(){for(;Oe!==null&&!aC();)Xg(Oe)}function Xg(t){var e=tv(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?Jg(t):Oe=e,Vh.current=null}function Jg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LE(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Oe=null;return}}else if(n=IE(n,e,gt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Fe===0&&(Fe=5)}function ui(t,e,n){var r=ce,s=Mt.transition;try{Mt.transition=null,ce=1,zE(t,e,n,r)}finally{Mt.transition=s,ce=r}return null}function zE(t,e,n,r){do lr();while(An!==null);if(oe&6)throw Error(R(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(gC(t,a),t===Ze&&(Oe=Ze=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,nv(_a,function(){return lr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Mt.transition,Mt.transition=null;var u=ce;ce=1;var h=oe;oe|=4,Vh.current=null,ME(t,n),Gg(n,t),iE(gc),ga=!!mc,gc=mc=null,t.current=n,RE(n),lC(),oe=h,ce=u,Mt.transition=a}else t.current=n;if(Go&&(Go=!1,An=t,Oa=s),a=t.pendingLanes,a===0&&(Un=null),hC(n.stateNode),_t(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ra)throw Ra=!1,t=zc,zc=null,t;return Oa&1&&t.tag!==0&&lr(),a=t.pendingLanes,a&1?t===Fc?_s++:(_s=0,Fc=t):_s=0,ei(),null}function lr(){if(An!==null){var t=Rm(Oa),e=Mt.transition,n=ce;try{if(Mt.transition=null,ce=16>t?16:t,An===null)var r=!1;else{if(t=An,An=null,Oa=0,oe&6)throw Error(R(331));var s=oe;for(oe|=4,F=t.current;F!==null;){var a=F,u=a.child;if(F.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(F=p;F!==null;){var g=F;switch(g.tag){case 0:case 11:case 15:fs(8,g,a)}var m=g.child;if(m!==null)m.return=g,F=m;else for(;F!==null;){g=F;var v=g.sibling,E=g.return;if(Zg(g),g===p){F=null;break}if(v!==null){v.return=E,F=v;break}F=E}}}var T=a.alternate;if(T!==null){var P=T.child;if(P!==null){T.child=null;do{var W=P.sibling;P.sibling=null,P=W}while(P!==null)}}F=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,F=u;else e:for(;F!==null;){if(a=F,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fs(9,a,a.return)}var C=a.sibling;if(C!==null){C.return=a.return,F=C;break e}F=a.return}}var w=t.current;for(F=w;F!==null;){u=F;var S=u.child;if(u.subtreeFlags&2064&&S!==null)S.return=u,F=S;else e:for(u=w;F!==null;){if(h=F,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:cl(9,h)}}catch(z){ke(h,h.return,z)}if(h===u){F=null;break e}var M=h.sibling;if(M!==null){M.return=h.return,F=M;break e}F=h.return}}if(oe=s,ei(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(nl,t)}catch{}r=!0}return r}finally{ce=n,Mt.transition=e}}return!1}function Xp(t,e,n){e=vr(n,e),e=Og(t,e,1),t=Bn(t,e,1),e=st(),t!==null&&(qs(t,1,e),_t(t,e))}function ke(t,e,n){if(t.tag===3)Xp(t,t,n);else for(;e!==null;){if(e.tag===3){Xp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){t=vr(n,t),t=Ag(e,t,1),e=Bn(e,t,1),t=st(),e!==null&&(qs(e,1,t),_t(e,t));break}}e=e.return}}function FE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=st(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(qe&n)===n&&(Fe===4||Fe===3&&(qe&130023424)===qe&&500>Ne()-Gh?mi(t,0):$h|=n),_t(t,e)}function ev(t,e){e===0&&(t.mode&1?(e=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):e=1);var n=st();t=vn(t,e),t!==null&&(qs(t,e,n),_t(t,n))}function BE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ev(t,n)}function UE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),ev(t,n)}var tv;tv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,kE(t,e,n);ht=!!(t.flags&131072)}else ht=!1,Ee&&e.flags&1048576&&rg(e,xa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;aa(t,e),t=e.pendingProps;var s=pr(e,tt.current);ar(e,n),s=Uh(null,e,r,t,s,n);var a=Wh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(a=!0,Ea(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dh(e),s.updater=ll,e.stateNode=s,s._reactInternals=e,Pc(e,r,t,n),e=Lc(null,e,r,!0,a,n)):(e.tag=0,Ee&&a&&Ih(e),it(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(aa(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=HE(r),t=zt(r,t),s){case 0:e=Ic(null,e,r,t,n);break e;case 1:e=Hp(null,e,r,t,n);break e;case 11:e=Up(null,e,r,t,n);break e;case 14:e=Wp(null,e,r,zt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Ic(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Hp(t,e,r,s,n);case 3:e:{if(Fg(e),t===null)throw Error(R(387));r=e.pendingProps,a=e.memoizedState,s=a.element,lg(t,e),ka(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=vr(Error(R(423)),e),e=jp(t,e,r,n,s);break e}else if(r!==s){s=vr(Error(R(424)),e),e=jp(t,e,r,n,s);break e}else for(vt=Fn(e.stateNode.containerInfo.firstChild),yt=e,Ee=!0,Bt=null,n=dg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===s){e=yn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return fg(e),t===null&&Sc(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,u=s.children,vc(r,s)?u=null:a!==null&&vc(r,a)&&(e.flags|=32),zg(t,e),it(t,e,u,n),e.child;case 6:return t===null&&Sc(e),null;case 13:return Bg(t,e,n);case 4:return bh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mr(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Up(t,e,r,s,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,u=s.value,ge(Ta,r._currentValue),r._currentValue=u,a!==null)if($t(a.value,u)){if(a.children===s.children&&!ft.current){e=yn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=pn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),xc(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(R(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),xc(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}it(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ar(e,n),s=Rt(s),r=r(s),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,s=zt(r,e.pendingProps),s=zt(r.type,s),Wp(t,e,r,s,n);case 15:return Dg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),aa(t,e),e.tag=1,pt(r)?(t=!0,Ea(e)):t=!1,ar(e,n),cg(e,r,s),Pc(e,r,s,n),Lc(null,e,r,!0,t,n);case 19:return Ug(t,e,n);case 22:return bg(t,e,n)}throw Error(R(156,e.tag))};function nv(t,e){return Im(t,e)}function WE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new WE(t,e,n,r)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HE(t){if(typeof t=="function")return Qh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mh)return 11;if(t===gh)return 14}return 2}function Hn(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ca(t,e,n,r,s,a){var u=2;if(r=t,typeof t=="function")Qh(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Zi:return gi(n.children,s,a,e);case _h:u=8,s|=8;break;case Yu:return t=Nt(12,n,e,s|2),t.elementType=Yu,t.lanes=a,t;case Qu:return t=Nt(13,n,e,s),t.elementType=Qu,t.lanes=a,t;case Xu:return t=Nt(19,n,e,s),t.elementType=Xu,t.lanes=a,t;case hm:return dl(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case um:u=10;break e;case cm:u=9;break e;case mh:u=11;break e;case gh:u=14;break e;case Ln:u=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Nt(u,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function gi(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function dl(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=hm,t.lanes=n,t.stateNode={isHidden:!1},t}function Au(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function Du(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jE(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_u(0),this.expirationTimes=_u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xh(t,e,n,r,s,a,u,h,d){return t=new jE(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Nt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(a),t}function ZE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iv(t){if(!t)return Kn;t=t._reactInternals;e:{if(Li(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(pt(n))return ng(t,n,e)}return e}function rv(t,e,n,r,s,a,u,h,d){return t=Xh(n,r,!0,t,s,a,u,h,d),t.context=iv(null),n=t.current,r=st(),s=Wn(n),a=pn(r,s),a.callback=e??null,Bn(n,a,s),t.current.lanes=s,qs(t,s,r),_t(t,r),t}function fl(t,e,n,r){var s=e.current,a=st(),u=Wn(s);return n=iv(n),e.context===null?e.context=n:e.pendingContext=n,e=pn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bn(s,e,u),t!==null&&(Zt(t,s,u,a),ra(t,s,u)),u}function Da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jh(t,e){Jp(t,e),(t=t.alternate)&&Jp(t,e)}function VE(){return null}var sv=typeof reportError=="function"?reportError:function(t){console.error(t)};function ed(t){this._internalRoot=t}pl.prototype.render=ed.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));fl(t,e,null,null)};pl.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Si(function(){fl(null,t,null,null)}),e[gn]=null}};function pl(t){this._internalRoot=t}pl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&zm(t)}};function td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e_(){}function $E(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var p=Da(u);a.call(p)}}var u=rv(e,r,t,0,null,!1,!1,"",e_);return t._reactRootContainer=u,t[gn]=u.current,Is(t.nodeType===8?t.parentNode:t),Si(),u}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var p=Da(d);h.call(p)}}var d=Xh(t,0,!1,null,null,!1,!1,"",e_);return t._reactRootContainer=d,t[gn]=d.current,Is(t.nodeType===8?t.parentNode:t),Si(function(){fl(e,d,n,r)}),d}function ml(t,e,n,r,s){var a=n._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var h=s;s=function(){var d=Da(u);h.call(d)}}fl(e,u,t,s)}else u=$E(n,e,t,s,r);return Da(u)}Om=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ss(e.pendingLanes);n!==0&&(wh(e,n|1),_t(e,Ne()),!(oe&6)&&(yr=Ne()+500,ei()))}break;case 13:Si(function(){var r=vn(t,1);if(r!==null){var s=st();Zt(r,t,1,s)}}),Jh(t,1)}};Ch=function(t){if(t.tag===13){var e=vn(t,134217728);if(e!==null){var n=st();Zt(e,t,134217728,n)}Jh(t,134217728)}};Am=function(t){if(t.tag===13){var e=Wn(t),n=vn(t,e);if(n!==null){var r=st();Zt(n,t,e,r)}Jh(t,e)}};Dm=function(){return ce};bm=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};lc=function(t,e,n){switch(e){case"input":if(tc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ol(r);if(!s)throw Error(R(90));fm(r),tc(r,s)}}}break;case"textarea":_m(t,n);break;case"select":e=n.value,e!=null&&ir(t,!!n.multiple,e,!1)}};Em=Kh;Sm=Si;var GE={usingClientEntryPoint:!1,Events:[Qs,Ki,ol,wm,Cm,Kh]},Xr={findFiberByHostInstance:di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},KE={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pm(t),t===null?null:t.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||VE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{nl=Ko.inject(KE),tn=Ko}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GE;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(e))throw Error(R(200));return ZE(t,e,null,n)};Et.createRoot=function(t,e){if(!td(t))throw Error(R(299));var n=!1,r="",s=sv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xh(t,1,!1,null,null,n,!1,r,s),t[gn]=e.current,Is(t.nodeType===8?t.parentNode:t),new ed(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Pm(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return Si(t)};Et.hydrate=function(t,e,n){if(!_l(e))throw Error(R(200));return ml(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!td(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",u=sv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=rv(e,null,t,1,n??null,s,!1,a,u),t[gn]=e.current,Is(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pl(e)};Et.render=function(t,e,n){if(!_l(e))throw Error(R(200));return ml(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!_l(t))throw Error(R(40));return t._reactRootContainer?(Si(function(){ml(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};Et.unstable_batchedUpdates=Kh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_l(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return ml(t,e,n,!1,r)};Et.version="18.2.0-next-9e3b772b8-20220608";function ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ov)}catch(t){console.error(t)}}ov(),rm.exports=Et;var av=rm.exports,t_=av;Ku.createRoot=t_.createRoot,Ku.hydrateRoot=t_.hydrateRoot;function lv(t,e){const n=$.useRef(e);$.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function qE(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const YE=1;function QE(t){return Object.freeze({__version:YE,map:t})}function nd(t,e){return Object.freeze({...t,...e})}const uv=$.createContext(null),cv=uv.Provider;function gl(){const t=$.useContext(uv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function hv(t){function e(n,r){const{instance:s,context:a}=t(n).current;return $.useImperativeHandle(r,()=>s),n.children==null?null:Jt.createElement(cv,{value:a},n.children)}return $.forwardRef(e)}function XE(t){function e(n,r){const[s,a]=$.useState(!1),{instance:u}=t(n,a).current;$.useImperativeHandle(r,()=>u),$.useEffect(function(){s&&u.update()},[u,s,n.children]);const h=u._contentNode;return h?av.createPortal(n.children,h):null}return $.forwardRef(e)}function JE(t){function e(n,r){const{instance:s}=t(n).current;return $.useImperativeHandle(r,()=>s),null}return $.forwardRef(e)}function id(t,e){const n=$.useRef();$.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function vl(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function eS(t,e){return function(r,s){const a=gl(),u=t(vl(r,a),a);return lv(a.map,r.attribution),id(u.current,r.eventHandlers),e(u.current,a,r,s),u}}var qo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var n_;function dv(){return n_||(n_=1,function(t,e){(function(n,r){r(e)})(xw,function(n){var r="1.9.4";function s(i){var o,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(o in f)i[o]=f[o]}return i}var a=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function u(i,o){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(o,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,o,l){var c,f,_,y;return y=function(){c=!1,f&&(_.apply(l,f),f=!1)},_=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(y,o),c=!0)},_}function g(i,o,l){var c=o[1],f=o[0],_=c-f;return i===c&&l?i:((i-f)%_+_)%_+f}function m(){return!1}function v(i,o){if(o===!1)return i;var l=Math.pow(10,o===void 0?6:o);return Math.round(i*l)/l}function E(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function T(i){return E(i).split(/\s+/)}function P(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in o)i.options[l]=o[l];return i.options}function W(i,o,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!o||o.indexOf("?")===-1?"?":"&")+c.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function w(i,o){return i.replace(C,function(l,c){var f=o[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(o)),f})}var S=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function M(i,o){for(var l=0;l<i.length;l++)if(i[l]===o)return l;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var U=0;function H(i){var o=+new Date,l=Math.max(0,16-(o-U));return U=o+l,window.setTimeout(i,l)}var ve=window.requestAnimationFrame||B("RequestAnimationFrame")||H,X=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function fe(i,o,l){if(l&&ve===H)i.call(o);else return ve.call(window,u(i,o))}function Be(i){i&&X.call(window,i)}var ni={__proto__:null,extend:s,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:g,falseFn:m,formatNum:v,trim:E,splitWords:T,setOptions:P,getParamString:W,template:w,isArray:S,indexOf:M,emptyImageUrl:z,requestFn:ve,cancelFn:X,requestAnimFrame:fe,cancelAnimFrame:Be};function xt(){}xt.extend=function(i){var o=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=o.__super__=this.prototype,c=a(l);c.constructor=o,o.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(o[f]=this[f]);return i.statics&&s(o,i.statics),i.includes&&(Ll(i.includes),s.apply(null,[c].concat(i.includes))),s(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},s(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,y=c._initHooks.length;_<y;_++)c._initHooks[_].call(this)}},o},xt.include=function(i){var o=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},xt.mergeOptions=function(i){return s(this.prototype.options,i),this},xt.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function Ll(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=S(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(i,o,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],o);else{i=T(i);for(var f=0,_=i.length;f<_;f++)this._on(i[f],o,l)}return this},off:function(i,o,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],o);else{i=T(i);for(var f=arguments.length===1,_=0,y=i.length;_<y;_++)f?this._off(i[_]):this._off(i[_],o,l)}return this},_on:function(i,o,l,c){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(i,o,l)===!1){l===this&&(l=void 0);var f={fn:o,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,o,l){var c,f,_;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,_=c.length;f<_;f++)c[f].fn=m;delete this._events[i];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var y=this._listens(i,o,l);if(y!==!1){var x=c[y];this._firingCount&&(x.fn=m,this._events[i]=c=c.slice()),c.splice(y,1)}}},fire:function(i,o,l){if(!this.listens(i,l))return this;var c=s({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var _=0,y=f.length;_<y;_++){var x=f[_],k=x.fn;x.once&&this.off(i,k,x.ctx),k.call(x.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,o,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=o;typeof o!="function"&&(c=!!o,f=void 0,l=void 0);var _=this._events&&this._events[i];if(_&&_.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var y in this._eventParents)if(this._eventParents[y].listens(i,o,l,c))return!0}return!1},_listens:function(i,o,l){if(!this._events)return!1;var c=this._events[i]||[];if(!o)return!!c.length;l===this&&(l=void 0);for(var f=0,_=c.length;f<_;f++)if(c[f].fn===o&&c[f].ctx===l)return f;return!1},once:function(i,o,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],o,!0);else{i=T(i);for(var f=0,_=i.length;f<_;f++)this._on(i[f],o,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var rn=xt.extend(Ve);function I(i,o,l){this.x=l?Math.round(i):i,this.y=l?Math.round(o):o}var K=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(A(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(A(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(i){i=A(i);var o=i.x-this.x,l=i.y-this.y;return Math.sqrt(o*o+l*l)},equals:function(i){return i=A(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=A(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function A(i,o,l){return i instanceof I?i:S(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,o,l)}function G(i,o){if(i)for(var l=o?[i,o]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}G.prototype={extend:function(i){var o,l;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)o=l=A(i);else if(i=se(i),o=i.min,l=i.max,!o||!l)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=l.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,l;return typeof i[0]=="number"||i instanceof I?i=A(i):i=se(i),i instanceof G?(o=i.min,l=i.max):o=l=i,o.x>=this.min.x&&l.x<=this.max.x&&o.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=se(i);var o=this.min,l=this.max,c=i.min,f=i.max,_=f.x>=o.x&&c.x<=l.x,y=f.y>=o.y&&c.y<=l.y;return _&&y},overlaps:function(i){i=se(i);var o=this.min,l=this.max,c=i.min,f=i.max,_=f.x>o.x&&c.x<l.x,y=f.y>o.y&&c.y<l.y;return _&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var o=this.min,l=this.max,c=Math.abs(o.x-l.x)*i,f=Math.abs(o.y-l.y)*i;return se(A(o.x-c,o.y-f),A(l.x+c,l.y+f))},equals:function(i){return i?(i=se(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function se(i,o){return!i||i instanceof G?i:new G(i,o)}function Ae(i,o){if(i)for(var l=o?[i,o]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Ae.prototype={extend:function(i){var o=this._southWest,l=this._northEast,c,f;if(i instanceof ae)c=i,f=i;else if(i instanceof Ae){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(q(i)||he(i)):this;return!o&&!l?(this._southWest=new ae(c.lat,c.lng),this._northEast=new ae(f.lat,f.lng)):(o.lat=Math.min(c.lat,o.lat),o.lng=Math.min(c.lng,o.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var o=this._southWest,l=this._northEast,c=Math.abs(o.lat-l.lat)*i,f=Math.abs(o.lng-l.lng)*i;return new Ae(new ae(o.lat-c,o.lng-f),new ae(l.lat+c,l.lng+f))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ae||"lat"in i?i=q(i):i=he(i);var o=this._southWest,l=this._northEast,c,f;return i instanceof Ae?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=o.lat&&f.lat<=l.lat&&c.lng>=o.lng&&f.lng<=l.lng},intersects:function(i){i=he(i);var o=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),_=f.lat>=o.lat&&c.lat<=l.lat,y=f.lng>=o.lng&&c.lng<=l.lng;return _&&y},overlaps:function(i){i=he(i);var o=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),_=f.lat>o.lat&&c.lat<l.lat,y=f.lng>o.lng&&c.lng<l.lng;return _&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=he(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(i,o){return i instanceof Ae?i:new Ae(i,o)}function ae(i,o,l){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,l!==void 0&&(this.alt=+l)}ae.prototype={equals:function(i,o){if(!i)return!1;i=q(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return xn.distance(this,q(i))},wrap:function(){return xn.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,l=o/Math.cos(Math.PI/180*this.lat);return he([this.lat-o,this.lng-l],[this.lat+o,this.lng+l])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function q(i,o,l){return i instanceof ae?i:S(i)&&typeof i[0]!="object"?i.length===3?new ae(i[0],i[1],i[2]):i.length===2?new ae(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ae(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new ae(i,o,l)}var lt={latLngToPoint:function(i,o){var l=this.projection.project(i),c=this.scale(o);return this.transformation._transform(l,c)},pointToLatLng:function(i,o){var l=this.scale(o),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(o.min,l),f=this.transformation.transform(o.max,l);return new G(c,f)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new ae(l,o,c)},wrapLatLngBounds:function(i){var o=i.getCenter(),l=this.wrapLatLng(o),c=o.lat-l.lat,f=o.lng-l.lng;if(c===0&&f===0)return i;var _=i.getSouthWest(),y=i.getNorthEast(),x=new ae(_.lat-c,_.lng-f),k=new ae(y.lat-c,y.lng-f);return new Ae(x,k)}},xn=s({},lt,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var l=Math.PI/180,c=i.lat*l,f=o.lat*l,_=Math.sin((o.lat-i.lat)*l/2),y=Math.sin((o.lng-i.lng)*l/2),x=_*_+Math.cos(c)*Math.cos(f)*y*y,k=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*k}}),Dd=6378137,Nl={R:Dd,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*o);return new I(this.R*i.lng*o,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var o=180/Math.PI;return new ae((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=Dd*Math.PI;return new G([-i,-i],[i,i])}()};function Ml(i,o,l,c){if(S(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=l,this._d=c}Ml.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new I((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function Mr(i,o,l,c){return new Ml(i,o,l,c)}var Rl=s({},xn,{code:"EPSG:3857",projection:Nl,transformation:function(){var i=.5/(Math.PI*Nl.R);return Mr(i,.5,-i,.5)}()}),Xy=s({},Rl,{code:"EPSG:900913"});function bd(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function zd(i,o){var l="",c,f,_,y,x,k;for(c=0,_=i.length;c<_;c++){for(x=i[c],f=0,y=x.length;f<y;f++)k=x[f],l+=(f?"L":"M")+k.x+" "+k.y;l+=o?j.svg?"z":"x":""}return l||"M0 0"}var Ol=document.documentElement.style,fo="ActiveXObject"in window,Jy=fo&&!document.addEventListener,Fd="msLaunchUri"in navigator&&!("documentMode"in document),Al=Gt("webkit"),Bd=Gt("android"),Ud=Gt("android 2")||Gt("android 3"),e0=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),t0=Bd&&Gt("Google")&&e0<537&&!("AudioNode"in window),Dl=!!window.opera,Wd=!Fd&&Gt("chrome"),Hd=Gt("gecko")&&!Al&&!Dl&&!fo,n0=!Wd&&Gt("safari"),jd=Gt("phantom"),Zd="OTransition"in Ol,i0=navigator.platform.indexOf("Win")===0,Vd=fo&&"transition"in Ol,bl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ud,$d="MozPerspective"in Ol,r0=!window.L_DISABLE_3D&&(Vd||bl||$d)&&!Zd&&!jd,Rr=typeof orientation<"u"||Gt("mobile"),s0=Rr&&Al,o0=Rr&&bl,Gd=!window.PointerEvent&&window.MSPointerEvent,Kd=!!(window.PointerEvent||Gd),qd="ontouchstart"in window||!!window.TouchEvent,a0=!window.L_NO_TOUCH&&(qd||Kd),l0=Rr&&Dl,u0=Rr&&Hd,c0=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,h0=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,o),window.removeEventListener("testPassiveEventSupport",m,o)}catch{}return i}(),d0=function(){return!!document.createElement("canvas").getContext}(),zl=!!(document.createElementNS&&bd("svg").createSVGRect),f0=!!zl&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),p0=!zl&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),_0=navigator.platform.indexOf("Mac")===0,m0=navigator.platform.indexOf("Linux")===0;function Gt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var j={ie:fo,ielt9:Jy,edge:Fd,webkit:Al,android:Bd,android23:Ud,androidStock:t0,opera:Dl,chrome:Wd,gecko:Hd,safari:n0,phantom:jd,opera12:Zd,win:i0,ie3d:Vd,webkit3d:bl,gecko3d:$d,any3d:r0,mobile:Rr,mobileWebkit:s0,mobileWebkit3d:o0,msPointer:Gd,pointer:Kd,touch:a0,touchNative:qd,mobileOpera:l0,mobileGecko:u0,retina:c0,passiveEvents:h0,canvas:d0,svg:zl,vml:p0,inlineSvg:f0,mac:_0,linux:m0},Yd=j.msPointer?"MSPointerDown":"pointerdown",Qd=j.msPointer?"MSPointerMove":"pointermove",Xd=j.msPointer?"MSPointerUp":"pointerup",Jd=j.msPointer?"MSPointerCancel":"pointercancel",Fl={touchstart:Yd,touchmove:Qd,touchend:Xd,touchcancel:Jd},ef={touchstart:E0,touchmove:po,touchend:po,touchcancel:po},Ri={},tf=!1;function g0(i,o,l){return o==="touchstart"&&C0(),ef[o]?(l=ef[o].bind(this,l),i.addEventListener(Fl[o],l,!1),l):(console.warn("wrong event specified:",o),m)}function v0(i,o,l){if(!Fl[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(Fl[o],l,!1)}function y0(i){Ri[i.pointerId]=i}function w0(i){Ri[i.pointerId]&&(Ri[i.pointerId]=i)}function nf(i){delete Ri[i.pointerId]}function C0(){tf||(document.addEventListener(Yd,y0,!0),document.addEventListener(Qd,w0,!0),document.addEventListener(Xd,nf,!0),document.addEventListener(Jd,nf,!0),tf=!0)}function po(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var l in Ri)o.touches.push(Ri[l]);o.changedTouches=[o],i(o)}}function E0(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&$e(o),po(i,o)}function S0(i){var o={},l,c;for(c in i)l=i[c],o[c]=l&&l.bind?l.bind(i):l;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var x0=200;function T0(i,o){i.addEventListener("dblclick",o);var l=0,c;function f(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var y=lf(_);if(!(y.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!y.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var x=Date.now();x-l<=x0?(c++,c===2&&o(S0(_))):c=1,l=x}}}return i.addEventListener("click",f),{dblclick:o,simDblclick:f}}function P0(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var Bl=go(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Or=go(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rf=Or==="webkitTransition"||Or==="OTransition"?Or+"End":"transitionend";function sf(i){return typeof i=="string"?document.getElementById(i):i}function Ar(i,o){var l=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[o]:null}return l==="auto"?null:l}function le(i,o,l){var c=document.createElement(i);return c.className=o||"",l&&l.appendChild(c),c}function Se(i){var o=i.parentNode;o&&o.removeChild(i)}function _o(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Oi(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function Ai(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function Ul(i,o){if(i.classList!==void 0)return i.classList.contains(o);var l=mo(i);return l.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(l)}function Q(i,o){if(i.classList!==void 0)for(var l=T(o),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!Ul(i,o)){var _=mo(i);Wl(i,(_?_+" ":"")+o)}}function Le(i,o){i.classList!==void 0?i.classList.remove(o):Wl(i,E((" "+mo(i)+" ").replace(" "+o+" "," ")))}function Wl(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function mo(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Tt(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&k0(i,o)}function k0(i,o){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(o===1)return}o=Math.round(o*100),l?(l.Enabled=o!==100,l.Opacity=o):i.style.filter+=" progid:"+c+"(opacity="+o+")"}function go(i){for(var o=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in o)return i[l];return!1}function ii(i,o,l){var c=o||new I(0,0);i.style[Bl]=(j.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Me(i,o){i._leaflet_pos=o,j.any3d?ii(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function ri(i){return i._leaflet_pos||new I(0,0)}var Dr,br,Hl;if("onselectstart"in document)Dr=function(){Y(window,"selectstart",$e)},br=function(){pe(window,"selectstart",$e)};else{var zr=go(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dr=function(){if(zr){var i=document.documentElement.style;Hl=i[zr],i[zr]="none"}},br=function(){zr&&(document.documentElement.style[zr]=Hl,Hl=void 0)}}function jl(){Y(window,"dragstart",$e)}function Zl(){pe(window,"dragstart",$e)}var vo,Vl;function $l(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(yo(),vo=i,Vl=i.style.outlineStyle,i.style.outlineStyle="none",Y(window,"keydown",yo))}function yo(){vo&&(vo.style.outlineStyle=Vl,vo=void 0,Vl=void 0,pe(window,"keydown",yo))}function of(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Gl(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var I0={__proto__:null,TRANSFORM:Bl,TRANSITION:Or,TRANSITION_END:rf,get:sf,getStyle:Ar,create:le,remove:Se,empty:_o,toFront:Oi,toBack:Ai,hasClass:Ul,addClass:Q,removeClass:Le,setClass:Wl,getClass:mo,setOpacity:Tt,testProp:go,setTransform:ii,setPosition:Me,getPosition:ri,get disableTextSelection(){return Dr},get enableTextSelection(){return br},disableImageDrag:jl,enableImageDrag:Zl,preventOutline:$l,restoreOutline:yo,getSizedParentNode:of,getScale:Gl};function Y(i,o,l,c){if(o&&typeof o=="object")for(var f in o)ql(i,f,o[f],l);else{o=T(o);for(var _=0,y=o.length;_<y;_++)ql(i,o[_],l,c)}return this}var Kt="_leaflet_events";function pe(i,o,l,c){if(arguments.length===1)af(i),delete i[Kt];else if(o&&typeof o=="object")for(var f in o)Yl(i,f,o[f],l);else if(o=T(o),arguments.length===2)af(i,function(x){return M(o,x)!==-1});else for(var _=0,y=o.length;_<y;_++)Yl(i,o[_],l,c);return this}function af(i,o){for(var l in i[Kt]){var c=l.split(/\d/)[0];(!o||o(c))&&Yl(i,c,null,null,l)}}var Kl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ql(i,o,l,c){var f=o+d(l)+(c?"_"+d(c):"");if(i[Kt]&&i[Kt][f])return this;var _=function(x){return l.call(c||i,x||window.event)},y=_;!j.touchNative&&j.pointer&&o.indexOf("touch")===0?_=g0(i,o,_):j.touch&&o==="dblclick"?_=T0(i,_):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(Kl[o]||o,_,j.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(_=function(x){x=x||window.event,Xl(i,x)&&y(x)},i.addEventListener(Kl[o],_,!1)):i.addEventListener(o,y,!1):i.attachEvent("on"+o,_),i[Kt]=i[Kt]||{},i[Kt][f]=_}function Yl(i,o,l,c,f){f=f||o+d(l)+(c?"_"+d(c):"");var _=i[Kt]&&i[Kt][f];if(!_)return this;!j.touchNative&&j.pointer&&o.indexOf("touch")===0?v0(i,o,_):j.touch&&o==="dblclick"?P0(i,_):"removeEventListener"in i?i.removeEventListener(Kl[o]||o,_,!1):i.detachEvent("on"+o,_),i[Kt][f]=null}function si(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Ql(i){return ql(i,"wheel",si),this}function Fr(i){return Y(i,"mousedown touchstart dblclick contextmenu",si),i._leaflet_disable_click=!0,this}function $e(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function oi(i){return $e(i),si(i),this}function lf(i){if(i.composedPath)return i.composedPath();for(var o=[],l=i.target;l;)o.push(l),l=l.parentNode;return o}function uf(i,o){if(!o)return new I(i.clientX,i.clientY);var l=Gl(o),c=l.boundingClientRect;return new I((i.clientX-c.left)/l.x-o.clientLeft,(i.clientY-c.top)/l.y-o.clientTop)}var L0=j.linux&&j.chrome?window.devicePixelRatio:j.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cf(i){return j.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/L0:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Xl(i,o){var l=o.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var N0={__proto__:null,on:Y,off:pe,stopPropagation:si,disableScrollPropagation:Ql,disableClickPropagation:Fr,preventDefault:$e,stop:oi,getPropagationPath:lf,getMousePosition:uf,getWheelDelta:cf,isExternalTarget:Xl,addListener:Y,removeListener:pe},hf=rn.extend({run:function(i,o,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ri(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=fe(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,l=this._duration*1e3;o<l?this._runFrame(this._easeOut(o/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var l=this._startPos.add(this._offset.multiplyBy(i));o&&l._round(),Me(this._el,l),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),re=rn.extend({options:{crs:Rl,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=P(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(q(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Or&&j.any3d&&!j.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,rf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,l){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(q(i),o,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=s({animate:l.animate},l.zoom),l.pan=s({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(j.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(j.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,l){var c=this.getZoomScale(o),f=this.getSize().divideBy(2),_=i instanceof I?i:this.latLngToContainerPoint(i),y=_.subtract(f).multiplyBy(1-1/c),x=this.containerPointToLatLng(f.add(y));return this.setView(x,o,{zoom:l})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():he(i);var l=A(o.paddingTopLeft||o.padding||[0,0]),c=A(o.paddingBottomRight||o.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof o.maxZoom=="number"?Math.min(o.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var _=c.subtract(l).divideBy(2),y=this.project(i.getSouthWest(),f),x=this.project(i.getNorthEast(),f),k=this.unproject(y.add(x).divideBy(2).add(_),f);return{center:k,zoom:f}},fitBounds:function(i,o){if(i=he(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,o);return this.setView(l.center,l.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=A(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Q(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,l){if(l=l||{},l.animate===!1||!j.any3d)return this.setView(i,o,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),_=this.getSize(),y=this._zoom;i=q(i),o=o===void 0?y:o;var x=Math.max(_.x,_.y),k=x*this.getZoomScale(y,o),N=f.distanceTo(c)||1,b=1.42,Z=b*b;function J(Re){var Mo=Re?-1:1,vw=Re?k:x,yw=k*k-x*x+Mo*Z*Z*N*N,ww=2*vw*Z*N,uu=yw/ww,Vf=Math.sqrt(uu*uu+1)-uu,Cw=Vf<1e-9?-18:Math.log(Vf);return Cw}function nt(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function Ue(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function kt(Re){return nt(Re)/Ue(Re)}var ut=J(0);function Ui(Re){return x*(Ue(ut)/Ue(ut+b*Re))}function pw(Re){return x*(Ue(ut)*kt(ut+b*Re)-nt(ut))/Z}function _w(Re){return 1-Math.pow(1-Re,1.5)}var mw=Date.now(),jf=(J(1)-ut)/b,gw=l.duration?1e3*l.duration:1e3*jf*.8;function Zf(){var Re=(Date.now()-mw)/gw,Mo=_w(Re)*jf;Re<=1?(this._flyToFrame=fe(Zf,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(pw(Mo)/N)),y),this.getScaleZoom(x/Ui(Mo),y),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Zf.call(this),this},flyToBounds:function(i,o){var l=this._getBoundsCenterZoom(i,o);return this.flyTo(l.center,l.zoom,o)},setMaxBounds:function(i){return i=he(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,he(i));return l.equals(c)||this.panTo(c,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var l=A(o.paddingTopLeft||o.padding||[0,0]),c=A(o.paddingBottomRight||o.padding||[0,0]),f=this.project(this.getCenter()),_=this.project(i),y=this.getPixelBounds(),x=se([y.min.add(l),y.max.subtract(c)]),k=x.getSize();if(!x.contains(_)){this._enforcingBounds=!0;var N=_.subtract(x.getCenter()),b=x.extend(_).getSize().subtract(k);f.x+=N.x<0?-b.x:b.x,f.y+=N.y<0?-b.y:b.y,this.panTo(this.unproject(f),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=o.divideBy(2).round(),f=l.divideBy(2).round(),_=c.subtract(f);return!_.x&&!_.y?this:(i.animate&&i.pan?this.panBy(_):(i.pan&&this._rawPanBy(_),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,l,i):navigator.geolocation.getCurrentPosition(o,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var o=i.code,l=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var o=i.coords.latitude,l=i.coords.longitude,c=new ae(o,l),f=c.toBounds(i.coords.accuracy*2),_=this._locateOptions;if(_.setView){var y=this.getBoundsZoom(f);this.setView(c,_.maxZoom?Math.min(y,_.maxZoom):y)}var x={latlng:c,bounds:f,timestamp:i.timestamp};for(var k in i.coords)typeof i.coords[k]=="number"&&(x[k]=i.coords[k]);this.fire("locationfound",x)}},addHandler:function(i,o){if(!o)return this;var l=this[i]=new o(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Se(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=le("div",l,o||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Ae(o,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,l){i=he(i),l=A(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),_=this.getMaxZoom(),y=i.getNorthWest(),x=i.getSouthEast(),k=this.getSize().subtract(l),N=se(this.project(x,c),this.project(y,c)).getSize(),b=j.any3d?this.options.zoomSnap:1,Z=k.x/N.x,J=k.y/N.y,nt=o?Math.max(Z,J):Math.min(Z,J);return c=this.getScaleZoom(nt,c),b&&(c=Math.round(c/(b/100))*(b/100),c=o?Math.ceil(c/b)*b:Math.floor(c/b)*b),Math.max(f,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var l=this._getTopLeftPoint(i,o);return new G(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var l=this.options.crs;return o=o===void 0?this._zoom:o,l.scale(i)/l.scale(o)},getScaleZoom:function(i,o){var l=this.options.crs;o=o===void 0?this._zoom:o;var c=l.zoom(i*l.scale(o));return isNaN(c)?1/0:c},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(q(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(A(i),o)},layerPointToLatLng:function(i){var o=A(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(q(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(q(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(he(i))},distance:function(i,o){return this.options.crs.distance(q(i),q(o))},containerPointToLayerPoint:function(i){return A(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return A(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(A(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(i)))},mouseEventToContainerPoint:function(i){return uf(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=sf(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Y(o,"scroll",this._onScroll,this),this._containerId=d(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&j.any3d,Q(i,"leaflet-container"+(j.touch?" leaflet-touch":"")+(j.retina?" leaflet-retina":"")+(j.ielt9?" leaflet-oldie":"")+(j.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ar(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(i.markerPane,"leaflet-zoom-hide"),Q(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o,l){Me(this._mapPane,new I(0,0));var c=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,l)._move(i,o)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,l,c){o===void 0&&(o=this._zoom);var f=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Me(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var o=i?pe:Y;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),j.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var l=[],c,f=o==="mouseout"||o==="mouseover",_=i.target||i.srcElement,y=!1;_;){if(c=this._targets[d(_)],c&&(o==="click"||o==="preclick")&&this._draggableMoved(c)){y=!0;break}if(c&&c.listens(o,!0)&&(f&&!Xl(_,i)||(l.push(c),f))||_===this._container)break;_=_.parentNode}return!l.length&&!y&&!f&&this.listens(o,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var l=i.type;l==="mousedown"&&$l(o),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,l){if(i.type==="click"){var c=s({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,o);if(l){for(var _=[],y=0;y<l.length;y++)l[y].listens(o,!0)&&_.push(l[y]);f=_.concat(f)}if(f.length){o==="contextmenu"&&$e(i);var x=f[0],k={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var N=x.getLatLng&&(!x._radius||x._radius<=10);k.containerPoint=N?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(i),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=N?x.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(y=0;y<f.length;y++)if(f[y].fire(o,k,!0),k.originalEvent._stopped||f[y].options.bubblingMouseEvents===!1&&M(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return ri(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var l=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var l=this.getSize()._divideBy(2);return this.project(i,o)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,l){var c=this._getNewPixelOrigin(l,o);return this.project(i,o)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,o,l){var c=this._getNewPixelOrigin(l,o);return se([this.project(i.getSouthWest(),o)._subtract(c),this.project(i.getNorthWest(),o)._subtract(c),this.project(i.getSouthEast(),o)._subtract(c),this.project(i.getNorthEast(),o)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,l){if(!l)return i;var c=this.project(i,o),f=this.getSize().divideBy(2),_=new G(c.subtract(f),c.add(f)),y=this._getBoundsOffset(_,l,o);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?i:this.unproject(c.add(y),o)},_limitOffset:function(i,o){if(!o)return i;var l=this.getPixelBounds(),c=new G(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,o))},_getBoundsOffset:function(i,o,l){var c=se(this.project(o.getNorthEast(),l),this.project(o.getSouthWest(),l)),f=c.min.subtract(i.min),_=c.max.subtract(i.max),y=this._rebound(f.x,-_.x),x=this._rebound(f.y,-_.y);return new I(y,x)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),l=this.getMaxZoom(),c=j.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(o,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var l=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,o),!0)},_createAnimProxy:function(){var i=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var l=Bl,c=this._proxy.style[l];ii(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();ii(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(o),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(fe(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function M0(i,o){return new re(i,o)}var At=xt.extend({options:{position:"topright"},initialize:function(i){P(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return Q(o,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Br=function(i){return new At(i)};re.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",l=this._controlContainer=le("div",o+"control-container",this._container);function c(f,_){var y=o+f+" "+o+_;i[f+_]=le("div",y,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Se(this._controlCorners[i]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var df=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,o,l){P(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in o)this._addLayer(o[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return At.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(d(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=le("div",i),l=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Fr(o),Ql(o);var c=this._section=le("section",i+"-list");l&&(this._map.on("click",this.collapse,this),Y(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=le("a",i+"-toggle",o);f.href="#",f.title="Layers",f.setAttribute("role","button"),Y(f,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){$e(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=le("div",i+"-base",c),this._separator=le("div",i+"-separator",c),this._overlaysList=le("div",i+"-overlays",c),o.appendChild(c)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&d(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_o(this._baseLayersList),_o(this._overlaysList),this._layerControlInputs=[];var i,o,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),o=o||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(d(i.target)),l=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,o)},_createRadioElement:function(i,o){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var o=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),Y(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var _=document.createElement("span");o.appendChild(_),_.appendChild(c),_.appendChild(f);var y=i.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,o,l,c=[],f=[];this._handlingClick=!0;for(var _=i.length-1;_>=0;_--)o=i[_],l=this._getLayer(o.layerId).layer,o.checked?c.push(l):o.checked||f.push(l);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])&&this._map.removeLayer(f[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)o=i[f],l=this._getLayer(o.layerId).layer,o.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Y(i,"click",$e),this.expand();var o=this;setTimeout(function(){pe(i,"click",$e),o._preventClick=!1})}}),R0=function(i,o,l){return new df(i,o,l)},Jl=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",l=le("div",o+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,o+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,o+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,l,c,f){var _=le("a",l,c);return _.innerHTML=i,_.href="#",_.title=o,_.setAttribute("role","button"),_.setAttribute("aria-label",o),Fr(_),Y(_,"click",oi),Y(_,"click",f,this),Y(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";Le(this._zoomInButton,o),Le(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Q(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Q(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jl,this.addControl(this.zoomControl))});var O0=function(i){return new Jl(i)},ff=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",l=le("div",o),c=this.options;return this._addScales(c,o+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,l){i.metric&&(this._mScale=le("div",o,l)),i.imperial&&(this._iScale=le("div",o,l))},_update:function(){var i=this._map,o=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),l=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,l,o/i)},_updateImperial:function(i){var o=i*3.2808399,l,c,f;o>5280?(l=o/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(o),this._updateScale(this._iScale,f+" ft",f/o))},_updateScale:function(i,o,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),l=i/o;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,o*l}}),A0=function(i){return new ff(i)},D0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',eu=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(j.inlineSvg?D0+" ":"")+"Leaflet</a>"},initialize:function(i){P(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=le("div","leaflet-control-attribution"),Fr(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new eu().addTo(this)});var b0=function(i){return new eu(i)};At.Layers=df,At.Zoom=Jl,At.Scale=ff,At.Attribution=eu,Br.layers=R0,Br.zoom=O0,Br.scale=A0,Br.attribution=b0;var qt=xt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qt.addTo=function(i,o){return i.addHandler(o,this),this};var z0={Events:Ve},pf=j.touch?"touchstart mousedown":"mousedown",Tn=rn.extend({options:{clickTolerance:3},initialize:function(i,o,l,c){P(this,c),this._element=i,this._dragStartTarget=o||i,this._preventOutline=l},enable:function(){this._enabled||(Y(this._dragStartTarget,pf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tn._dragging===this&&this.finishDrag(!0),pe(this._dragStartTarget,pf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ul(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Tn._dragging===this&&this.finishDrag();return}if(!(Tn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Tn._dragging=this,this._preventOutline&&$l(this._element),jl(),Dr(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,l=of(this._element);this._startPoint=new I(o.clientX,o.clientY),this._startPos=ri(this._element),this._parentScale=Gl(l);var c=i.type==="mousedown";Y(document,c?"mousemove":"touchmove",this._onMove,this),Y(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,l=new I(o.clientX,o.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,$e(i),this._moved||(this.fire("dragstart"),this._moved=!0,Q(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Me(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pe(document,"mousemove touchmove",this._onMove,this),pe(document,"mouseup touchend touchcancel",this._onUp,this),Zl(),br();var o=this._moved&&this._moving;this._moving=!1,Tn._dragging=!1,o&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function _f(i,o,l){var c,f=[1,4,2,8],_,y,x,k,N,b,Z,J;for(_=0,b=i.length;_<b;_++)i[_]._code=ai(i[_],o);for(x=0;x<4;x++){for(Z=f[x],c=[],_=0,b=i.length,y=b-1;_<b;y=_++)k=i[_],N=i[y],k._code&Z?N._code&Z||(J=wo(N,k,Z,o,l),J._code=ai(J,o),c.push(J)):(N._code&Z&&(J=wo(N,k,Z,o,l),J._code=ai(J,o),c.push(J)),c.push(k));i=c}return i}function mf(i,o){var l,c,f,_,y,x,k,N,b;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Z=q([0,0]),J=he(i),nt=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());nt<1700&&(Z=tu(i));var Ue=i.length,kt=[];for(l=0;l<Ue;l++){var ut=q(i[l]);kt.push(o.project(q([ut.lat-Z.lat,ut.lng-Z.lng])))}for(x=k=N=0,l=0,c=Ue-1;l<Ue;c=l++)f=kt[l],_=kt[c],y=f.y*_.x-_.y*f.x,k+=(f.x+_.x)*y,N+=(f.y+_.y)*y,x+=y*3;x===0?b=kt[0]:b=[k/x,N/x];var Ui=o.unproject(A(b));return q([Ui.lat+Z.lat,Ui.lng+Z.lng])}function tu(i){for(var o=0,l=0,c=0,f=0;f<i.length;f++){var _=q(i[f]);o+=_.lat,l+=_.lng,c++}return q([o/c,l/c])}var F0={__proto__:null,clipPolygon:_f,polygonCenter:mf,centroid:tu};function gf(i,o){if(!o||!i.length)return i.slice();var l=o*o;return i=W0(i,l),i=U0(i,l),i}function vf(i,o,l){return Math.sqrt(Ur(i,o,l,!0))}function B0(i,o,l){return Ur(i,o,l)}function U0(i,o){var l=i.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,nu(i,f,o,0,l-1);var _,y=[];for(_=0;_<l;_++)f[_]&&y.push(i[_]);return y}function nu(i,o,l,c,f){var _=0,y,x,k;for(x=c+1;x<=f-1;x++)k=Ur(i[x],i[c],i[f],!0),k>_&&(y=x,_=k);_>l&&(o[y]=1,nu(i,o,l,c,y),nu(i,o,l,y,f))}function W0(i,o){for(var l=[i[0]],c=1,f=0,_=i.length;c<_;c++)H0(i[c],i[f])>o&&(l.push(i[c]),f=c);return f<_-1&&l.push(i[_-1]),l}var yf;function wf(i,o,l,c,f){var _=c?yf:ai(i,l),y=ai(o,l),x,k,N;for(yf=y;;){if(!(_|y))return[i,o];if(_&y)return!1;x=_||y,k=wo(i,o,x,l,f),N=ai(k,l),x===_?(i=k,_=N):(o=k,y=N)}}function wo(i,o,l,c,f){var _=o.x-i.x,y=o.y-i.y,x=c.min,k=c.max,N,b;return l&8?(N=i.x+_*(k.y-i.y)/y,b=k.y):l&4?(N=i.x+_*(x.y-i.y)/y,b=x.y):l&2?(N=k.x,b=i.y+y*(k.x-i.x)/_):l&1&&(N=x.x,b=i.y+y*(x.x-i.x)/_),new I(N,b,f)}function ai(i,o){var l=0;return i.x<o.min.x?l|=1:i.x>o.max.x&&(l|=2),i.y<o.min.y?l|=4:i.y>o.max.y&&(l|=8),l}function H0(i,o){var l=o.x-i.x,c=o.y-i.y;return l*l+c*c}function Ur(i,o,l,c){var f=o.x,_=o.y,y=l.x-f,x=l.y-_,k=y*y+x*x,N;return k>0&&(N=((i.x-f)*y+(i.y-_)*x)/k,N>1?(f=l.x,_=l.y):N>0&&(f+=y*N,_+=x*N)),y=i.x-f,x=i.y-_,c?y*y+x*x:new I(f,_)}function Pt(i){return!S(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Cf(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pt(i)}function Ef(i,o){var l,c,f,_,y,x,k,N;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var b=q([0,0]),Z=he(i),J=Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest());J<1700&&(b=tu(i));var nt=i.length,Ue=[];for(l=0;l<nt;l++){var kt=q(i[l]);Ue.push(o.project(q([kt.lat-b.lat,kt.lng-b.lng])))}for(l=0,c=0;l<nt-1;l++)c+=Ue[l].distanceTo(Ue[l+1])/2;if(c===0)N=Ue[0];else for(l=0,_=0;l<nt-1;l++)if(y=Ue[l],x=Ue[l+1],f=y.distanceTo(x),_+=f,_>c){k=(_-c)/f,N=[x.x-k*(x.x-y.x),x.y-k*(x.y-y.y)];break}var ut=o.unproject(A(N));return q([ut.lat+b.lat,ut.lng+b.lng])}var j0={__proto__:null,simplify:gf,pointToSegmentDistance:vf,closestPointOnSegment:B0,clipSegment:wf,_getEdgeIntersection:wo,_getBitCode:ai,_sqClosestPointOnSegment:Ur,isFlat:Pt,_flat:Cf,polylineCenter:Ef},iu={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new ae(i.y,i.x)},bounds:new G([-180,-90],[180,90])},ru={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,l=this.R,c=i.lat*o,f=this.R_MINOR/l,_=Math.sqrt(1-f*f),y=_*Math.sin(c),x=Math.tan(Math.PI/4-c/2)/Math.pow((1-y)/(1+y),_/2);return c=-l*Math.log(Math.max(x,1e-10)),new I(i.lng*o*l,c)},unproject:function(i){for(var o=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),_=Math.exp(-i.y/l),y=Math.PI/2-2*Math.atan(_),x=0,k=.1,N;x<15&&Math.abs(k)>1e-7;x++)N=f*Math.sin(y),N=Math.pow((1-N)/(1+N),f/2),k=Math.PI/2-2*Math.atan(_*N)-y,y+=k;return new ae(y*o,i.x*o/l)}},Z0={__proto__:null,LonLat:iu,Mercator:ru,SphericalMercator:Nl},V0=s({},xn,{code:"EPSG:3395",projection:ru,transformation:function(){var i=.5/(Math.PI*ru.R);return Mr(i,.5,-i,.5)}()}),Sf=s({},xn,{code:"EPSG:4326",projection:iu,transformation:Mr(1/180,1,-1/180,.5)}),$0=s({},lt,{projection:iu,transformation:Mr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var l=o.lng-i.lng,c=o.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});lt.Earth=xn,lt.EPSG3395=V0,lt.EPSG3857=Rl,lt.EPSG900913=Xy,lt.EPSG4326=Sf,lt.Simple=$0;var Dt=rn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var l=this.getEvents();o.on(l,this),this.once("remove",function(){o.off(l,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});re.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=d(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=d(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,o){for(var l in this._layers)i.call(o,this._layers[l]);return this},_addLayers:function(i){i=i?S(i)?i:[i]:[];for(var o=0,l=i.length;o<l;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=d(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),o=f.maxZoom===void 0?o:Math.max(o,f.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Di=Dt.extend({initialize:function(i,o){P(this,o),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var l in this._layers)i.call(o,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),G0=function(i,o){return new Di(i,o)},sn=Di.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Di.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Di.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ae;for(var o in this._layers){var l=this._layers[o];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),K0=function(i,o){return new sn(i,o)},bi=xt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){P(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,o){var l=this.options,c=l[o+"Size"];typeof c=="number"&&(c=[c,c]);var f=A(c),_=A(o==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(l.className||""),_&&(i.style.marginLeft=-_.x+"px",i.style.marginTop=-_.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return j.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function q0(i){return new bi(i)}var Wr=bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Wr.imagePath!="string"&&(Wr.imagePath=this._detectIconPath()),(this.options.imagePath||Wr.imagePath)+bi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(l,c,f){var _=c.exec(l);return _&&_[f]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=le("div","leaflet-default-icon-path",document.body),o=Ar(i,"background-image")||Ar(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),xf=qt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Tn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,l=o._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,_=ri(o._icon),y=l.getPixelBounds(),x=l.getPixelOrigin(),k=se(y.min._subtract(x).add(f),y.max._subtract(x).subtract(f));if(!k.contains(_)){var N=A((Math.max(k.max.x,_.x)-k.max.x)/(y.max.x-k.max.x)-(Math.min(k.min.x,_.x)-k.min.x)/(y.min.x-k.min.x),(Math.max(k.max.y,_.y)-k.max.y)/(y.max.y-k.max.y)-(Math.min(k.min.y,_.y)-k.min.y)/(y.min.y-k.min.y)).multiplyBy(c);l.panBy(N,{animate:!1}),this._draggable._newPos._add(N),this._draggable._startPos._add(N),Me(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=fe(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=fe(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,l=o._shadow,c=ri(o._icon),f=o._map.layerPointToLatLng(c);l&&Me(l,c),o._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Co=Dt.extend({options:{icon:new Wr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){P(this,o),this._latlng=q(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=q(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),Q(l,o),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),_=!1;f!==this._shadow&&(this._removeShadow(),_=!0),f&&(Q(f,o),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&_&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Me(this._icon,i),this._shadow&&Me(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xf)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xf(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Tt(this._icon,i),this._shadow&&Tt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var o=this.options.icon.options,l=o.iconSize?A(o.iconSize):A(0,0),c=o.iconAnchor?A(o.iconAnchor):A(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Y0(i,o){return new Co(i,o)}var Pn=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return P(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Eo=Pn.extend({options:{fill:!0,radius:10},initialize:function(i,o){P(this,o),this._latlng=q(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=q(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return Pn.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,l=this._clickTolerance(),c=[i+l,o+l];this._pxBounds=new G(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Q0(i,o){return new Eo(i,o)}var su=Eo.extend({initialize:function(i,o,l){if(typeof o=="number"&&(o=s({},l,{radius:o})),P(this,o),this._latlng=q(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Pn.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===xn.distance){var f=Math.PI/180,_=this._mRadius/xn.R/f,y=l.project([o+_,i]),x=l.project([o-_,i]),k=y.add(x).divideBy(2),N=l.unproject(k).lat,b=Math.acos((Math.cos(_*f)-Math.sin(o*f)*Math.sin(N*f))/(Math.cos(o*f)*Math.cos(N*f)))/f;(isNaN(b)||b===0)&&(b=_/Math.cos(Math.PI/180*o)),this._point=k.subtract(l.getPixelOrigin()),this._radius=isNaN(b)?0:k.x-l.project([N,i-b]).x,this._radiusY=k.y-y.y}else{var Z=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(Z).x}this._updateBounds()}});function X0(i,o,l){return new su(i,o,l)}var on=Pn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){P(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,l=null,c=Ur,f,_,y=0,x=this._parts.length;y<x;y++)for(var k=this._parts[y],N=1,b=k.length;N<b;N++){f=k[N-1],_=k[N];var Z=c(i,f,_,!0);Z<o&&(o=Z,l=c(i,f,_))}return l&&(l.distance=Math.sqrt(o)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ef(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=q(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ae,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],l=Pt(i),c=0,f=i.length;c<f;c++)l?(o[c]=q(i[c]),this._bounds.extend(o[c])):o[c]=this._convertLatLngs(i[c]);return o},_project:function(){var i=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new I(i,i);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,l){var c=i[0]instanceof ae,f=i.length,_,y;if(c){for(y=[],_=0;_<f;_++)y[_]=this._map.latLngToLayerPoint(i[_]),l.extend(y[_]);o.push(y)}else for(_=0;_<f;_++)this._projectLatlngs(i[_],o,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,l,c,f,_,y,x,k;for(l=0,f=0,_=this._rings.length;l<_;l++)for(k=this._rings[l],c=0,y=k.length;c<y-1;c++)x=wf(k[c],k[c+1],i,c,!0),x&&(o[f]=o[f]||[],o[f].push(x[0]),(x[1]!==k[c+1]||c===y-2)&&(o[f].push(x[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=gf(i[l],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var l,c,f,_,y,x,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,_=this._parts.length;l<_;l++)for(x=this._parts[l],c=0,y=x.length,f=y-1;c<y;f=c++)if(!(!o&&c===0)&&vf(i,x[f],x[c])<=k)return!0;return!1}});function J0(i,o){return new on(i,o)}on._flat=Cf;var zi=on.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var o=on.prototype._convertLatLngs.call(this,i),l=o.length;return l>=2&&o[0]instanceof ae&&o[0].equals(o[l-1])&&o.pop(),o},_setLatLngs:function(i){on.prototype._setLatLngs.call(this,i),Pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,l=new I(o,o);if(i=new G(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,_;c<f;c++)_=_f(this._rings[c],i,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,l,c,f,_,y,x,k,N;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(_=0,k=this._parts.length;_<k;_++)for(l=this._parts[_],y=0,N=l.length,x=N-1;y<N;x=y++)c=l[y],f=l[x],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(o=!o);return o||on.prototype._containsPoint.call(this,i,!0)}});function ew(i,o){return new zi(i,o)}var an=sn.extend({initialize:function(i,o){P(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=S(i)?i:i.features,l,c,f;if(o){for(l=0,c=o.length;l<c;l++)f=o[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var _=this.options;if(_.filter&&!_.filter(i))return this;var y=So(i,_);return y?(y.feature=Po(i),y.defaultOptions=y.options,this.resetStyle(y),_.onEachFeature&&_.onEachFeature(i,y),this.addLayer(y)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function So(i,o){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],_=o&&o.pointToLayer,y=o&&o.coordsToLatLng||ou,x,k,N,b;if(!c&&!l)return null;switch(l.type){case"Point":return x=y(c),Tf(_,i,x,o);case"MultiPoint":for(N=0,b=c.length;N<b;N++)x=y(c[N]),f.push(Tf(_,i,x,o));return new sn(f);case"LineString":case"MultiLineString":return k=xo(c,l.type==="LineString"?0:1,y),new on(k,o);case"Polygon":case"MultiPolygon":return k=xo(c,l.type==="Polygon"?1:2,y),new zi(k,o);case"GeometryCollection":for(N=0,b=l.geometries.length;N<b;N++){var Z=So({geometry:l.geometries[N],type:"Feature",properties:i.properties},o);Z&&f.push(Z)}return new sn(f);case"FeatureCollection":for(N=0,b=l.features.length;N<b;N++){var J=So(l.features[N],o);J&&f.push(J)}return new sn(f);default:throw new Error("Invalid GeoJSON object.")}}function Tf(i,o,l,c){return i?i(o,l):new Co(l,c&&c.markersInheritOptions&&c)}function ou(i){return new ae(i[1],i[0],i[2])}function xo(i,o,l){for(var c=[],f=0,_=i.length,y;f<_;f++)y=o?xo(i[f],o-1,l):(l||ou)(i[f]),c.push(y);return c}function au(i,o){return i=q(i),i.alt!==void 0?[v(i.lng,o),v(i.lat,o),v(i.alt,o)]:[v(i.lng,o),v(i.lat,o)]}function To(i,o,l,c){for(var f=[],_=0,y=i.length;_<y;_++)f.push(o?To(i[_],Pt(i[_])?0:o-1,l,c):au(i[_],c));return!o&&l&&f.length>0&&f.push(f[0].slice()),f}function Fi(i,o){return i.feature?s({},i.feature,{geometry:o}):Po(o)}function Po(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var lu={toGeoJSON:function(i){return Fi(this,{type:"Point",coordinates:au(this.getLatLng(),i)})}};Co.include(lu),su.include(lu),Eo.include(lu),on.include({toGeoJSON:function(i){var o=!Pt(this._latlngs),l=To(this._latlngs,o?1:0,!1,i);return Fi(this,{type:(o?"Multi":"")+"LineString",coordinates:l})}}),zi.include({toGeoJSON:function(i){var o=!Pt(this._latlngs),l=o&&!Pt(this._latlngs[0]),c=To(this._latlngs,l?2:o?1:0,!0,i);return o||(c=[c]),Fi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),Di.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(l){o.push(l.toGeoJSON(i).geometry.coordinates)}),Fi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var l=o==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var _=f.toGeoJSON(i);if(l)c.push(_.geometry);else{var y=Po(_);y.type==="FeatureCollection"?c.push.apply(c,y.features):c.push(y)}}}),l?Fi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Pf(i,o){return new an(i,o)}var tw=Pf,ko=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,l){this._url=i,this._bounds=he(o),P(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Oi(this._image),this},bringToBack:function(){return this._map&&Ai(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=he(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:le("img");if(Q(o,"leaflet-image-layer"),this._zoomAnimated&&Q(o,"leaflet-zoom-animated"),this.options.className&&Q(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;ii(this._image,l,o)},_reset:function(){var i=this._image,o=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=o.getSize();Me(i,o.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){Tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),nw=function(i,o,l){return new ko(i,o,l)},kf=ko.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:le("video");if(Q(o,"leaflet-image-layer"),this._zoomAnimated&&Q(o,"leaflet-zoom-animated"),this.options.className&&Q(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onloadeddata=u(this.fire,this,"load"),i){for(var l=o.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[o.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var y=le("source");y.src=this._url[_],o.appendChild(y)}}});function iw(i,o,l){return new kf(i,o,l)}var If=ko.extend({_initImage:function(){var i=this._image=this._url;Q(i,"leaflet-image-layer"),this._zoomAnimated&&Q(i,"leaflet-zoom-animated"),this.options.className&&Q(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function rw(i,o,l){return new If(i,o,l)}var Yt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,o){i&&(i instanceof ae||S(i))?(this._latlng=q(i),P(this,o)):(P(this,i),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Tt(this._container,1),this.bringToFront(),this.options.interactive&&(Q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Tt(this._container,0),this._removeTimeout=setTimeout(u(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=q(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oi(this._container),this},bringToBack:function(){return this._map&&Ai(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof sn){o=null;var l=this._source._layers;for(var c in l)if(l[c]._map){o=l[c];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=A(this.options.offset),l=this._getAnchor();this._zoomAnimated?Me(this._container,i.add(l)):o=o.add(i).add(l);var c=this._containerBottom=-o.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(i,o,l,c){var f=o;return f instanceof i||(f=new i(c).setContent(o)),l&&f.setLatLng(l),f}}),Dt.include({_initOverlay:function(i,o,l,c){var f=l;return f instanceof i?(P(f,c),f._source=this):(f=o&&!c?o:new i(c,this),f.setContent(l)),f}});var Io=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Yt.prototype.openOn.call(this,i)},onAdd:function(i){Yt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pn||this._source.on("preclick",si))},onRemove:function(i){Yt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pn||this._source.off("preclick",si))},getEvents:function(){var i=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=le("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=le("div",i+"-content-wrapper",o);if(this._contentNode=le("div",i+"-content",l),Fr(o),Ql(this._contentNode),Y(o,"contextmenu",si),this._tipContainer=le("div",i+"-tip-container",o),this._tip=le("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=le("a",i+"-close-button",o);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Y(c,"click",function(f){$e(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),o.width=l+1+"px",o.whiteSpace="",o.height="";var c=i.offsetHeight,f=this.options.maxHeight,_="leaflet-popup-scrolled";f&&c>f?(o.height=f+"px",Q(i,_)):Le(i,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();Me(this._container,o.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,o=parseInt(Ar(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+o,c=this._containerWidth,f=new I(this._containerLeft,-l-this._containerBottom);f._add(ri(this._container));var _=i.layerPointToContainerPoint(f),y=A(this.options.autoPanPadding),x=A(this.options.autoPanPaddingTopLeft||y),k=A(this.options.autoPanPaddingBottomRight||y),N=i.getSize(),b=0,Z=0;_.x+c+k.x>N.x&&(b=_.x+c-N.x+k.x),_.x-b-x.x<0&&(b=_.x-x.x),_.y+l+k.y>N.y&&(Z=_.y+l-N.y+k.y),_.y-Z-x.y<0&&(Z=_.y-x.y),(b||Z)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([b,Z]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sw=function(i,o){return new Io(i,o)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(i,o,l){return this._initOverlay(Io,i,o,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Dt.include({bindPopup:function(i,o){return this._popup=this._initOverlay(Io,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof sn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){oi(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof Pn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Lo=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Yt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Yt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Yt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,l,c=this._map,f=this._container,_=c.latLngToContainerPoint(c.getCenter()),y=c.layerPointToContainerPoint(i),x=this.options.direction,k=f.offsetWidth,N=f.offsetHeight,b=A(this.options.offset),Z=this._getAnchor();x==="top"?(o=k/2,l=N):x==="bottom"?(o=k/2,l=0):x==="center"?(o=k/2,l=N/2):x==="right"?(o=0,l=N/2):x==="left"?(o=k,l=N/2):y.x<_.x?(x="right",o=0,l=N/2):(x="left",o=k+(b.x+Z.x)*2,l=N/2),i=i.subtract(A(o,l,!0)).add(b).add(Z),Le(f,"leaflet-tooltip-right"),Le(f,"leaflet-tooltip-left"),Le(f,"leaflet-tooltip-top"),Le(f,"leaflet-tooltip-bottom"),Q(f,"leaflet-tooltip-"+x),Me(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Tt(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ow=function(i,o){return new Lo(i,o)};re.include({openTooltip:function(i,o,l){return this._initOverlay(Lo,i,o,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Dt.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lo,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[o](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof sn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&(Y(o,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Y(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var o=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),o=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(o)}});var Lf=bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(_o(o),o.appendChild(l.html)):o.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=A(l.bgPos);o.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function aw(i){return new Lf(i)}bi.Default=Wr;var Hr=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:j.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){P(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Se(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,l=-i(-1/0,1/0),c=0,f=o.length,_;c<f;c++)_=o[c].style.zIndex,o[c]!==this._container&&_&&(l=i(l,+_));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!j.ielt9){Tt(this._container,this.options.opacity);var i=+new Date,o=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var _=Math.min(1,(i-f.loaded)/200);Tt(f.el,_),_<1?o=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),o&&(Be(this._fadeFrame),this._fadeFrame=fe(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=o-Math.abs(i-l),this._onUpdateLevel(l)):(Se(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=o,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),m(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,o,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var c=o.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Se(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,l,c){var f=Math.floor(i/2),_=Math.floor(o/2),y=l-1,x=new I(+f,+_);x.z=+y;var k=this._tileCoordsToKey(x),N=this._tiles[k];return N&&N.active?(N.retain=!0,!0):(N&&N.loaded&&(N.retain=!0),y>c?this._retainParent(f,_,y,c):!1)},_retainChildren:function(i,o,l,c){for(var f=2*i;f<2*i+2;f++)for(var _=2*o;_<2*o+2;_++){var y=new I(f,_);y.z=l+1;var x=this._tileCoordsToKey(y),k=this._tiles[x];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);l+1<c&&this._retainChildren(f,_,l+1,c)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,l,c){var f=Math.round(o);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var _=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||_)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,o)},_setZoomTransform:function(i,o,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(o,l)).round();j.any3d?ii(i.el,f,c):Me(i.el,f)},_resetGrid:function(){var i=this._map,o=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,o.wrapLng[1]],c).x/l.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([o.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,l=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),c=o.getZoomScale(l,this._tileZoom),f=o.project(i,this._tileZoom).floor(),_=o.getSize().divideBy(c*2);return new G(f.subtract(_),f.add(_))},_update:function(i){var o=this._map;if(o){var l=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),_=f.getCenter(),y=[],x=this.options.keepBuffer,k=new G(f.getBottomLeft().subtract([x,-x]),f.getTopRight().add([x,-x]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var N in this._tiles){var b=this._tiles[N].coords;(b.z!==this._tileZoom||!k.contains(new I(b.x,b.y)))&&(this._tiles[N].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var Z=f.min.y;Z<=f.max.y;Z++)for(var J=f.min.x;J<=f.max.x;J++){var nt=new I(J,Z);if(nt.z=this._tileZoom,!!this._isValidTile(nt)){var Ue=this._tiles[this._tileCoordsToKey(nt)];Ue?Ue.current=!0:y.push(nt)}}if(y.sort(function(ut,Ui){return ut.distanceTo(_)-Ui.distanceTo(_)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kt=document.createDocumentFragment();for(J=0;J<y.length;J++)this._addTile(y[J],kt);this._level.el.appendChild(kt)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var l=this._globalTileRange;if(!o.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!o.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return he(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),_=o.unproject(c,i.z),y=o.unproject(f,i.z);return[_,y]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),l=new Ae(o[0],o[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),l=new I(+o[0],+o[1]);return l.z=+o[2],l},_removeTile:function(i){var o=this._tiles[i];o&&(Se(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Q(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=m,i.onmousemove=m,j.ielt9&&this.options.opacity<1&&Tt(i,this.options.opacity)},_addTile:function(i,o){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&fe(u(this._tileReady,this,i,null,f)),Me(f,l),this._tiles[c]={el:f,coords:i,current:!0},o.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,o,l){o&&this.fire("tileerror",{error:o,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Tt(l.el,0),Be(this._fadeFrame),this._fadeFrame=fe(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),o||(Q(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),j.ielt9||!this._map._fadeAnimated?fe(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new I(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new G(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function lw(i){return new Hr(i)}var Bi=Hr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=P(this,o),o.detectRetina&&j.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var l=document.createElement("img");return Y(l,"load",u(this._tileOnLoad,this,o,l)),Y(l,"error",u(this._tileOnError,this,o,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var o={r:j.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=l),o["-y"]=l}return w(this._url,s(o,this.options))},_tileOnLoad:function(i,o){j.ielt9?setTimeout(u(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,l){var c=this.options.errorTileUrl;c&&o.getAttribute("src")!==c&&(o.src=c),i(l,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=o-i),i+c},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=m,o.onerror=m,!o.complete)){o.src=z;var l=this._tiles[i].coords;Se(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:l})}},_removeTile:function(i){var o=this._tiles[i];if(o)return o.el.setAttribute("src",z),Hr.prototype._removeTile.call(this,i)},_tileReady:function(i,o,l){if(!(!this._map||l&&l.getAttribute("src")===z))return Hr.prototype._tileReady.call(this,i,o,l)}});function Nf(i,o){return new Bi(i,o)}var Mf=Bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var l=s({},this.defaultWmsParams);for(var c in o)c in this.options||(l[c]=o[c]);o=P(this,o);var f=o.detectRetina&&j.retina?2:1,_=this.getTileSize();l.width=_.x*f,l.height=_.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Bi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),l=this._crs,c=se(l.project(o[0]),l.project(o[1])),f=c.min,_=c.max,y=(this._wmsVersion>=1.3&&this._crs===Sf?[f.y,f.x,_.y,_.x]:[f.x,f.y,_.x,_.y]).join(","),x=Bi.prototype.getTileUrl.call(this,i);return x+W(this.wmsParams,x,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(i,o){return s(this.wmsParams,i),o||this.redraw(),this}});function uw(i,o){return new Mf(i,o)}Bi.WMS=Mf,Nf.wms=uw;var ln=Dt.extend({options:{padding:.1},initialize:function(i){P(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var l=this._map.getZoomScale(o,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,o),_=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,o));j.any3d?ii(this._container,_,l):Me(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),l=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new G(l,l.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rf=ln.extend({options:{tolerance:0},getEvents:function(){var i=ln.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Y(i,"mousemove",this._onMouseMove,this),Y(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,Se(this._container),pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var i=this._bounds,o=this._container,l=i.getSize(),c=j.retina?2:1;Me(o,i.min),o.width=c*l.x,o.height=c*l.y,o.style.width=l.x+"px",o.style.height=l.y+"px",j.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,l=o.next,c=o.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<o.length;f++){if(c=Number(o[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||fe(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var l=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var l,c,f,_,y=i._parts,x=y.length,k=this._ctx;if(x){for(k.beginPath(),l=0;l<x;l++){for(c=0,f=y[l].length;c<f;c++)_=y[l][c],k[c?"lineTo":"moveTo"](_.x,_.y);o&&k.closePath()}this._fillStroke(k,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(o.x,o.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,o){var l=o.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(Le(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(o)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(Q(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,l){this._map._fireDOMEvent(o,l||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var l=o.next,c=o.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(o){var l=o.next,c=o.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function Of(i){return j.canvas?new Rf(i):null}var jr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),cw={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=jr("shape");Q(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=jr("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;Se(o),i.removeInteractiveTarget(o),delete this._layers[d(i)]},_updateStyle:function(i){var o=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(o||(o=i._stroke=jr("stroke")),f.appendChild(o),o.weight=c.weight+"px",o.color=c.color,o.opacity=c.opacity,c.dashArray?o.dashStyle=S(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=c.lineCap.replace("butt","flat"),o.joinstyle=c.lineJoin):o&&(f.removeChild(o),i._stroke=null),c.fill?(l||(l=i._fill=jr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){Oi(i._container)},_bringToBack:function(i){Ai(i._container)}},No=j.vml?jr:bd,Zr=ln.extend({_initContainer:function(){this._container=No("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=No("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var i=this._bounds,o=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,l.setAttribute("width",o.x),l.setAttribute("height",o.y)),Me(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=No("path");i.options.className&&Q(o,i.options.className),i.options.interactive&&Q(o,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Se(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,l=i.options;o&&(l.stroke?(o.setAttribute("stroke",l.color),o.setAttribute("stroke-opacity",l.opacity),o.setAttribute("stroke-width",l.weight),o.setAttribute("stroke-linecap",l.lineCap),o.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?o.setAttribute("stroke-dasharray",l.dashArray):o.removeAttribute("stroke-dasharray"),l.dashOffset?o.setAttribute("stroke-dashoffset",l.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),l.fill?(o.setAttribute("fill",l.fillColor||l.color),o.setAttribute("fill-opacity",l.fillOpacity),o.setAttribute("fill-rule",l.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,zd(i._parts,o))},_updateCircle:function(i){var o=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",_=i._empty()?"M0 0":"M"+(o.x-l)+","+o.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,_)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){Oi(i._path)},_bringToBack:function(i){Ai(i._path)}});j.vml&&Zr.include(cw);function Af(i){return j.svg||j.vml?new Zr(i):null}re.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&Of(i)||Af(i)}});var Df=zi.extend({initialize:function(i,o){zi.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=he(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function hw(i,o){return new Df(i,o)}Zr.create=No,Zr.pointsToPath=zd,an.geometryToLayer=So,an.coordsToLatLng=ou,an.coordsToLatLngs=xo,an.latLngToCoords=au,an.latLngsToCoords=To,an.getFeature=Fi,an.asFeature=Po,re.mergeOptions({boxZoom:!0});var bf=qt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dr(),jl(),this._startPoint=this._map.mouseEventToContainerPoint(i),Y(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new G(this._point,this._startPoint),l=o.getSize();Me(this._box,o.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Se(this._box),Le(this._container,"leaflet-crosshair")),br(),Zl(),pe(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",bf),re.mergeOptions({doubleClickZoom:!0});var zf=qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,l=o.getZoom(),c=o.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;o.options.doubleClickZoom==="center"?o.setZoom(f):o.setZoomAround(i.containerPoint,f)}});re.addInitHook("addHandler","doubleClickZoom",zf),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ff=qt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Tn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=he(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-o+l)%i+o-l,_=(c+o+l)%i-o-l,y=Math.abs(f+l)<Math.abs(_+l)?f:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(i){var o=this._map,l=o.options,c=!l.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),c)o.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,y=l.easeLinearity,x=f.multiplyBy(y/_),k=x.distanceTo([0,0]),N=Math.min(l.inertiaMaxSpeed,k),b=x.multiplyBy(N/k),Z=N/(l.inertiaDeceleration*y),J=b.multiplyBy(-Z/2).round();!J.x&&!J.y?o.fire("moveend"):(J=o._limitOffset(J,o.options.maxBounds),fe(function(){o.panBy(J,{duration:Z,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",Ff),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bf=qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Y(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,l=i.scrollTop||o.scrollTop,c=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)o[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)o[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)o[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)o[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)o[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)o[l.zoomOut[c]]=-i},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,l=this._map,c;if(o in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[o],i.shiftKey&&(c=A(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(A(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(o in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;oi(i)}}});re.addInitHook("addHandler","keyboard",Bf),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Uf=qt.extend({addHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=cf(i),l=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),oi(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=l?Math.ceil(f/l)*l:f,y=i._limitZoom(o+(this._delta>0?_:-_))-o;this._delta=0,this._startTime=null,y&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+y):i.setZoomAround(this._lastMousePos,o+y))}});re.addInitHook("addHandler","scrollWheelZoom",Uf);var dw=600;re.mergeOptions({tapHold:j.touchNative&&j.safari&&j.mobile,tapTolerance:15});var Wf=qt.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new I(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Y(document,"touchend",$e),Y(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),dw),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){pe(document,"touchend",$e),pe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new I(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});l._simulated=!0,o.target.dispatchEvent(l)}});re.addInitHook("addHandler","tapHold",Wf),re.mergeOptions({touchZoom:j.touch,bounceAtZoomLimits:!0});var Hf=qt.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var l=o.mouseEventToContainerPoint(i.touches[0]),c=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),$e(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,l=o.mouseEventToContainerPoint(i.touches[0]),c=o.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=o.getScaleZoom(f,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&f<1||this._zoom>o.getMaxZoom()&&f>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var _=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&_.x===0&&_.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var y=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=fe(y,this,!0),$e(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",Hf),re.BoxZoom=bf,re.DoubleClickZoom=zf,re.Drag=Ff,re.Keyboard=Bf,re.ScrollWheelZoom=Uf,re.TapHold=Wf,re.TouchZoom=Hf,n.Bounds=G,n.Browser=j,n.CRS=lt,n.Canvas=Rf,n.Circle=su,n.CircleMarker=Eo,n.Class=xt,n.Control=At,n.DivIcon=Lf,n.DivOverlay=Yt,n.DomEvent=N0,n.DomUtil=I0,n.Draggable=Tn,n.Evented=rn,n.FeatureGroup=sn,n.GeoJSON=an,n.GridLayer=Hr,n.Handler=qt,n.Icon=bi,n.ImageOverlay=ko,n.LatLng=ae,n.LatLngBounds=Ae,n.Layer=Dt,n.LayerGroup=Di,n.LineUtil=j0,n.Map=re,n.Marker=Co,n.Mixin=z0,n.Path=Pn,n.Point=I,n.PolyUtil=F0,n.Polygon=zi,n.Polyline=on,n.Popup=Io,n.PosAnimation=hf,n.Projection=Z0,n.Rectangle=Df,n.Renderer=ln,n.SVG=Zr,n.SVGOverlay=If,n.TileLayer=Bi,n.Tooltip=Lo,n.Transformation=Ml,n.Util=ni,n.VideoOverlay=kf,n.bind=u,n.bounds=se,n.canvas=Of,n.circle=X0,n.circleMarker=Q0,n.control=Br,n.divIcon=aw,n.extend=s,n.featureGroup=K0,n.geoJSON=Pf,n.geoJson=tw,n.gridLayer=lw,n.icon=q0,n.imageOverlay=nw,n.latLng=q,n.latLngBounds=he,n.layerGroup=G0,n.map=M0,n.marker=Y0,n.point=A,n.polygon=ew,n.polyline=J0,n.popup=sw,n.rectangle=hw,n.setOptions=P,n.stamp=d,n.svg=Af,n.svgOverlay=rw,n.tileLayer=Nf,n.tooltip=ow,n.transformation=Mr,n.version=r,n.videoOverlay=iw;var fw=window.L;n.noConflict=function(){return window.L=fw,this},window.L=n})}(qo,qo.exports)),qo.exports}var Ni=dv();const ba=ah(Ni);function Js(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function yl(t,e){return e==null?function(r,s){const a=$.useRef();return a.current||(a.current=t(r,s)),a}:function(r,s){const a=$.useRef();a.current||(a.current=t(r,s));const u=$.useRef(r),{instance:h}=a.current;return $.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,s]),a}}function fv(t,e){$.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function pv(t){return function(n){const r=gl(),s=t(vl(n,r),r);return lv(r.map,n.attribution),id(s.current,n.eventHandlers),fv(s.current,r),s}}function tS(t,e){const n=$.useRef();$.useEffect(function(){if(e.pathOptions!==n.current){const s=e.pathOptions??{};t.instance.setStyle(s),n.current=s}},[t,e])}function nS(t){return function(n){const r=gl(),s=t(vl(n,r),r);return id(s.current,n.eventHandlers),fv(s.current,r),tS(s.current,n),s}}function _v(t,e){const n=yl(t,e),r=pv(n);return hv(r)}function iS(t,e){const n=yl(t),r=eS(n,e);return XE(r)}function rS(t,e){const n=yl(t,e),r=nS(n);return hv(r)}function sS(t,e){const n=yl(t,e),r=pv(n);return JE(r)}function oS(t,e,n){const{opacity:r,zIndex:s}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function eo(){return gl().map}const aS=rS(function({center:e,children:n,...r},s){const a=new Ni.CircleMarker(e,r);return Js(a,nd(s,{overlayContainer:a}))},qE),i_=_v(function({children:e,...n},r){const s=new Ni.LayerGroup([],n);return Js(s,nd(r,{layerContainer:s}))});function Wc(){return Wc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}function lS({bounds:t,boundsOptions:e,center:n,children:r,className:s,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...g},m){const[v]=$.useState({className:s,id:a,style:h}),[E,T]=$.useState(null);$.useImperativeHandle(m,()=>(E==null?void 0:E.map)??null,[E]);const P=$.useCallback(C=>{if(C!==null&&E===null){const w=new Ni.Map(C,g);n!=null&&p!=null?w.setView(n,p):t!=null&&w.fitBounds(t,e),d!=null&&w.whenReady(d),T(QE(w))}},[]);$.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const W=E?Jt.createElement(cv,{value:E},r):u??null;return Jt.createElement("div",Wc({},v,{ref:P}),W)}const uS=$.forwardRef(lS),cS=_v(function({position:e,...n},r){const s=new Ni.Marker(e,n);return Js(s,nd(r,{overlayContainer:s}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),hS=iS(function(e,n){const r=new Ni.Popup(e,n.overlayContainer);return Js(r,n)},function(e,n,{position:r},s){$.useEffect(function(){const{instance:u}=e;function h(p){p.popup===u&&(u.update(),s(!0))}function d(p){p.popup===u&&s(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var g;n.map.off({popupopen:h,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(u)}},[e,n,s,r])}),dS=sS(function({url:e,...n},r){const s=new Ni.TileLayer(e,vl(n,r));return Js(s,r)},function(e,n,r){oS(e,n,r);const{url:s}=n;s!=null&&s!==r.url&&e.setUrl(s)}),fS=$.forwardRef(({stakeholders:t,selectedStakeholder:e,setSelectedStakeholder:n,showLocationsServedMarkers:r},s)=>{var p;const a=eo(),[u,h]=$.useState(!0);$.useEffect(()=>{const g=()=>{h(!0)};return a.on("zoomend",g),()=>{a.off("zoomend",g)}},[a]);const d=g=>{if(g.global||!r)a.flyTo([g.headquarterCoordinates.lat,g.headquarterCoordinates.lng],5);else{const m=[g.headquarterCoordinates,...g.locationsServedCoordinates?g.locationsServedCoordinates:[]].map(v=>[v.lat,v.lng]);a.flyToBounds(m,{padding:[150,150],duration:1,easeLinearity:.5})}h(!1)};return D.jsxs(D.Fragment,{children:[D.jsx(i_,{ref:s,children:t.map(g=>D.jsx(cS,{title:g.name,position:g.headquarterCoordinates,icon:ba.icon({iconUrl:e===g?"selected-marker.svg":"marker.svg",iconSize:e===g?[40,40]:[32,32]}),eventHandlers:{click:()=>{e===g?n(null):(n(g),d(g))}}},g.name))}),D.jsx(i_,{children:u&&e&&((p=e.locationsServed)==null?void 0:p.map((g,m)=>{if(e.locationsServedCoordinates&&r)return D.jsx(aS,{center:e.locationsServedCoordinates[m],radius:10,color:"harvard-chan-gray",weight:1,opacity:1,fillOpacity:.9,children:D.jsx(hS,{children:g})},g)}))})]})});var mv={exports:{}};(function(t){(function(e){t.exports=e(dv())})(function(e){return e.Control.Search=e.Control.extend({includes:e.version[0]==="1"?e.Evented.prototype:e.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(n,r){var s=r.split("."),a=s.pop(),u=s.length,h=s[0],d=1;if(u>0)for(;(n=n[h])&&d<u;)h=s[d++];if(n)return n[a]},_isObject:function(n){return Object.prototype.toString.call(n)==="[object Object]"},initialize:function(n){e.Util.setOptions(this,n||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new e.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(n){return this._map=n,this._container=e.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof e.Marker||this.options.marker instanceof e.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new e.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),n.on({resize:this._handleAutoresize},this),this._container},addTo:function(n){return this.options.container?(this._container=this.onAdd(n),this._wrapper=e.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):e.Control.prototype.addTo.call(this,n),this},onRemove:function(n){this._recordsCache={},n.off({resize:this._handleAutoresize},this)},setLayer:function(n){return this._layer=n,this._layer.addTo(this._map),this},showAlert:function(n){var r=this;return n=n||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=n,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){r.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(n){return n=typeof n=="boolean"?n:!0,this._input.style.display="block",e.DomUtil.addClass(this._container,"search-exp"),n!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",e.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var n=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){n.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(n){var r=e.DomUtil.create("div",n,this._container);return r.style.display="none",e.DomEvent.on(r,"click",e.DomEvent.stop,this).on(r,"click",this.hideAlert,this),r},_createInput:function(n,r){var s=this,a=e.DomUtil.create("label",r,this._container),u=e.DomUtil.create("input",r,this._container);return u.type="text",u.size=this._inputMinSize,u.value="",u.autocomplete="off",u.autocorrect="off",u.autocapitalize="off",u.placeholder=n,u.style.display="none",u.role="search",u.id=u.role+u.type+u.size,a.htmlFor=u.id,a.style.display="none",a.value=n,e.DomEvent.disableClickPropagation(u).on(u,"keyup",this._handleKeypress,this).on(u,"paste",function(h){setTimeout(function(d){s._handleKeypress(d)},10,h)},this).on(u,"blur",this.collapseDelayed,this).on(u,"focus",this.collapseDelayedStop,this),u},_createCancel:function(n,r){var s=e.DomUtil.create("a",r,this._container);return s.href="#",s.title=n,s.style.display="none",s.innerHTML="<span>&otimes;</span>",e.DomEvent.on(s,"click",e.DomEvent.stop,this).on(s,"click",this.cancel,this),s},_createButton:function(n,r){var s=e.DomUtil.create("a",r,this._container);return s.href="#",s.title=n,e.DomEvent.on(s,"click",e.DomEvent.stop,this).on(s,"click",this._handleSubmit,this).on(s,"focus",this.collapseDelayedStop,this).on(s,"blur",this.collapseDelayed,this),s},_createTooltip:function(n){var r=this,s=e.DomUtil.create("ul",n,this._container);return s.style.display="none",e.DomEvent.disableClickPropagation(s).on(s,"blur",this.collapseDelayed,this).on(s,"wheel",function(a){r.collapseDelayedStop(),e.DomEvent.stopPropagation(a)},this).on(s,"mouseover",function(a){r.collapseDelayedStop()},this),s},_createTip:function(n,r){var s;if(this.options.buildTip){if(s=this.options.buildTip.call(this,n,r),typeof s=="string"){var a=e.DomUtil.create("div");a.innerHTML=s,s=a.firstChild}}else s=e.DomUtil.create("li",""),s.innerHTML=n;return e.DomUtil.addClass(s,"search-tip"),s._text=n,this.options.tipAutoSubmit&&e.DomEvent.disableClickPropagation(s).on(s,"click",e.DomEvent.stop,this).on(s,"click",function(u){this._input.value=n,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),s},_getUrl:function(n){return typeof this.options.url=="function"?this.options.url(n):this.options.url},_defaultFilterData:function(n,r){var s,a,u,h={};if(n=n.replace(/[.*+?^${}()|[\]\\]/g,""),n==="")return[];s=this.options.initial?"^":"",a=this.options.casesensitive?void 0:"i",u=new RegExp(s+n,a);for(let d in r)u.test(d)&&(h[d]=r[d]);return h},showTooltip:function(n){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(let r in n){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(r,n[r]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(n){var r=this,s=this.options.propertyName,a=this.options.propertyLoc,u={};if(e.Util.isArray(a))for(let h in n)u[r._getPath(n[h],s)]=e.latLng(r._getPath(n[h],a[0]),r._getPath(n[h],a[1]));else for(let h in n)u[r._getPath(n[h],s)]=e.latLng(r._getPath(n[h],a));return u},_recordsFromJsonp:function(n,r){e.Control.Search.callJsonp=r;var s=e.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),a=e.Util.template(this._getUrl(n)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:n});return s.type="text/javascript",s.src=a,{abort:function(){s.parentNode.removeChild(s)}}},_recordsFromAjax:function(n,r){window.XMLHttpRequest===void 0&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch{throw new Error("XMLHttpRequest is not supported")}}});var s=e.Browser.ie&&!window.atob&&document.querySelector,a=s?new XDomainRequest:new XMLHttpRequest,u=e.Util.template(this._getUrl(n),{s:n});return a.open("GET",u),a.onload=function(){r(JSON.parse(a.responseText))},a.onreadystatechange=function(){a.readyState===4&&a.status===200&&this.onload()},a.send(),a},_searchInLayer:function(n,r,s){var a=this,u;n instanceof e.Control.Search.Marker||(n instanceof e.Marker||n instanceof e.CircleMarker?a._getPath(n.options,s)?(u=n.getLatLng(),u.layer=n,r[a._getPath(n.options,s)]=u):a._getPath(n.feature.properties,s)&&(u=n.getLatLng(),u.layer=n,r[a._getPath(n.feature.properties,s)]=u):n instanceof e.Path||n instanceof e.Polyline||n instanceof e.Polygon?a._getPath(n.options,s)?(u=n.getBounds().getCenter(),u.layer=n,r[a._getPath(n.options,s)]=u):a._getPath(n.feature.properties,s)&&(u=n.getBounds().getCenter(),u.layer=n,r[a._getPath(n.feature.properties,s)]=u):n.hasOwnProperty("feature")?n.feature.properties.hasOwnProperty(s)&&(n.getLatLng&&typeof n.getLatLng=="function"?(u=n.getLatLng(),u.layer=n,r[n.feature.properties[s]]=u):n.getBounds&&typeof n.getBounds=="function"&&(u=n.getBounds().getCenter(),u.layer=n,r[n.feature.properties[s]]=u)):n instanceof e.LayerGroup&&n.eachLayer(function(h){a._searchInLayer(h,r,s)}))},_recordsFromLayer:function(){var n=this,r={},s=this.options.propertyName;return this._layer.eachLayer(function(a){n._searchInLayer(a,r,s)}),r},_autoType:function(){var n=this._input.value.length,r=this._tooltip.firstChild?this._tooltip.firstChild._text:"",s=r.length;if(r.indexOf(this._input.value)===0)if(this._input.value=r,this._handleAutoresize(),this._input.createTextRange){var a=this._input.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",s),a.select()}else this._input.setSelectionRange?this._input.setSelectionRange(n,s):this._input.selectionStart&&(this._input.selectionStart=n,this._input.selectionEnd=s)},_hideAutoType:function(){var n;if((n=this._input.selection)&&n.empty)n.empty();else if(this._input.createTextRange){n=this._input.createTextRange(),n.collapse(!0);var r=this._input.value.length;n.moveStart("character",r),n.moveEnd("character",r),n.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(n){var r=this;switch(n.keyCode){case 27:this.collapse();break;case 13:(this._countertips==1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection==-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){r._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(n){var r=n.charCodeAt(n.length);this._input.value=n,this._input.style.display="block",e.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:r})},_fillRecordsCache:function(){var n=this,r=this._input.value,s;this._curReq&&this._curReq.abort&&this._curReq.abort(),e.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),s=this._filterData(this._input.value,this._recordsCache),this.showTooltip(s),e.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,r,function(a){n._recordsCache=n._formatData.call(n,a),n.options.sourceData?s=n._filterData(n._input.value,n._recordsCache):s=n._recordsCache,n.showTooltip(s),e.DomUtil.removeClass(n._container,"search-load")}))},_handleAutoresize:function(){var n;this._input.style.maxWidth!==this._map._container.offsetWidth&&(n=this._map._container.clientWidth,n-=10+20+1+30+22,this._input.style.maxWidth=n.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(n){var r=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let a=0;a<r.length;a++)e.DomUtil.removeClass(r[a],"search-tip-select");if(n==1&&this._tooltip.currentSelection>=r.length-1)e.DomUtil.addClass(r[this._tooltip.currentSelection],"search-tip-select");else if(n==-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!="none"){this._tooltip.currentSelection+=n,e.DomUtil.addClass(r[this._tooltip.currentSelection],"search-tip-select"),this._input.value=r[this._tooltip.currentSelection]._text;var s=r[this._tooltip.currentSelection].offsetTop;s+r[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=s-this._tooltip.clientHeight+r[this._tooltip.currentSelection].clientHeight:s<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=s)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display=="none")this.expand();else if(this._input.value==="")this.collapse();else{var n=this._getLocation(this._input.value);n?(this.showLocation(n,this._input.value),this.fire("search:locationfound",{latlng:n,text:this._input.value,layer:n.layer?n.layer:null})):this.showAlert()}},_getLocation:function(n){return this._recordsCache.hasOwnProperty(n)?this._recordsCache[n]:!1},_defaultMoveToLocation:function(n,r,s){this.options.zoom?this._map.setView(n,this.options.zoom):this._map.panTo(n)},showLocation:function(n,r){var s=this;return s._map.once("moveend zoomend",function(a){s._markerSearch&&s._markerSearch.addTo(s._map).setLatLng(n)}),s._moveToLocation(n,r,s._map),s.options.autoCollapse&&s.collapse(),s}}),e.Control.Search.Marker=e.Marker.extend({includes:e.version[0]==="1"?e.Evented.prototype:e.Mixin.Events,options:{icon:new e.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(n,r){e.setOptions(this,r),r.icon===!0&&(r.icon=new e.Icon.Default),e.Marker.prototype.initialize.call(this,n,r),e.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new e.CircleMarker(n,this.options.circle))},onAdd:function(n){e.Marker.prototype.onAdd.call(this,n),this._circleLoc&&(n.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(n){e.Marker.prototype.onRemove.call(this,n),this._circleLoc&&n.removeLayer(this._circleLoc)},setLatLng:function(n){return e.Marker.prototype.setLatLng.call(this,n),this._circleLoc&&this._circleLoc.setLatLng(n),this},_initIcon:function(){this.options.icon&&e.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&e.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var n=this._circleLoc,r=200,s=5,a=parseInt(n._radius/s),u=this.options.circle.radius,h=n._radius*2,d=0;n._timerAnimLoc=setInterval(function(){d+=.5,a+=d,h-=a,n.setRadius(h),h<u&&(clearInterval(n._timerAnimLoc),n.setRadius(u))},r)}return this}}),e.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=e.control.search(this.options.searchControl),this.addControl(this.searchControl))}),e.control.search=function(n){return new e.Control.Search(n)},e.Control.Search})})(mv);var pS=mv.exports;const _S=ah(pS),mS=({layerRef:t})=>{const e=eo();return $.useEffect(()=>{if(t.current){const n=new _S({textPlaceholder:"Search Stakeholders by name...",position:"topleft",layer:t.current,initial:!1,zoom:12,marker:!1,autoCollapse:!0});return n.on("search:locationfound",r=>{r.layer.fire("click")}),e.addControl(n),()=>{e.removeControl(n)}}},[t]),null},gS="/vite-deploy-demo/assets/external_link-6be3d6f0.svg",vS=({stakeholder:t,onClose:e})=>{var h,d;const n=eo(),r=()=>{n.scrollWheelZoom.disable()},s=()=>{n.scrollWheelZoom.enable()},a=p=>{const g=p.match(/id=([a-zA-Z0-9_-]+)/);return g?g[1]:null},u=t!=null&&t.logo?a(t.logo):null;return D.jsx("div",{className:`${t?"w-[400px]":"w-0"} duration-400 !font-proxima-nova bg-tint-02 fixed left-0 z-[1000] box-border h-screen cursor-default overflow-y-auto bg-opacity-80 shadow-md transition-all duration-100`,onMouseEnter:r,onMouseLeave:s,children:t&&D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"text-shade-01 absolute right-6 top-6 h-4 w-4 cursor-pointer text-center text-2xl font-extrabold leading-4 transition delay-75 ease-in-out hover:scale-125",onClick:e,children:"×"}),D.jsxs("div",{className:"px-6 py-10",children:[D.jsx("div",{className:"mb-4 ",children:D.jsxs("span",{className:"inline",children:[D.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"!text-shade-02 from-shade-01 to-shade-02 bg-gradient-to-r bg-[length:0_0.1em] bg-[position:0_100%] bg-no-repeat text-2xl font-bold transition-all duration-150 hover:bg-[length:100%_0.1em]",children:t.name}),D.jsx("span",{className:"inline-block align-text-bottom",children:D.jsx("img",{src:gS,alt:"link",className:"ml-2 h-5"})})]})}),u&&D.jsx("img",{className:"mx-auto mb-5 w-80",src:`https://drive.google.com/thumbnail?id=${u}&sz=w1000`,alt:`${t.name} logo`}),D.jsxs("div",{className:"font-merriweather ",children:[D.jsx("div",{className:"text-shade-01 mb-6 text-sm",children:t.description}),D.jsxs("div",{className:"text-shade-01 mb-4 font-bold",children:[D.jsx("span",{className:"font-proxima-nova",children:"HEADQUARTERS:"})," ",D.jsx("span",{className:"text-sm font-normal",children:t.headquarter})]}),D.jsxs("div",{className:"mb-4",children:[D.jsx("span",{className:"font-proxima-nova text-shade-01 font-bold",children:"LOCATIONS SERVED:"}),D.jsx("div",{className:"ml-2 mt-2",children:(h=t.locationsServed)==null?void 0:h.map(p=>D.jsx("span",{className:"font-proxima-nova text-shade-02 bg-tint-01 mb-2 mr-2 inline-block rounded-full px-3 py-1 font-semibold",children:p},p))})]}),D.jsxs("div",{className:"text-shade-01 mb-4 font-bold",children:[D.jsx("span",{className:"font-proxima-nova",children:"CONTACT:"})," ",D.jsx("span",{className:"text-sm font-normal",children:t.contact})]}),D.jsxs("div",{className:"mb-4",children:[D.jsx("span",{className:"font-proxima-nova text-shade-01 font-bold",children:"TAGS:"}),D.jsx("div",{className:"ml-2 mt-2",children:(d=t.tags)==null?void 0:d.map(p=>D.jsx("span",{className:"text-shade-02 font-proxima-nova bg-tint-01 mb-2 mr-2 inline-block rounded-full px-3 py-1 font-semibold",children:p},p))})]})]})]},t.contact)]})})};var Hc=globalThis&&globalThis.__assign||function(){return Hc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Hc.apply(this,arguments)},r_={bottomleft:"leaflet-bottom leaflet-left",bottomright:"leaflet-bottom leaflet-right",topleft:"leaflet-top leaflet-left",topright:"leaflet-top leaflet-right"},gv=function(t){var e,n,r=Jt.useState(document.createElement("div")),s=r[0],a=r[1],u=t.position&&r_[t.position]||r_.topright,h=Jt.createRef(),d=eo();Jt.useEffect(function(){h.current!==null&&(ba.DomEvent.disableClickPropagation(h.current),ba.DomEvent.disableScrollPropagation(h.current))},[h]),Jt.useEffect(function(){var g=d.getContainer(),m=g.getElementsByClassName(u);a(m[0])},[u]),Jt.useEffect(function(){s!==null&&(t.prepend!==void 0&&t.prepend===!0?s.prepend(h.current):s.append(h.current))},[s,t.prepend,h]);var p=(((n=(e=t.container)===null||e===void 0?void 0:e.className)===null||n===void 0?void 0:n.concat(" "))||"")+"leaflet-control";return Jt.createElement("div",Hc({},t.container,{ref:h,className:p}),t.children)};function vv(t){const{zoomInTitle:e,zoomResetTitle:n,zoomOutTitle:r,zoomLevel:s}=t,a=eo();return D.jsx(gv,{position:"topleft",children:D.jsxs("div",{className:"leaflet-bar",children:[D.jsx("a",{className:"leaflet-control-zoom-in",title:e,role:"button",onClick:u=>{a.zoomIn(),u.preventDefault()},children:"+"}),D.jsx("a",{className:"leaflet-control-zoom-out",title:r,role:"button",onClick:u=>{a.zoomOut(),u.preventDefault()},children:"-"}),D.jsx("a",{className:"leaflet-control-zoom-out pt-[2px]",title:n,role:"button",onClick:u=>{a.setZoom(s),u.preventDefault()},children:"↺"})]})})}vv.defaultProps={zoomInTitle:"Zoom in",zoomOutTitle:"Zoom out",zoomResetTitle:"Reset zoom"};const yS=({layerRef:t,stakeholders:e})=>{const[n,r]=$.useState(!1),s=$.useRef(null),[a,u]=$.useState([]),[h,d]=$.useState([]),[p,g]=$.useState([]);$.useEffect(()=>{const E=[...new Set(e.map(T=>T.tags).flat())];u(E),d(E)},[e]),$.useEffect(()=>{if(t.current){const E=e.filter(P=>P.tags.some(W=>h.includes(W))).map(P=>P.name);p.forEach(P=>P.addTo(t.current));let T=[];t.current.eachLayer(P=>{P instanceof ba.Marker&&P.options.title!=null&&(E.includes(P.options.title)||T.push(P))}),T.forEach(P=>t.current.removeLayer(P)),g(T)}},[h]);const m=E=>{s.current&&!s.current.contains(E.target)&&r(!1)};$.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[]);const v=E=>{h.includes(E)?d(h.filter(T=>T!==E)):d([...h,E])};return D.jsx(gv,{prepend:!0,position:"topleft",children:D.jsxs("div",{className:"leaflet-bar font-proxima-nova relative rounded",children:[D.jsx("a",{className:"leaflet-control-zoom-in rounded",title:"Tags",role:"button",onClick:E=>{r(!n),E.preventDefault()},children:"☰"}),n&&D.jsxs("div",{ref:s,className:"border-shade-01 absolute left-10 top-0 box-border w-40 rounded border-2 border-opacity-40 bg-white bg-opacity-90",children:[D.jsxs("div",{className:"flex flex-row justify-between",children:[D.jsx("div",{className:"text-md m-1 font-semibold",children:"Tags"}),D.jsxs("div",{className:"mx-1 flex flex-row justify-center align-middle",children:[D.jsx("label",{htmlFor:"all",className:"mx-2 mt-[5px]",children:"Select All"}),D.jsx("input",{type:"checkbox",name:"all",checked:h.length===a.length,onChange:()=>{d(h.length===a.length?[]:a)}})]})]}),D.jsx("div",{className:"h-64 overflow-y-auto",children:a.map((E,T)=>D.jsxs("div",{children:[D.jsxs("label",{className:"hover:bg-tint-02 flex items-center px-1 py-1",children:[D.jsx("input",{type:"checkbox",value:E,checked:h.includes(E),onChange:()=>v(E),className:"mr-2"}),E]}),T!==a.length-1&&D.jsx("hr",{className:"text-tint-01"})]},E))})]})]})})},wS=({selectedStakeholder:t})=>D.jsx(D.Fragment,{children:t&&D.jsxs("div",{className:"bg-tint-02 absolute bottom-3 right-3 z-[1000] m-3 rounded-md bg-opacity-70 p-3",children:[D.jsxs("div",{className:"mt-1 flex items-center",children:[D.jsx("img",{src:"marker.svg",alt:"Marker 1",className:"mr-1 h-8 w-8"}),D.jsx("span",{className:"font-proxima-nova text-shade-01 text-sm font-semibold",children:"Headquarters/Registration"})]}),D.jsxs("div",{className:"mt-1 flex items-center",children:[D.jsx("img",{src:"selected-marker.svg",alt:"Selected Marker",className:"mr-1 h-8 w-8"}),D.jsx("span",{className:"font-proxima-nova text-shade-01 text-sm font-semibold",children:"Selected"})]})]})}),CS=({apiKey:t,stakeholders:e})=>{const n=[[-90,-180],[90,180]],[r,s]=$.useState(null),a=$.useRef(null);return D.jsxs(uS,{className:"w-full h-full",center:[20,0],zoom:3,minZoom:3,scrollWheelZoom:!0,zoomControl:!1,maxBounds:n,children:[D.jsx(dS,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:`https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png?api_key=${t}`}),D.jsx(fS,{stakeholders:e,selectedStakeholder:r,setSelectedStakeholder:s,ref:a,showLocationsServedMarkers:!1}),D.jsx(wS,{selectedStakeholder:r}),D.jsx(vS,{stakeholder:r,onClose:()=>s(null)}),D.jsx(mS,{layerRef:a}),D.jsx(yS,{stakeholders:e,layerRef:a}),D.jsx(vv,{zoomLevel:3})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Ir(e)},Ir=function(t){return new Error("Firebase Database ("+yv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ES=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,h=u?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,m=(a&3)<<4|h>>4;let v=(h&15)<<2|p>>6,E=p&63;d||(E=64,u||(v=64)),r.push(n[g],n[m],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ES(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||m==null)throw new SS;const v=a<<2|h>>4;if(r.push(v),p!==64){const E=h<<4&240|p>>2;if(r.push(E),m!==64){const T=p<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(t){const e=wv(t);return rd.encodeByteArray(e,!0)},za=function(t){return Cv(t).replace(/\./g,"")},jc=function(t){try{return rd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){return Ev(void 0,t)}function Ev(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!TS(n)||(t[n]=Ev(t[n],e[n]));return t}function TS(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=()=>PS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jc(t[1]);return e&&JSON.parse(e)},Sv=()=>{try{return kS()||IS()||LS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NS=t=>{var e,n;return(n=(e=Sv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MS=t=>{const e=NS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xv=()=>{var t;return(t=Sv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),h="";return[za(JSON.stringify(n)),za(JSON.stringify(u)),h].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(OS())}function AS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pv(){return yv.NODE_ADMIN===!0}function DS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="FirebaseError";class to extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zS,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kv.prototype.create)}}class kv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?FS(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new to(s,h,r)}}function FS(t,e){return t.replace(BS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const BS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){return JSON.parse(t)}function be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(t){let e={},n={},r={},s="";try{const a=t.split(".");e=zs(jc(a[0])||""),n=zs(jc(a[1])||""),s=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},US=function(t){const e=Iv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},WS=function(t){const e=Iv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function s_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(o_(a)&&o_(u)){if(!Zc(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function o_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const v=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(v<<1|v>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,g;for(let m=0;m<80;m++){m<40?m<20?(p=h^a&(u^h),g=1518500249):(p=a^u^h,g=1859775393):m<60?(p=a&u|h&(a|u),g=2400959708):(p=a^u^h,g=3395469782);const v=(s<<5|s>>>27)+p+d+g+r[m]&4294967295;d=h,h=u,u=(a<<30|a>>>2)&4294967295,a=s,s=v}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const a=this.buf_;let u=this.inbuf_;for(;s<n;){if(u===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[u]=e.charCodeAt(s),++u,++s,u===this.blockSize){this.compress_(a),u=0;break}}else for(;s<n;)if(a[u]=e[s],++u,++s,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[s]>>a&255,++r;return e}}function Lv(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const a=s-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;s=65536+(a<<10)+u}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GS(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$S(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(t){return t===ci?void 0:t}function GS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const qS={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},YS=_e.INFO,QS={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},XS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=XS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const JS=(t,e)=>e.some(n=>t instanceof n);let a_,l_;function e1(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Vc=new WeakMap,Rv=new WeakMap,bu=new WeakMap,od=new WeakMap;function n1(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(jn(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Mv.set(n,t)}).catch(()=>{}),od.set(e,t),e}function i1(t){if(Vc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Vc.set(t,e)}let $c={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r1(t){$c=t($c)}function s1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zu(this),e,...n);return Rv.set(r,e.sort?e.sort():[e]),jn(r)}:t1().includes(t)?function(...e){return t.apply(zu(this),e),jn(Mv.get(this))}:function(...e){return jn(t.apply(zu(this),e))}}function o1(t){return typeof t=="function"?s1(t):(t instanceof IDBTransaction&&i1(t),JS(t,e1())?new Proxy(t,$c):t)}function jn(t){if(t instanceof IDBRequest)return n1(t);if(bu.has(t))return bu.get(t);const e=o1(t);return e!==t&&(bu.set(t,e),od.set(e,t)),e}const zu=t=>od.get(t);function a1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=jn(u);return r&&u.addEventListener("upgradeneeded",d=>{r(jn(u.result),d.oldVersion,d.newVersion,jn(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Fu=new Map;function u_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fu.get(e))return Fu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=u1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||l1.includes(n)))return;const a=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return Fu.set(e,a),a}r1(t=>({...t,get:(e,n,r)=>u_(e,n)||t.get(e,n,r),has:(e,n)=>!!u_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gc="@firebase/app",c_="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Nv("@firebase/app"),d1="@firebase/app-compat",f1="@firebase/analytics-compat",p1="@firebase/analytics",_1="@firebase/app-check-compat",m1="@firebase/app-check",g1="@firebase/auth",v1="@firebase/auth-compat",y1="@firebase/database",w1="@firebase/database-compat",C1="@firebase/functions",E1="@firebase/functions-compat",S1="@firebase/installations",x1="@firebase/installations-compat",T1="@firebase/messaging",P1="@firebase/messaging-compat",k1="@firebase/performance",I1="@firebase/performance-compat",L1="@firebase/remote-config",N1="@firebase/remote-config-compat",M1="@firebase/storage",R1="@firebase/storage-compat",O1="@firebase/firestore",A1="@firebase/firestore-compat",D1="firebase",b1="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="[DEFAULT]",z1={[Gc]:"fire-core",[d1]:"fire-core-compat",[p1]:"fire-analytics",[f1]:"fire-analytics-compat",[m1]:"fire-app-check",[_1]:"fire-app-check-compat",[g1]:"fire-auth",[v1]:"fire-auth-compat",[y1]:"fire-rtdb",[w1]:"fire-rtdb-compat",[C1]:"fire-fn",[E1]:"fire-fn-compat",[S1]:"fire-iid",[x1]:"fire-iid-compat",[T1]:"fire-fcm",[P1]:"fire-fcm-compat",[k1]:"fire-perf",[I1]:"fire-perf-compat",[L1]:"fire-rc",[N1]:"fire-rc-compat",[M1]:"fire-gcs",[R1]:"fire-gcs-compat",[O1]:"fire-fst",[A1]:"fire-fst-compat","fire-js":"fire-js",[D1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Map,qc=new Map;function F1(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ua(t){const e=t.name;if(qc.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;qc.set(e,t);for(const n of Ba.values())F1(n,t);return!0}function B1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zn=new kv("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=b1;function Ov(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zn.create("bad-app-name",{appName:String(s)});if(n||(n=xv()),!n)throw Zn.create("no-options");const a=Ba.get(s);if(a){if(Zc(n,a.options)&&Zc(r,a.config))return a;throw Zn.create("duplicate-app",{appName:s})}const u=new KS(s);for(const d of qc.values())u.addComponent(d);const h=new W1(n,r,u);return Ba.set(s,h),h}function j1(t=Kc){const e=Ba.get(t);if(!e&&t===Kc&&xv())return Ov();if(!e)throw Zn.create("no-app",{appName:t});return e}function ur(t,e,n){var r;let s=(r=z1[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(h.join(" "));return}Ua(new Fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="firebase-heartbeat-database",V1=1,Bs="firebase-heartbeat-store";let Bu=null;function Av(){return Bu||(Bu=a1(Z1,V1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bs)}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),Bu}async function $1(t){try{return await(await Av()).transaction(Bs).objectStore(Bs).get(Dv(t))}catch(e){if(e instanceof to)xi.warn(e.message);else{const n=Zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function h_(t,e){try{const r=(await Av()).transaction(Bs,"readwrite");await r.objectStore(Bs).put(e,Dv(t)),await r.done}catch(n){if(n instanceof to)xi.warn(n.message);else{const r=Zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function Dv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1024,K1=30*24*60*60*1e3;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=K1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d_(),{heartbeatsToSend:r,unsentEntries:s}=Y1(this._heartbeatsCache.heartbeats),a=za(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function d_(){return new Date().toISOString().substring(0,10)}function Y1(t,e=G1){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),f_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),f_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function f_(t){return za(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){Ua(new Fs("platform-logger",e=>new c1(e),"PRIVATE")),Ua(new Fs("heartbeat",e=>new q1(e),"PRIVATE")),ur(Gc,c_,t),ur(Gc,c_,"esm2017"),ur("fire-js","")}X1("");const p_="@firebase/database",__="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv="";function J1(t){bv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:zs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ex(e)}}catch{}return new tx},_i=zv("localStorage"),Yc=zv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Nv("@firebase/database"),nx=function(){let t=1;return function(){return t++}}(),Fv=function(t){const e=ZS(t),n=new jS;n.update(e);const r=n.digest();return rd.encodeByteArray(r)},io=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=io.apply(null,r):typeof r=="object"?e+=be(r):e+=r,e+=" "}return e};let vi=null,m_=!0;const ix=function(t,e){O(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cr.logLevel=_e.VERBOSE,vi=cr.log.bind(cr),e&&Yc.set("logging_enabled",!0)):typeof t=="function"?vi=t:(vi=null,Yc.remove("logging_enabled"))},et=function(...t){if(m_===!0&&(m_=!1,vi===null&&Yc.get("logging_enabled")===!0&&ix(!0)),vi){const e=io.apply(null,t);vi(e)}},ro=function(t){return function(...e){et(t,...e)}},Qc=function(...t){const e="FIREBASE INTERNAL ERROR: "+io(...t);cr.error(e)},wn=function(...t){const e=`FIREBASE FATAL ERROR: ${io(...t)}`;throw cr.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+io(...t);cr.warn(e)},rx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},sx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Cr="[MIN_NAME]",Ti="[MAX_NAME]",Lr=function(t,e){if(t===e)return 0;if(t===Cr||e===Ti)return-1;if(e===Cr||t===Ti)return 1;{const n=g_(t),r=g_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ox=function(t,e){return t===e?0:t<e?-1:1},Jr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+be(e))},ad=function(t){if(typeof t!="object"||t===null)return be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=be(e[r]),n+=":",n+=ad(t[e[r]]);return n+="}",n},Uv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Wv=function(t){O(!Bv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,a,u,h,d;t===0?(a=0,u=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=h+r,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(a=0,u=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(d=n;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(s?1:0),p.reverse();const g=p.join("");let m="";for(d=0;d<64;d+=8){let v=parseInt(g.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),m=m+v}return m.toLowerCase()},ax=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ux(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const cx=new RegExp("^-?(0*)\\d{1,10}$"),hx=-2147483648,dx=2147483647,g_=function(t){if(cx.test(t)){const e=Number(t);if(e>=hx&&e<=dx)return e}return null},so=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},fx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ms=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class hr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="5",Hv="v",jv="s",Zv="r",Vv="f",$v=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gv="ls",Kv="p",Xc="ac",qv="websocket",Yv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,s,a=!1,u="",h=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function mx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Xv(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===qv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Yv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);mx(t)&&(n.ns=t.namespace);const s=[];return mt(n,(a,u)=>{s.push(a+"="+u)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return xS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={},Wu={};function ud(t){const e=t.toString();return Uu[e]||(Uu[e]=new gx),Uu[e]}function vx(t,e){const n=t.toString();return Wu[n]||(Wu[n]=e()),Wu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&so(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="start",wx="close",Cx="pLPCommand",Ex="pRTLPCB",Jv="id",ey="pw",ty="ser",Sx="cb",xx="seg",Tx="ts",Px="d",kx="dframe",ny=1870,iy=30,Ix=ny-iy,Lx=25e3,Nx=3e4;class tr{constructor(e,n,r,s,a,u,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ro(e),this.stats_=ud(n),this.urlFn=d=>(this.appCheckToken&&(d[Xc]=this.appCheckToken),Xv(n,Yv,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Nx)),sx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cd((...a)=>{const[u,h,d,p,g]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===v_)this.id=h,this.password=d;else if(u===wx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...a)=>{const[u,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[v_]="t",r[ty]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Sx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hv]=ld,this.transportSessionId&&(r[jv]=this.transportSessionId),this.lastSessionId&&(r[Gv]=this.lastSessionId),this.applicationId&&(r[Kv]=this.applicationId),this.appCheckToken&&(r[Xc]=this.appCheckToken),typeof location<"u"&&location.hostname&&$v.test(location.hostname)&&(r[Zv]=Vv);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tr.forceAllow_=!0}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){return tr.forceAllow_?!0:!tr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ax()&&!lx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Cv(n),s=Uv(r,Ix);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[kx]="t",r[Jv]=e,r[ey]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class cd{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nx(),window[Cx+this.uniqueCallbackIdentifier]=e,window[Ex+this.uniqueCallbackIdentifier]=n,this.myIFrame=cd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){et("frame writing exception"),h.stack&&et(h.stack),et(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Jv]=this.myID,e[ey]=this.myPW,e[ty]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+iy+r.length<=ny;){const u=this.pendingSegs.shift();r=r+"&"+xx+s+"="+u.seg+"&"+Tx+s+"="+u.ts+"&"+Px+s+"="+u.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Lx)),a=()=>{clearTimeout(s),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=16384,Rx=45e3;let Wa=null;typeof MozWebSocket<"u"?Wa=MozWebSocket:typeof WebSocket<"u"&&(Wa=WebSocket);class Ut{constructor(e,n,r,s,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ro(this.connId),this.stats_=ud(n),this.connURL=Ut.connectionURL_(n,u,h,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,a){const u={};return u[Hv]=ld,typeof location<"u"&&location.hostname&&$v.test(location.hostname)&&(u[Zv]=Vv),n&&(u[jv]=n),r&&(u[Gv]=r),s&&(u[Xc]=s),a&&(u[Kv]=a),Xv(e,qv,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_i.set("previous_websocket_failure",!0);try{let r;Pv(),this.mySock=new Wa(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ut.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wa!==null&&!Ut.forceDisallow_}static previouslyFailed(){return _i.isInMemoryStorage||_i.get("previous_websocket_failure")===!0}markConnectionHealthy(){_i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=zs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Uv(n,Mx);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Rx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ut.responsesRequiredToBeHealthy=2;Ut.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[tr,Ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ut&&Ut.isAvailable();let r=n&&!Ut.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ut];else{const s=this.transports_=[];for(const a of Us.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Us.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Us.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=6e4,Ax=5e3,Dx=10*1024,bx=100*1024,Hu="t",y_="d",zx="s",w_="r",Fx="e",C_="o",E_="a",S_="n",x_="p",Bx="h";class Ux{constructor(e,n,r,s,a,u,h,d,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ro("c:"+this.id+":"),this.transportManager_=new Us(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ms(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Dx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Hu in e){const n=e[Hu];n===E_?this.upgradeIfSecondaryHealthy_():n===w_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===C_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Jr("t",e),r=Jr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:x_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:E_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:S_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Jr("t",e),r=Jr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Jr(Hu,e);if(y_ in e){const r=e[y_];if(n===Bx){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===S_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zx?this.onConnectionShutdown_(r):n===w_?this.onReset_(r):n===Fx?Qc("Server Error: "+r):n===C_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ld!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ms(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ox))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ms(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ax))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:x_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!r||r===s[a].context)){s.splice(a,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends sy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ha}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=32,P_=768;class de{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ue(){return new de("")}function ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qn(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function oy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Wx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ay(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ly(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new de(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function rt(t,e){const n=ie(t),r=ie(e);if(n===null)return e;if(n===r)return rt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uy(t,e){if(qn(t)!==qn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Wt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(qn(t)>qn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Hx{constructor(e,n){this.errorPrefix_=n,this.parts_=ay(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wl(this.parts_[r]);cy(this)}}function jx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wl(e),cy(t)}function Zx(t){const e=t.parts_.pop();t.byteLength_-=wl(e),t.parts_.length>0&&(t.byteLength_-=1)}function cy(t){if(t.byteLength_>P_)throw new Error(t.errorPrefix_+"has a key path longer than "+P_+" bytes ("+t.byteLength_+").");if(t.parts_.length>T_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+T_+") or object contains a cycle "+hi(t))}function hi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends sy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new hd}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=1e3,Vx=60*5*1e3,k_=30*1e3,$x=1.3,Gx=3e4,Kx="server_kill",I_=3;class _n extends ry{constructor(e,n,r,s,a,u,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=_n.nextPersistentConnectionId_++,this.log_=ro("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=es,this.maxReconnectDelay_=Vx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Pv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ha.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(be(a)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new sd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,s){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r},u="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(u,a,h=>{const d=h.d,p=h.s;_n.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&En(e,"w")){const r=wr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||WS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=k_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=US(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const a=s.s,u=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},u="n";s&&(a.q=r,a.t=s),this.sendRequest(u,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,a){this.initConnection_();const u={p:n,d:r};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Qc("Unrecognized action received from server: "+be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Gx&&(this.reconnectDelay_=es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$x)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+_n.nextConnectionId_++,a=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,r())},p=function(m){O(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(m)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=v&&v.token,h=new Ux(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,E=>{wt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(Kx)},a))}catch(m){this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&wt(m),d())}}}interrupt(e){et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s_(this.interruptReasons_)&&(this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>ad(a)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new de(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){et("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I_&&(this.reconnectDelay_=k_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){et("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+bv.replace(/\./g,"-")]=1,Tv()?e["framework.cordova"]=1:AS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ha.getInstance().currentlyOnline();return s_(this.interruptReasons_)&&e}}_n.nextPersistentConnectionId_=0;_n.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(Cr,e),s=new ee(Cr,n);return this.compare(r,s)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;class hy extends Cl{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,n){return Lr(e.name,n.name)}isDefinedOn(e){throw Ir("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Ti,Yo)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,Yo)}toString(){return".key"}}const dr=new hy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?r(e.key,n):1,s&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class je{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??je.RED,this.left=s??dt.EMPTY_NODE,this.right=a??dt.EMPTY_NODE}copy(e,n,r,s,a){return new je(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}je.RED=!0;je.BLACK=!1;class qx{copy(e,n,r,s,a){return this}insert(e,n,r){return new je(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(e,n=dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,je.BLACK,null,null))}remove(e){return new dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,je.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qo(this.root_,null,this.comparator_,!0,e)}}dt.EMPTY_NODE=new qx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e){return Lr(t.name,e.name)}function dd(t,e){return Lr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc;function Qx(t){Jc=t}const dy=function(t){return typeof t=="number"?"number:"+Wv(t):"string:"+t},fy=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else O(t===Jc||t.isEmpty(),"priority of unexpected type.");O(t===Jc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L_;class We{constructor(e,n=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fy(this.priorityNode_)}static set __childrenNodeConstructor(e){L_=e}static get __childrenNodeConstructor(){return L_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new We(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:ie(e)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ie(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||qn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Wv(this.value_):e+=this.value_,this.lazyHash_=Fv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===We.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof We.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=We.VALUE_TYPE_ORDER.indexOf(n),a=We.VALUE_TYPE_ORDER.indexOf(r);return O(s>=0,"Unknown leaf type: "+n),O(a>=0,"Unknown leaf type: "+r),s===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py,_y;function Xx(t){py=t}function Jx(t){_y=t}class eT extends Cl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),a=r.compareTo(s);return a===0?Lr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Ti,new We("[PRIORITY-POST]",_y))}makePost(e,n){const r=py(e);return new ee(n,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new eT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=Math.log(2);class nT{constructor(e){const n=a=>parseInt(Math.log(a)/tT,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ja=function(t,e,n,r){t.sort(e);const s=function(d,p){const g=p-d;let m,v;if(g===0)return null;if(g===1)return m=t[d],v=n?n(m):m,new je(v,m.node,je.BLACK,null,null);{const E=parseInt(g/2,10)+d,T=s(d,E),P=s(E+1,p);return m=t[E],v=n?n(m):m,new je(v,m.node,je.BLACK,T,P)}},a=function(d){let p=null,g=null,m=t.length;const v=function(T,P){const W=m-T,C=m;m-=T;const w=s(W+1,C),S=t[W],M=n?n(S):S;E(new je(M,S.node,P,null,w))},E=function(T){p?(p.left=T,p=T):(g=T,p=T)};for(let T=0;T<d.count;++T){const P=d.nextBitIsOne(),W=Math.pow(2,d.count-(T+1));P?v(W,je.BLACK):(v(W,je.BLACK),v(W,je.RED))}return g},u=new nT(t.length),h=a(u);return new dt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;const Hi={};class fn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(Hi&&Ie,"ChildrenNode.ts has not been loaded"),ju=ju||new fn({".priority":Hi},{".priority":Ie}),ju}get(e){const n=wr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){O(e!==dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const a=n.getIterator(ee.Wrap);let u=a.getNext();for(;u;)s=s||e.isDefinedOn(u.node),r.push(u),u=a.getNext();let h;s?h=ja(r,e.getCompare()):h=Hi;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new fn(g,p)}addToIndexes(e,n){const r=Fa(this.indexes_,(s,a)=>{const u=wr(this.indexSet_,a);if(O(u,"Missing index implementation for "+a),s===Hi)if(u.isDefinedOn(e.node)){const h=[],d=n.getIterator(ee.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),ja(h,u.getCompare())}else return Hi;else{const h=n.get(e.name);let d=s;return h&&(d=d.remove(new ee(e.name,h))),d.insert(e,e.node)}});return new fn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fa(this.indexes_,s=>{if(s===Hi)return s;{const a=n.get(e.name);return a?s.remove(new ee(e.name,a)):s}});return new fn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fy(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ts||(ts=new V(new dt(dd),null,fn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ts}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ts:n}}getChild(e){const n=ie(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ee(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?ts:this.priorityNode_;return new V(s,u,a)}}updateChild(e,n){const r=ie(e);if(r===null)return n;{O(ie(e)!==".priority"||qn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,a=!0;if(this.forEachChild(Ie,(u,h)=>{n[u]=h.val(e),r++,a&&V.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):a=!1}),!e&&a&&s<2*r){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+dy(this.getPriority().val())+":"),this.forEachChild(Ie,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Fv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new ee(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ee.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===oo?-1:0}withIndex(e){if(e===dr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===dr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ie),s=n.getIterator(Ie);let a=r.getNext(),u=s.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=s.getNext()}return a===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===dr?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class iT extends V{constructor(){super(new dt(dd),V.EMPTY_NODE,fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const oo=new iT;Object.defineProperties(ee,{MIN:{value:new ee(Cr,V.EMPTY_NODE)},MAX:{value:new ee(Ti,oo)}});hy.__EMPTY_NODE=V.EMPTY_NODE;We.__childrenNodeConstructor=V;Qx(oo);Jx(oo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=!0;function Ke(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new We(n,Ke(e))}if(!(t instanceof Array)&&rT){const n=[];let r=!1;if(mt(t,(u,h)=>{if(u.substring(0,1)!=="."){const d=Ke(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ee(u,d)))}}),n.length===0)return V.EMPTY_NODE;const a=ja(n,Yx,u=>u.name,dd);if(r){const u=ja(n,Ie.getCompare());return new V(a,Ke(e),new fn({".priority":u},{".priority":Ie}))}else return new V(a,Ke(e),fn.Default)}else{let n=V.EMPTY_NODE;return mt(t,(r,s)=>{if(En(t,r)&&r.substring(0,1)!=="."){const a=Ke(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Ke(e))}}Xx(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Cl{constructor(e){super(),this.indexPath_=e,O(!te(e)&&ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),a=r.compareTo(s);return a===0?Lr(e.name,n.name):a}makePost(e,n){const r=Ke(e),s=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,s)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,oo);return new ee(Ti,e)}toString(){return ay(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends Cl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Lr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=Ke(e);return new ee(n,r)}toString(){return".value"}}const aT=new oT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){return{type:"value",snapshotNode:t}}function Er(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ws(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.index_=e}updateChild(e,n,r,s,a,u){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(s).equals(r.getChild(s))&&h.isEmpty()===r.isEmpty()||(u!=null&&(r.isEmpty()?e.hasChild(n)?u.trackChildChange(Ws(n,h)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(Er(n,r)):u.trackChildChange(Hs(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ie,(s,a)=>{n.hasChild(s)||r.trackChildChange(Ws(s,a))}),n.isLeafNode()||n.forEachChild(Ie,(s,a)=>{if(e.hasChild(s)){const u=e.getImmediateChild(s);u.equals(a)||r.trackChildChange(Hs(s,a,u))}else r.trackChildChange(Er(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.indexedFilter_=new fd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=js.getStartPost_(e),this.endPost_=js.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,a,u){return this.matches(new ee(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,a,u)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(V.EMPTY_NODE);const a=this;return n.forEachChild(Ie,(u,h)=>{a.matches(new ee(u,h))||(s=s.updateImmediateChild(u,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new js(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,a,u){return this.rangedFilter_.matches(new ee(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,a,u):this.fullLimitUpdateChild_(e,n,r,a,u)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=V.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))s=s.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(V.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let u=0;for(;a.hasNext();){const h=a.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:s=s.updateImmediateChild(h.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,a){let u;if(this.reverse_){const m=this.index_.getCompare();u=(v,E)=>m(E,v)}else u=this.index_.getCompare();const h=e;O(h.numChildren()===this.limit_,"");const d=new ee(n,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(n)){const m=h.getImmediateChild(n);let v=s.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===n||h.hasChild(v.name));)v=s.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:u(v,d);if(g&&!r.isEmpty()&&E>=0)return a!=null&&a.trackChildChange(Hs(n,r,m)),h.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(Ws(n,m));const P=h.updateImmediateChild(n,V.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(a!=null&&a.trackChildChange(Er(v.name,v.node)),P.updateImmediateChild(v.name,v.node)):P}}else return r.isEmpty()?e:g&&u(p,d)>=0?(a!=null&&(a.trackChildChange(Ws(p.name,p.node)),a.trackChildChange(Er(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(p.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cr}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ti}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const e=new pd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cT(t){return t.loadsAllData()?new fd(t.getIndex()):t.hasLimit()?new uT(t):new js(t)}function N_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ie?n="$priority":t.index_===aT?n="$value":t.index_===dr?n="$key":(O(t.index_ instanceof sT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function M_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ie&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends ry{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ro("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=Za.getListenId_(e,r),h={};this.listens_[u]=h;const d=N_(e._queryParams);this.restRequest_(a+".json",d,(p,g)=>{let m=g;if(p===404&&(m=null,p=null),p===null&&this.onDataUpdate_(a,m,!1,r),wr(this.listens_,u)===h){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",s(v,null)}})}unlisten(e,n){const r=Za.getListenId_(e,n);delete this.listens_[r]}get(e){const n=N_(e._queryParams),r=e._path.toString(),s=new sd;return this.restRequest_(r+".json",n,(a,u)=>{let h=u;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(r,h,!1,null),s.resolve(h)):s.reject(new Error(h))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+HS(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=zs(h.responseText)}catch{wt("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&wt("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(){return{value:null,children:new Map}}function gy(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ie(e);t.children.has(r)||t.children.set(r,Va());const s=t.children.get(r);e=me(e),gy(s,e,n)}}function eh(t,e,n){t.value!==null?n(e,t.value):dT(t,(r,s)=>{const a=new de(e.toString()+"/"+r);eh(s,a,n)})}function dT(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=10*1e3,pT=30*1e3,_T=5*60*1e3;class mT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fT(e);const r=R_+(pT-R_)*Math.random();ms(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mt(e,(s,a)=>{a>0&&En(this.statsToReport_,s)&&(n[s]=a,r=!0)}),r&&this.server_.reportStats(n),ms(this.reportStats_.bind(this),Math.floor(Math.random()*2*_T))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ht||(Ht={}));function vy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _d(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function md(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ht.ACK_USER_WRITE,this.source=vy()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new $a(ue(),n,this.revert)}}else return O(ie(this.path)===e,"operationForChild called for unrelated child."),new $a(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.source=e,this.path=n,this.type=Ht.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new Zs(this.source,ue()):new Zs(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ht.OVERWRITE}operationForChild(e){return te(this.path)?new Pi(this.source,ue(),this.snap.getImmediateChild(e)):new Pi(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ht.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new Pi(this.source,ue(),n.value):new Vs(this.source,ue(),n)}else return O(ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vs(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vT(t,e,n,r){const s=[],a=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(lT(u.childName,u.snapshotNode))}),ns(t,s,"child_removed",e,r,n),ns(t,s,"child_added",e,r,n),ns(t,s,"child_moved",a,r,n),ns(t,s,"child_changed",e,r,n),ns(t,s,"value",e,r,n),s}function ns(t,e,n,r,s,a){const u=r.filter(h=>h.type===n);u.sort((h,d)=>wT(t,h,d)),u.forEach(h=>{const d=yT(t,h,a);s.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function yT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wT(t,e,n){if(e.childName==null||n.childName==null)throw Ir("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),s=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e){return{eventCache:t,serverCache:e}}function gs(t,e,n,r){return El(new Yn(e,n,r),t.serverCache)}function yy(t,e,n,r){return El(t.eventCache,new Yn(e,n,r))}function Ga(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ki(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;const CT=()=>(Zu||(Zu=new dt(ox)),Zu);class we{constructor(e,n=CT()){this.value=e,this.children=n}static fromObject(e){let n=new we(null);return mt(e,(r,s)=>{n=n.set(new de(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ue(),value:this.value};if(te(e))return null;{const r=ie(e),s=this.children.get(r);if(s!==null){const a=s.findRootMostMatchingPathAndValue(me(e),n);return a!=null?{path:ze(new de(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=ie(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new we(null)}}set(e,n){if(te(e))return new we(n,this.children);{const r=ie(e),a=(this.children.get(r)||new we(null)).set(me(e),n),u=this.children.insert(r,a);return new we(this.value,u)}}remove(e){if(te(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=ie(e),r=this.children.get(n);if(r){const s=r.remove(me(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new we(null):new we(this.value,a)}else return this}}get(e){if(te(e))return this.value;{const n=ie(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(te(e))return n;{const r=ie(e),a=(this.children.get(r)||new we(null)).setTree(me(e),n);let u;return a.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,a),new we(this.value,u)}}fold(e){return this.fold_(ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,a)=>{r[s]=a.fold_(ze(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ue(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(te(e))return null;{const a=ie(e),u=this.children.get(a);return u?u.findOnPath_(me(e),ze(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ue(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const s=ie(e),a=this.children.get(s);return a?a.foreachOnPath_(me(e),ze(n,s),r):new we(null)}}foreach(e){this.foreach_(ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new we(null))}}function vs(t,e,n){if(te(e))return new Vt(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let a=r.value;const u=rt(s,e);return a=a.updateChild(u,n),new Vt(t.writeTree_.set(s,a))}else{const s=new we(n),a=t.writeTree_.setTree(e,s);return new Vt(a)}}}function O_(t,e,n){let r=t;return mt(n,(s,a)=>{r=vs(r,ze(e,s),a)}),r}function A_(t,e){if(te(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new we(null));return new Vt(n)}}function th(t,e){return Mi(t,e)!=null}function Mi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rt(n.path,e)):null}function D_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ie,(r,s)=>{e.push(new ee(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ee(r,s.value))}),e}function Vn(t,e){if(te(e))return t;{const n=Mi(t,e);return n!=null?new Vt(new we(n)):new Vt(t.writeTree_.subtree(e))}}function nh(t){return t.writeTree_.isEmpty()}function Sr(t,e){return wy(ue(),t.writeTree_,e)}function wy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(O(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=wy(ze(t,s),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e){return xy(e,t)}function ET(t,e,n,r,s){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=vs(t.visibleWrites,e,n)),t.lastWriteId=r}function ST(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function xT(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,a=!1,u=t.allWrites.length-1;for(;s&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&TT(h,r.path)?s=!1:Wt(r.path,h.path)&&(a=!0)),u--}if(s){if(a)return PT(t),!0;if(r.snap)t.visibleWrites=A_(t.visibleWrites,r.path);else{const h=r.children;mt(h,d=>{t.visibleWrites=A_(t.visibleWrites,ze(r.path,d))})}return!0}else return!1}function TT(t,e){if(t.snap)return Wt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Wt(ze(t.path,n),e))return!0;return!1}function PT(t){t.visibleWrites=Cy(t.allWrites,kT,ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function kT(t){return t.visible}function Cy(t,e,n){let r=Vt.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const u=a.path;let h;if(a.snap)Wt(n,u)?(h=rt(n,u),r=vs(r,h,a.snap)):Wt(u,n)&&(h=rt(u,n),r=vs(r,ue(),a.snap.getChild(h)));else if(a.children){if(Wt(n,u))h=rt(n,u),r=O_(r,h,a.children);else if(Wt(u,n))if(h=rt(u,n),te(h))r=O_(r,ue(),a.children);else{const d=wr(a.children,ie(h));if(d){const p=d.getChild(me(h));r=vs(r,ue(),p)}}}else throw Ir("WriteRecord should have .snap or .children")}}return r}function Ey(t,e,n,r,s){if(!r&&!s){const a=Mi(t.visibleWrites,e);if(a!=null)return a;{const u=Vn(t.visibleWrites,e);if(nh(u))return n;if(n==null&&!th(u,ue()))return null;{const h=n||V.EMPTY_NODE;return Sr(u,h)}}}else{const a=Vn(t.visibleWrites,e);if(!s&&nh(a))return n;if(!s&&n==null&&!th(a,ue()))return null;{const u=function(p){return(p.visible||s)&&(!r||!~r.indexOf(p.writeId))&&(Wt(p.path,e)||Wt(e,p.path))},h=Cy(t.allWrites,u,e),d=n||V.EMPTY_NODE;return Sr(h,d)}}}function IT(t,e,n){let r=V.EMPTY_NODE;const s=Mi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ie,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(n){const a=Vn(t.visibleWrites,e);return n.forEachChild(Ie,(u,h)=>{const d=Sr(Vn(a,new de(u)),h);r=r.updateImmediateChild(u,d)}),D_(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const a=Vn(t.visibleWrites,e);return D_(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function LT(t,e,n,r,s){O(r||s,"Either existingEventSnap or existingServerSnap must exist");const a=ze(e,n);if(th(t.visibleWrites,a))return null;{const u=Vn(t.visibleWrites,a);return nh(u)?s.getChild(n):Sr(u,s.getChild(n))}}function NT(t,e,n,r){const s=ze(e,n),a=Mi(t.visibleWrites,s);if(a!=null)return a;if(r.isCompleteForChild(n)){const u=Vn(t.visibleWrites,s);return Sr(u,r.getNode().getImmediateChild(n))}else return null}function MT(t,e){return Mi(t.visibleWrites,e)}function RT(t,e,n,r,s,a,u){let h;const d=Vn(t.visibleWrites,e),p=Mi(d,ue());if(p!=null)h=p;else if(n!=null)h=Sr(d,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const g=[],m=u.getCompare(),v=a?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let E=v.getNext();for(;E&&g.length<s;)m(E,r)!==0&&g.push(E),E=v.getNext();return g}else return[]}function OT(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Ka(t,e,n,r){return Ey(t.writeTree,t.treePath,e,n,r)}function gd(t,e){return IT(t.writeTree,t.treePath,e)}function b_(t,e,n,r){return LT(t.writeTree,t.treePath,e,n,r)}function qa(t,e){return MT(t.writeTree,ze(t.treePath,e))}function AT(t,e,n,r,s,a){return RT(t.writeTree,t.treePath,e,n,r,s,a)}function vd(t,e,n){return NT(t.writeTree,t.treePath,e,n)}function Sy(t,e){return xy(ze(t.treePath,e),t.writeTree)}function xy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,Hs(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Ws(r,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,Er(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,Hs(r,e.snapshotNode,s.oldSnap));else throw Ir("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Ty=new bT;class yd{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Yn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vd(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),a=AT(this.writes_,s,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){return{filter:t}}function FT(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function BT(t,e,n,r,s){const a=new DT;let u,h;if(n.type===Ht.OVERWRITE){const p=n;p.source.fromUser?u=ih(t,e,p.path,p.snap,r,s,a):(O(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!te(p.path),u=Ya(t,e,p.path,p.snap,r,s,h,a))}else if(n.type===Ht.MERGE){const p=n;p.source.fromUser?u=WT(t,e,p.path,p.children,r,s,a):(O(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=rh(t,e,p.path,p.children,r,s,h,a))}else if(n.type===Ht.ACK_USER_WRITE){const p=n;p.revert?u=ZT(t,e,p.path,r,s,a):u=HT(t,e,p.path,p.affectedTree,r,s,a)}else if(n.type===Ht.LISTEN_COMPLETE)u=jT(t,e,n.path,r,a);else throw Ir("Unknown operation type: "+n.type);const d=a.getChanges();return UT(e,u,d),{viewCache:u,changes:d}}function UT(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ga(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(my(Ga(e)))}}function Py(t,e,n,r,s,a){const u=e.eventCache;if(qa(r,n)!=null)return e;{let h,d;if(te(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=ki(e),g=p instanceof V?p:V.EMPTY_NODE,m=gd(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const p=Ka(r,ki(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=ie(n);if(p===".priority"){O(qn(n)===1,"Can't have a priority with additional path components");const g=u.getNode();d=e.serverCache.getNode();const m=b_(r,n,g,d);m!=null?h=t.filter.updatePriority(g,m):h=u.getNode()}else{const g=me(n);let m;if(u.isCompleteForChild(p)){d=e.serverCache.getNode();const v=b_(r,n,u.getNode(),d);v!=null?m=u.getNode().getImmediateChild(p).updateChild(g,v):m=u.getNode().getImmediateChild(p)}else m=vd(r,p,e.serverCache);m!=null?h=t.filter.updateChild(u.getNode(),p,m,g,s,a):h=u.getNode()}}return gs(e,h,u.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Ya(t,e,n,r,s,a,u,h){const d=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(te(n))p=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const E=d.getNode().updateChild(n,r);p=g.updateFullNode(d.getNode(),E,null)}else{const E=ie(n);if(!d.isCompleteForPath(n)&&qn(n)>1)return e;const T=me(n),W=d.getNode().getImmediateChild(E).updateChild(T,r);E===".priority"?p=g.updatePriority(d.getNode(),W):p=g.updateChild(d.getNode(),E,W,T,Ty,null)}const m=yy(e,p,d.isFullyInitialized()||te(n),g.filtersNodes()),v=new yd(s,m,a);return Py(t,m,n,s,v,h)}function ih(t,e,n,r,s,a,u){const h=e.eventCache;let d,p;const g=new yd(s,e,a);if(te(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),d=gs(e,p,!0,t.filter.filtersNodes());else{const m=ie(n);if(m===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),d=gs(e,p,h.isFullyInitialized(),h.isFiltered());else{const v=me(n),E=h.getNode().getImmediateChild(m);let T;if(te(v))T=r;else{const P=g.getCompleteChild(m);P!=null?oy(v)===".priority"&&P.getChild(ly(v)).isEmpty()?T=P:T=P.updateChild(v,r):T=V.EMPTY_NODE}if(E.equals(T))d=e;else{const P=t.filter.updateChild(h.getNode(),m,T,v,g,u);d=gs(e,P,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function z_(t,e){return t.eventCache.isCompleteForChild(e)}function WT(t,e,n,r,s,a,u){let h=e;return r.foreach((d,p)=>{const g=ze(n,d);z_(e,ie(g))&&(h=ih(t,h,g,p,s,a,u))}),r.foreach((d,p)=>{const g=ze(n,d);z_(e,ie(g))||(h=ih(t,h,g,p,s,a,u))}),h}function F_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function rh(t,e,n,r,s,a,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;te(n)?p=r:p=new we(null).setTree(n,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((m,v)=>{if(g.hasChild(m)){const E=e.serverCache.getNode().getImmediateChild(m),T=F_(t,E,v);d=Ya(t,d,new de(m),T,s,a,u,h)}}),p.children.inorderTraversal((m,v)=>{const E=!e.serverCache.isCompleteForChild(m)&&v.value===null;if(!g.hasChild(m)&&!E){const T=e.serverCache.getNode().getImmediateChild(m),P=F_(t,T,v);d=Ya(t,d,new de(m),P,s,a,u,h)}}),d}function HT(t,e,n,r,s,a,u){if(qa(s,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(te(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Ya(t,e,n,d.getNode().getChild(n),s,a,h,u);if(te(n)){let p=new we(null);return d.getNode().forEachChild(dr,(g,m)=>{p=p.set(new de(g),m)}),rh(t,e,n,p,s,a,h,u)}else return e}else{let p=new we(null);return r.foreach((g,m)=>{const v=ze(n,g);d.isCompleteForPath(v)&&(p=p.set(g,d.getNode().getChild(v)))}),rh(t,e,n,p,s,a,h,u)}}function jT(t,e,n,r,s){const a=e.serverCache,u=yy(e,a.getNode(),a.isFullyInitialized()||te(n),a.isFiltered());return Py(t,u,n,r,Ty,s)}function ZT(t,e,n,r,s,a){let u;if(qa(r,n)!=null)return e;{const h=new yd(r,e,s),d=e.eventCache.getNode();let p;if(te(n)||ie(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Ka(r,ki(e));else{const m=e.serverCache.getNode();O(m instanceof V,"serverChildren would be complete if leaf node"),g=gd(r,m)}g=g,p=t.filter.updateFullNode(d,g,a)}else{const g=ie(n);let m=vd(r,g,e.serverCache);m==null&&e.serverCache.isCompleteForChild(g)&&(m=d.getImmediateChild(g)),m!=null?p=t.filter.updateChild(d,g,m,me(n),h,a):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,V.EMPTY_NODE,me(n),h,a):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Ka(r,ki(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,a)))}return u=e.serverCache.isFullyInitialized()||qa(r,ue())!=null,gs(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new fd(r.getIndex()),a=cT(r);this.processor_=zT(a);const u=n.serverCache,h=n.eventCache,d=s.updateFullNode(V.EMPTY_NODE,u.getNode(),null),p=a.updateFullNode(V.EMPTY_NODE,h.getNode(),null),g=new Yn(d,u.isFullyInitialized(),s.filtersNodes()),m=new Yn(p,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=El(m,g),this.eventGenerator_=new gT(this.query_)}get query(){return this.query_}}function $T(t){return t.viewCache_.serverCache.getNode()}function GT(t){return Ga(t.viewCache_)}function KT(t,e){const n=ki(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(ie(e)).isEmpty())?n.getChild(e):null}function B_(t){return t.eventRegistrations_.length===0}function qT(t,e){t.eventRegistrations_.push(e)}function U_(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(n,s);u&&r.push(u)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const u=t.eventRegistrations_[a];if(!u.matches(e))s.push(u);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function W_(t,e,n,r){e.type===Ht.MERGE&&e.source.queryId!==null&&(O(ki(t.viewCache_),"We should always have a full cache before handling merges"),O(Ga(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=BT(t.processor_,s,e,n,r);return FT(t.processor_,a.viewCache),O(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,ky(t,a.changes,a.viewCache.eventCache.getNode(),null)}function YT(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ie,(a,u)=>{r.push(Er(a,u))}),n.isFullyInitialized()&&r.push(my(n.getNode())),ky(t,r,n.getNode(),e)}function ky(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return vT(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa;class Iy{constructor(){this.views=new Map}}function QT(t){O(!Qa,"__referenceConstructor has already been defined"),Qa=t}function XT(){return O(Qa,"Reference.ts has not been loaded"),Qa}function JT(t){return t.views.size===0}function wd(t,e,n,r){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return O(a!=null,"SyncTree gave us an op for an invalid query."),W_(a,e,n,r)}else{let a=[];for(const u of t.views.values())a=a.concat(W_(u,e,n,r));return a}}function Ly(t,e,n,r,s){const a=e._queryIdentifier,u=t.views.get(a);if(!u){let h=Ka(n,s?r:null),d=!1;h?d=!0:r instanceof V?(h=gd(n,r),d=!1):(h=V.EMPTY_NODE,d=!1);const p=El(new Yn(h,d,!1),new Yn(r,s,!1));return new VT(e,p)}return u}function eP(t,e,n,r,s,a){const u=Ly(t,e,r,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),qT(u,n),YT(u,n)}function tP(t,e,n,r){const s=e._queryIdentifier,a=[];let u=[];const h=Qn(t);if(s==="default")for(const[d,p]of t.views.entries())u=u.concat(U_(p,n,r)),B_(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||a.push(p.query));else{const d=t.views.get(s);d&&(u=u.concat(U_(d,n,r)),B_(d)&&(t.views.delete(s),d.query._queryParams.loadsAllData()||a.push(d.query)))}return h&&!Qn(t)&&a.push(new(XT())(e._repo,e._path)),{removed:a,events:u}}function Ny(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $n(t,e){let n=null;for(const r of t.views.values())n=n||KT(r,e);return n}function My(t,e){if(e._queryParams.loadsAllData())return xl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Ry(t,e){return My(t,e)!=null}function Qn(t){return xl(t)!=null}function xl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;function nP(t){O(!Xa,"__referenceConstructor has already been defined"),Xa=t}function iP(){return O(Xa,"Reference.ts has not been loaded"),Xa}let rP=1;class H_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=OT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sP(t,e,n,r,s){return ET(t.pendingWriteTree_,e,n,r,s),s?lo(t,new Pi(vy(),e,n)):[]}function nr(t,e,n=!1){const r=ST(t.pendingWriteTree_,e);if(xT(t.pendingWriteTree_,e)){let a=new we(null);return r.snap!=null?a=a.set(ue(),!0):mt(r.children,u=>{a=a.set(new de(u),!0)}),lo(t,new $a(r.path,a,n))}else return[]}function ao(t,e,n){return lo(t,new Pi(_d(),e,n))}function oP(t,e,n){const r=we.fromObject(n);return lo(t,new Vs(_d(),e,r))}function aP(t,e){return lo(t,new Zs(_d(),e))}function lP(t,e,n){const r=Cd(t,n);if(r){const s=Ed(r),a=s.path,u=s.queryId,h=rt(a,e),d=new Zs(md(u),h);return Sd(t,a,d)}else return[]}function Oy(t,e,n,r,s=!1){const a=e._path,u=t.syncPointTree_.get(a);let h=[];if(u&&(e._queryIdentifier==="default"||Ry(u,e))){const d=tP(u,e,n,r);JT(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const p=d.removed;if(h=d.events,!s){const g=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(a,(v,E)=>Qn(E));if(g&&!m){const v=t.syncPointTree_.subtree(a);if(!v.isEmpty()){const E=dP(v);for(let T=0;T<E.length;++T){const P=E[T],W=P.query,C=Fy(t,P);t.listenProvider_.startListening(ys(W),$s(t,W),C.hashFn,C.onComplete)}}}!m&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(ys(e),null):p.forEach(v=>{const E=t.queryToTagMap.get(Tl(v));t.listenProvider_.stopListening(ys(v),E)}))}fP(t,p)}return h}function Ay(t,e,n,r){const s=Cd(t,r);if(s!=null){const a=Ed(s),u=a.path,h=a.queryId,d=rt(u,e),p=new Pi(md(h),d,n);return Sd(t,u,p)}else return[]}function uP(t,e,n,r){const s=Cd(t,r);if(s){const a=Ed(s),u=a.path,h=a.queryId,d=rt(u,e),p=we.fromObject(n),g=new Vs(md(h),d,p);return Sd(t,u,g)}else return[]}function cP(t,e,n,r=!1){const s=e._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(s,(v,E)=>{const T=rt(v,s);a=a||$n(E,T),u=u||Qn(E)});let h=t.syncPointTree_.get(s);h?(u=u||Qn(h),a=a||$n(h,ue())):(h=new Iy,t.syncPointTree_=t.syncPointTree_.set(s,h));let d;a!=null?d=!0:(d=!1,a=V.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((E,T)=>{const P=$n(T,ue());P&&(a=a.updateImmediateChild(E,P))}));const p=Ry(h,e);if(!p&&!e._queryParams.loadsAllData()){const v=Tl(e);O(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=pP();t.queryToTagMap.set(v,E),t.tagToQueryMap.set(E,v)}const g=Sl(t.pendingWriteTree_,s);let m=eP(h,e,n,g,a,d);if(!p&&!u&&!r){const v=My(h,e);m=m.concat(_P(t,e,v))}return m}function Dy(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,h)=>{const d=rt(u,e),p=$n(h,d);if(p)return p});return Ey(s,e,a,n,!0)}function hP(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(p,g)=>{const m=rt(p,n);r=r||$n(g,m)});let s=t.syncPointTree_.get(n);s?r=r||$n(s,ue()):(s=new Iy,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=r!=null,u=a?new Yn(r,!0,!1):null,h=Sl(t.pendingWriteTree_,e._path),d=Ly(s,e,h,a?u.getNode():V.EMPTY_NODE,a);return GT(d)}function lo(t,e){return by(e,t.syncPointTree_,null,Sl(t.pendingWriteTree_,ue()))}function by(t,e,n,r){if(te(t.path))return zy(t,e,n,r);{const s=e.get(ue());n==null&&s!=null&&(n=$n(s,ue()));let a=[];const u=ie(t.path),h=t.operationForChild(u),d=e.children.get(u);if(d&&h){const p=n?n.getImmediateChild(u):null,g=Sy(r,u);a=a.concat(by(h,d,p,g))}return s&&(a=a.concat(wd(s,t,r,n))),a}}function zy(t,e,n,r){const s=e.get(ue());n==null&&s!=null&&(n=$n(s,ue()));let a=[];return e.children.inorderTraversal((u,h)=>{const d=n?n.getImmediateChild(u):null,p=Sy(r,u),g=t.operationForChild(u);g&&(a=a.concat(zy(g,h,d,p)))}),s&&(a=a.concat(wd(s,t,r,n))),a}function Fy(t,e){const n=e.query,r=$s(t,n);return{hashFn:()=>($T(e)||V.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?lP(t,n._path,r):aP(t,n._path);{const a=ux(s,n);return Oy(t,n,null,a)}}}}function $s(t,e){const n=Tl(e);return t.queryToTagMap.get(n)}function Tl(t){return t._path.toString()+"$"+t._queryIdentifier}function Cd(t,e){return t.tagToQueryMap.get(e)}function Ed(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function Sd(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const s=Sl(t.pendingWriteTree_,e);return wd(r,n,s,null)}function dP(t){return t.fold((e,n,r)=>{if(n&&Qn(n))return[xl(n)];{let s=[];return n&&(s=Ny(n)),mt(r,(a,u)=>{s=s.concat(u)}),s}})}function ys(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(iP())(t._repo,t._path):t}function fP(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Tl(r),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function pP(){return rP++}function _P(t,e,n){const r=e._path,s=$s(t,e),a=Fy(t,n),u=t.listenProvider_.startListening(ys(e),s,a.hashFn,a.onComplete),h=t.syncPointTree_.subtree(r);if(s)O(!Qn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((p,g,m)=>{if(!te(p)&&g&&Qn(g))return[xl(g).query];{let v=[];return g&&(v=v.concat(Ny(g).map(E=>E.query))),mt(m,(E,T)=>{v=v.concat(T)}),v}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(ys(g),$s(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new xd(n)}node(){return this.node_}}class Td{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new Td(this.syncTree_,n)}node(){return Dy(this.syncTree_,this.path_)}}const mP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},j_=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return vP(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},vP=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const u=s.getValue();return typeof u!="number"?r:u+r},yP=function(t,e,n,r){return Pd(e,new Td(n,t),r)},wP=function(t,e,n){return Pd(t,new xd(e),n)};function Pd(t,e,n){const r=t.getPriority().val(),s=j_(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,h=j_(u.getValue(),e,n);return h!==u.getValue()||s!==u.getPriority().val()?new We(h,Ke(s)):t}else{const u=t;return a=u,s!==u.getPriority().val()&&(a=a.updatePriority(new We(s))),u.forEachChild(Ie,(h,d)=>{const p=Pd(d,e.getImmediateChild(h),n);p!==d&&(a=a.updateImmediateChild(h,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Id(t,e){let n=e instanceof de?e:new de(e),r=t,s=ie(n);for(;s!==null;){const a=wr(r.node.children,s)||{children:{},childCount:0};r=new kd(s,r,a),n=me(n),s=ie(n)}return r}function Nr(t){return t.node.value}function By(t,e){t.node.value=e,sh(t)}function Uy(t){return t.node.childCount>0}function CP(t){return Nr(t)===void 0&&!Uy(t)}function Pl(t,e){mt(t.node.children,(n,r)=>{e(new kd(n,t,r))})}function Wy(t,e,n,r){n&&!r&&e(t),Pl(t,s=>{Wy(s,e,!0,r)}),n&&r&&e(t)}function EP(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function uo(t){return new de(t.parent===null?t.name:uo(t.parent)+"/"+t.name)}function sh(t){t.parent!==null&&SP(t.parent,t.name,t)}function SP(t,e,n){const r=CP(n),s=En(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,sh(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,sh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=/[\[\].#$\/\u0000-\u001F\u007F]/,TP=/[\[\].#$\u0000-\u001F\u007F]/,Vu=10*1024*1024,Hy=function(t){return typeof t=="string"&&t.length!==0&&!xP.test(t)},jy=function(t){return typeof t=="string"&&t.length!==0&&!TP.test(t)},PP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jy(t)},Zy=function(t,e,n){const r=n instanceof de?new Hx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hi(r));if(typeof e=="function")throw new Error(t+"contains a function "+hi(r)+" with contents = "+e.toString());if(Bv(e))throw new Error(t+"contains "+e.toString()+" "+hi(r));if(typeof e=="string"&&e.length>Vu/3&&wl(e)>Vu)throw new Error(t+"contains a string greater than "+Vu+" utf8 bytes "+hi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(mt(e,(u,h)=>{if(u===".value")s=!0;else if(u!==".priority"&&u!==".sv"&&(a=!0,!Hy(u)))throw new Error(t+" contains an invalid key ("+u+") "+hi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jx(r,u),Zy(t,h,r),Zx(r)}),s&&a)throw new Error(t+' contains ".value" child '+hi(r)+" in addition to actual children.")}},Vy=function(t,e,n,r){if(!(r&&n===void 0)&&!jy(n))throw new Error(Lv(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kP=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vy(t,e,n,r)},IP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PP(n))throw new Error(Lv(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function NP(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],a=s.getPath();n!==null&&!uy(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function ti(t,e,n){NP(t,n),MP(t,r=>Wt(r,e)||Wt(e,r))}function MP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const a=s.path;e(a)?(RP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function RP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();vi&&et("event: "+n.toString()),so(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="repo_interrupt",AP=25;class DP{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Va(),this.transactionQueueTree_=new kd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bP(t,e,n){if(t.stats_=ud(t.repoInfo_),t.forceRestClient_||fx())t.server_=new Za(t.repoInfo_,(r,s,a,u)=>{Z_(t,r,s,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>V_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _n(t.repoInfo_,e,(r,s,a,u)=>{Z_(t,r,s,a,u)},r=>{V_(t,r)},r=>{FP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=vx(t.repoInfo_,()=>new mT(t.stats_,t.server_)),t.infoData_=new hT,t.infoSyncTree_=new H_({startListening:(r,s,a,u)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=ao(t.infoSyncTree_,r._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),Ld(t,"connected",!1),t.serverSyncTree_=new H_({startListening:(r,s,a,u)=>(t.server_.listen(r,a,s,(h,d)=>{const p=u(h,d);ti(t.eventQueue_,r._path,p)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function zP(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $y(t){return mP({timestamp:zP(t)})}function Z_(t,e,n,r,s){t.dataUpdateCount++;const a=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(s)if(r){const d=Fa(n,p=>Ke(p));u=uP(t.serverSyncTree_,a,d,s)}else{const d=Ke(n);u=Ay(t.serverSyncTree_,a,d,s)}else if(r){const d=Fa(n,p=>Ke(p));u=oP(t.serverSyncTree_,a,d)}else{const d=Ke(n);u=ao(t.serverSyncTree_,a,d)}let h=a;u.length>0&&(h=Rd(t,a)),ti(t.eventQueue_,h,u)}function V_(t,e){Ld(t,"connected",e),e===!1&&WP(t)}function FP(t,e){mt(e,(n,r)=>{Ld(t,n,r)})}function Ld(t,e,n){const r=new de("/.info/"+e),s=Ke(n);t.infoData_.updateSnapshot(r,s);const a=ao(t.infoSyncTree_,r,s);ti(t.eventQueue_,r,a)}function BP(t){return t.nextWriteId_++}function UP(t,e,n){const r=hP(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const a=Ke(s).withIndex(e._queryParams.getIndex());cP(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=ao(t.serverSyncTree_,e._path,a);else{const h=$s(t.serverSyncTree_,e);u=Ay(t.serverSyncTree_,e._path,a,h)}return ti(t.eventQueue_,e._path,u),Oy(t.serverSyncTree_,e,n,null,!0),a},s=>(Nd(t,"get for query "+be(e)+" failed: "+s),Promise.reject(new Error(s))))}function WP(t){Nd(t,"onDisconnectEvents");const e=$y(t),n=Va();eh(t.onDisconnect_,ue(),(s,a)=>{const u=yP(s,a,t.serverSyncTree_,e);gy(n,s,u)});let r=[];eh(n,ue(),(s,a)=>{r=r.concat(ao(t.serverSyncTree_,s,a));const u=VP(t,s);Rd(t,u)}),t.onDisconnect_=Va(),ti(t.eventQueue_,ue(),r)}function HP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(OP)}function Nd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function Gy(t,e,n){return Dy(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Md(t,e=t.transactionQueueTree_){if(e||kl(t,e),Nr(e)){const n=qy(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&jP(t,uo(e),n)}else Uy(e)&&Pl(e,n=>{Md(t,n)})}function jP(t,e,n){const r=n.map(p=>p.currentWriteId),s=Gy(t,e,r);let a=s;const u=s.hash();for(let p=0;p<n.length;p++){const g=n[p];O(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const m=rt(e,g.path);a=a.updateChild(m,g.currentOutputSnapshotRaw)}const h=a.val(!0),d=e;t.server_.put(d.toString(),h,p=>{Nd(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const m=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(nr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&m.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();kl(t,Id(t.transactionQueueTree_,e)),Md(t,t.transactionQueueTree_),ti(t.eventQueue_,e,g);for(let v=0;v<m.length;v++)so(m[v])}else{if(p==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{wt("transaction at "+d.toString()+" failed: "+p);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=p}Rd(t,e)}},u)}function Rd(t,e){const n=Ky(t,e),r=uo(n),s=qy(t,n);return ZP(t,s,r),r}function ZP(t,e,n){if(e.length===0)return;const r=[];let s=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=rt(n,d.path);let g=!1,m;if(O(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,m=d.abortReason,s=s.concat(nr(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=AP)g=!0,m="maxretry",s=s.concat(nr(t.serverSyncTree_,d.currentWriteId,!0));else{const v=Gy(t,d.path,u);d.currentInputSnapshot=v;const E=e[h].update(v.val());if(E!==void 0){Zy("transaction failed: Data returned ",E,d.path);let T=Ke(E);typeof E=="object"&&E!=null&&En(E,".priority")||(T=T.updatePriority(v.getPriority()));const W=d.currentWriteId,C=$y(t),w=wP(T,v,C);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=w,d.currentWriteId=BP(t),u.splice(u.indexOf(W),1),s=s.concat(sP(t.serverSyncTree_,d.path,w,d.currentWriteId,d.applyLocally)),s=s.concat(nr(t.serverSyncTree_,W,!0))}else g=!0,m="nodata",s=s.concat(nr(t.serverSyncTree_,d.currentWriteId,!0))}ti(t.eventQueue_,n,s),s=[],g&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(m==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(m),!1,null))))}kl(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)so(r[h]);Md(t,t.transactionQueueTree_)}function Ky(t,e){let n,r=t.transactionQueueTree_;for(n=ie(e);n!==null&&Nr(r)===void 0;)r=Id(r,n),e=me(e),n=ie(e);return r}function qy(t,e){const n=[];return Yy(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Yy(t,e,n){const r=Nr(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Pl(e,s=>{Yy(t,s,n)})}function kl(t,e){const n=Nr(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,By(e,n.length>0?n:void 0)}Pl(e,r=>{kl(t,r)})}function VP(t,e){const n=uo(Ky(t,e)),r=Id(t.transactionQueueTree_,e);return EP(r,s=>{$u(t,s)}),$u(t,r),Wy(r,s=>{$u(t,s)}),n}function $u(t,e){const n=Nr(e);if(n){const r=[];let s=[],a=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(O(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):(O(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),s=s.concat(nr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&r.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));a===-1?By(e,void 0):n.length=a+1,ti(t.eventQueue_,uo(e),s);for(let u=0;u<r.length;u++)so(r[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function GP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const $_=function(t,e){const n=KP(t),r=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Qv(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new de(n.pathString)}},KP=function(t){let e="",n="",r="",s="",a="",u=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(g,m)),g<m&&(s=$P(t.substring(g,m)));const v=GP(t.substring(Math.min(t.length,m)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const E=e.slice(0,p);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),a=r}"ns"in v&&(a=v.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:u,scheme:h,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class YP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return te(this._path)?null:oy(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const e=M_(this._queryParams),n=ad(e);return n==="{}"?"default":n}get _queryObject(){return M_(this._queryParams)}isEqual(e){if(e=no(e),!(e instanceof Od))return!1;const n=this._repo===e._repo,r=uy(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Wx(this._path)}}class Sn extends Od{constructor(e,n){super(e,n,new pd,!1)}get parent(){const e=ly(this._path);return e===null?null:new Sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Gs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),r=Ja(this.ref,e);return new Gs(this._node.getChild(n),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Gs(s,Ja(this.ref,r),Ie)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function XP(t,e){return t=no(t),t._checkNotDeleted("ref"),e!==void 0?Ja(t._root,e):t._root}function Ja(t,e){return t=no(t),ie(t._path)===null?kP("child","path",e,!1):Vy("child","path",e,!1),new Sn(t._repo,ze(t._path,e))}function JP(t){t=no(t);const e=new QP(()=>{}),n=new Ad(e);return UP(t._repo,t,n).then(r=>new Gs(r,new Sn(t._repo,t._path),t._queryParams.getIndex()))}class Ad{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new qP("value",this,new Gs(e.snapshotNode,new Sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new YP(this,e,n):null}matches(e){return e instanceof Ad?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}QT(Sn);nP(Sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="FIREBASE_DATABASE_EMULATOR_HOST",oh={};let tk=!1;function nk(t,e,n,r){t.repoInfo_=new Qv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function ik(t,e,n,r,s){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=$_(a,s),h=u.repoInfo,d,p;typeof process<"u"&&process.env&&(p=process.env[ek]),p?(d=!0,a=`http://${p}?ns=${h.namespace}`,u=$_(a,s),h=u.repoInfo):d=!u.repoInfo.secure;const g=s&&d?new hr(hr.OWNER):new _x(t.name,t.options,e);IP("Invalid Firebase Database URL",u),te(u.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const m=sk(h,t,g,new px(t.name,n));return new ok(m,t)}function rk(t,e){const n=oh[e];(!n||n[t.key]!==t)&&wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HP(t),delete n[t.key]}function sk(t,e,n,r){let s=oh[e.name];s||(s={},oh[e.name]=s);let a=s[t.toURLString()];return a&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new DP(t,tk,n,r),s[t.toURLString()]=a,a}class ok{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}}function ak(t=j1(),e){const n=B1(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=MS("database");r&&lk(n,...r)}return n}function lk(t,e,n,r={}){t=no(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new hr(hr.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:RS(r.mockUserToken,t.app.options.projectId);a=new hr(u)}nk(s,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){J1(H1),Ua(new Fs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return ik(r,s,a,n)},"PUBLIC").setMultipleInstances(!0)),ur(p_,__,t),ur(p_,__,"esm2017")}_n.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_n.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};uk();var ck="firebase",hk="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(ck,hk,"app");var dk=class extends Error{constructor(e){super(e[0].message);$f(this,"issues");this.name="ValiError",this.issues=e}};function Il(t){return{issues:t}}function el(t){return{output:t}}function fk(t,e){return{reason:t==null?void 0:t.reason,validation:e.validation,origin:(t==null?void 0:t.origin)||"value",message:e.message,input:e.input,path:e.path,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}}function pk(t,e){return{reason:e,origin:t==null?void 0:t.origin,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}}function co(t,e,n,r){if(!e||!e.length||n!=null&&n.skipPipe)return el(t);let s,a,u=t;for(const h of e){const d=h._parse(u);if(d.issues){s=s||pk(n,r);for(const p of d.issues){const g=fk(s,p);a?a.push(g):a=[g]}if(s.abortEarly||s.abortPipeEarly)break}else u=d.output}return a?Il(a):el(u)}function xr(t,e){return Array.isArray(t)?[void 0,t]:[t,e]}function Qy(t){return typeof t=="function"?t():t}function _k(t,e,n,r){return Il([{validation:t,message:Qy(e),input:n,requirement:r}])}function mk(t,e,n){if(!t||typeof t=="object"&&!Array.isArray(t)){const[a,u]=xr(e,n);return[t,a,u]}const[r,s]=xr(t,e);return[void 0,r,s]}function ho(t,e,n,r,s,a){return{issues:[{reason:e,validation:n,origin:(t==null?void 0:t.origin)||"value",message:Qy(r),input:s,issues:a,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}]}}function gk(t){return typeof t.default=="function"?t.default():t.default}function ha(t,e,n){const[r="Invalid type",s]=xr(e,n);return{type:"array",async:!1,item:t,message:r,pipe:s,_parse(a,u){if(!Array.isArray(a))return ho(u,"type","array",this.message,a);let h;const d=[];for(let p=0;p<a.length;p++){const g=a[p],m=this.item._parse(g,u);if(m.issues){const v={type:"array",input:a,key:p,value:g};for(const E of m.issues)E.path?E.path.unshift(v):E.path=[v],h==null||h.push(E);if(h||(h=m.issues),u!=null&&u.abortEarly)break}else d.push(m.output)}return h?Il(h):co(d,this.pipe,u,"array")}}}function vk(t,e){const[n="Invalid type",r]=xr(t,e);return{type:"boolean",async:!1,message:n,pipe:r,_parse(s,a){return typeof s!="boolean"?ho(a,"type","boolean",this.message,s):co(s,this.pipe,a,"boolean")}}}function Xo(t,e){const[n="Invalid type",r]=xr(t,e);return{type:"number",async:!1,message:n,pipe:r,_parse(s,a){return typeof s!="number"||isNaN(s)?ho(a,"type","number",this.message,s):co(s,this.pipe,a,"number")}}}function Gu(t,e,n,r){const[s,a="Invalid type",u]=mk(e,n,r);let h;return{type:"object",async:!1,entries:t,rest:s,message:a,pipe:u,_parse(d,p){if(!d||typeof d!="object")return ho(p,"type","object",this.message,d);h=h||Object.entries(this.entries);let g;const m={};for(const[v,E]of h){const T=d[v],P=E._parse(T,p);if(P.issues){const W={type:"object",input:d,key:v,value:T};for(const C of P.issues)C.path?C.path.unshift(W):C.path=[W],g==null||g.push(C);if(g||(g=P.issues),p!=null&&p.abortEarly)break}else(P.output!==void 0||v in d)&&(m[v]=P.output)}if(this.rest&&!(p!=null&&p.abortEarly&&g)){for(const v in d)if(!(v in this.entries)){const E=d[v],T=this.rest._parse(E,p);if(T.issues){const P={type:"object",input:d,key:v,value:E};for(const W of T.issues)W.path?W.path.unshift(P):W.path=[P],g==null||g.push(W);if(g||(g=T.issues),p!=null&&p.abortEarly)break}else m[v]=T.output}}return g?Il(g):co(m,this.pipe,p,"object")}}}function G_(t,e){return{type:"optional",async:!1,wrapped:t,default:e,_parse(n,r){if(n===void 0){const s=gk(this);if(s===void 0)return el(n);n=s}return this.wrapped._parse(n,r)}}}function In(t,e){const[n="Invalid type",r]=xr(t,e);return{type:"string",async:!1,message:n,pipe:r,_parse(s,a){return typeof s!="string"?ho(a,"type","string",this.message,s):co(s,this.pipe,a,"string")}}}function yk(t,e,n){const r=t._parse(e,n);if(r.issues)throw new dk(r.issues);return r.output}function wk(t,e="Invalid input"){return{type:"custom",async:!1,message:e,requirement:t,_parse(n){return this.requirement(n)?el(n):_k(this.type,this.message,n,this.requirement)}}}const Ck=Gu({name:In(),contact:In(),website:In(),logo:In(),description:In(),headquarter:In(),locationsServed:G_(ha(In())),global:vk(),tags:ha(In()),headquarterCoordinates:Gu({lat:Xo(),lng:Xo()}),locationsServedCoordinates:G_(ha(Gu({lat:Xo(),lng:Xo()})))},[wk(t=>!(t.global==!1&&t.locationsServed==null),"If global is false, locationsServed must be defined")]),Ek=ha(Ck);async function Sk(t){const e=await JP(Ja(t,"/"));if(e.exists())try{return yk(Ek,e.val(),{abortEarly:!0})}catch(n){return console.error(`Data failed to parse
`,n),[]}else return console.error("No data available"),[]}const xk=()=>{const t=Ov({apiKey:{}.VITE_FIREBASE_API_KEY,authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN,databaseURL:{}.VITE_FIREBASE_DATABASE_URL,projectId:{}.VITE_FIREBASE_PROJECT_ID,storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:{}.VITE_FIREBASE_APP_ID,measurementId:{}.VITE_FIREBASE_MEASUREMENT_ID}),e=XP(ak(t)),n={}.VITE_STADIA_KEY,[r,s]=$.useState([]);return $.useEffect(()=>{Sk(e).then(s).catch(a=>{console.error(a)})},[e]),D.jsxs("div",{className:"relative h-full",children:[D.jsx("div",{className:" header-drop absolute left-0 right-0 top-0 z-[1000] flex justify-end p-5",children:D.jsx("img",{src:"att-logo.png",alt:"Harvard Logo",className:"h-20 drop-shadow invert filter"})}),D.jsx(CS,{apiKey:n,stakeholders:r})]})};Ku.createRoot(document.getElementById("root")).render(D.jsx(Jt.StrictMode,{children:D.jsx(xk,{})}));
